(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[5660],{51786:(e,n,t)=>{"use strict";t.d(n,{o:()=>u});var o=t(66029),r=t(69652),i=t(34420),l=t(90553),s=t(39317);function u(e,n){const t=(0,s.uo)(e),[{drillthroughColumns:u,isLoading:a,error:c},d]=(0,o.useState)(t?.drillthroughColumns?.[n]??{isLoading:!1});if((0,r.useAsyncAbortable)((async e=>{if(t&&!u){d({isLoading:!0});try{const o=await(0,i.getCubeDrillthroughColumns)(t,n,{signal:e});d({drillthroughColumns:o,isLoading:!1})}catch(n){if(!e.aborted){const e=(0,l.b)(n);d({isLoading:!1,error:e})}}}}),[t,u,n]),void 0!==e&&void 0!==t)return[u,{isLoading:a,error:c}]}},69676:(e,n,t)=>{"use strict";t.d(n,{a:()=>l});var o=t(77026),r=t(66029),i=t(39317);function l({serverKey:e,queryId:n}){const t=(0,i.uo)(e),l=(0,r.useCallback)((e=>t&&n?(t.addQueryListener(n,e),()=>{t.removeQueryListener(n,e)}):o.noop),[t,n]);return(0,r.useSyncExternalStore)(l,(()=>t&&n?t.getQuery(n):void 0))}},65942:(e,n,t)=>{"use strict";t.d(n,{W:()=>i});var o=t(14618),r=t(95326);function i(e,n){return(0,o.produce)(e,(t=>{const o=n.key||(0,r.A)(e.pagesOrder);t.pagesOrder.splice(n.index??t.pagesOrder.length,0,o),t.pages[o]=n.page}))}},95326:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var o=t(77026);const r=e=>parseInt(e.substring(2));function i(e){const n=(0,o.maxBy)(e,r);return`p-${n?r(n)+1:0}`}},72119:(e,n,t)=>{"use strict";function o(e){return"dimension"===e.type}t.d(n,{D:()=>o})},62449:(e,n,t)=>{"use strict";function o(e){return"hierarchy"===e.type}t.d(n,{N:()=>o})},57414:(e,n,t)=>{"use strict";function o(e){return"level"===e.type}t.d(n,{h:()=>o})},66104:(e,n,t)=>{"use strict";function o({dimension:e,hierarchy:n,level:t}){if(t&&n)return{dimensionName:e.name,hierarchyName:n.name,levelName:t.name};if(n){const t=n.slicing?0:1;return o({dimension:e,hierarchy:n,level:Object.values(n.levels)[t]})}const r=e.defaultHierarchy;return o({dimension:e,hierarchy:e.hierarchies[r]})}t.d(n,{x:()=>o})},91833:(e,n,t)=>{"use strict";t.d(n,{A:()=>R});var o=t(93388),r=t(81292),i=t(9617),l=t(66029),s=t(93481),u=t(84138),a=t(79755),c=t(78089),d=t(69676),f=t(63310),m=t(82462),h=t(5848),p=t(15284),g=t(31566),y=t(93560),b=t(27705),w=t(56883),v=t(23893),C=t(90553),x=t(15169),O=t(99856);function I(e,{type:n,payload:{mdxString:t,dashboardState:o,pageKey:r,leafKey:i,widgetState:l,widgetPlugin:s,dataModels:u,lastUsedCube:a}}){if("updateMdxString"===n)try{const e=(0,y.Q)(t),{widgetStateDerivedFromMdx:n,dashboardStateDerivedFromMdx:c}=(0,O.deriveStateFromMdx)({mdx:e,dashboardState:o,pageKey:r,leafKey:i,dataModels:u,widgetState:l,widgetPlugin:s,lastUsedCube:a,shouldRemoveFiltersFromQuery:!1});return{mdxString:t,widgetStateDerivedFromMdx:n,dashboardStateDerivedFromMdx:c}}catch(e){return{mdxString:t,error:(0,C.b)(e)}}}const R=e=>{const{widgetState:n,queryId:t,onWidgetChange:y}=e,[C]=(0,a.X)("lastUsedCube"),{dashboardState:R,leafKey:S,pageKey:H,onDashboardChange:z}=(0,u.F)(e)?e:{},F=(0,O.useSwitchedWidgetState)(n,t),[E]=(0,v.useWidgetPlugins)([F.widgetKey]),W=(0,c.T)(),{formatMessage:M}=(0,s.useIntl)(),T=F.serverKey,N=(0,d.a)({serverKey:T,queryId:t}),[P,D]=(0,l.useReducer)(I,{mdxString:N?.mdx}),{cube:B,dataModel:k}=(0,l.useMemo)((()=>{const e=P.widgetStateDerivedFromMdx??F,n=e.query.mdx?(0,b.p)(e.query.mdx):void 0;return(0,O.getTargetCube)({serverKey:e.serverKey,dataModels:W,cubeName:n,lastUsedCube:C})}),[P.widgetStateDerivedFromMdx,F,W,C]),Z=N?.context?.["mdx.casesensitive"]??B.contextValues["mdx.casesensitive"]?.value,L=void 0===Z||"true"===Z,_=(0,l.useCallback)((e=>{D({type:"updateMdxString",payload:{mdxString:e,dashboardState:R,pageKey:H,leafKey:S,widgetState:F,widgetPlugin:E,dataModels:W,lastUsedCube:C}})}),[R,H,S,F,E,W,C]),A=N?.mdx??"";(0,l.useEffect)((()=>{_(A)}),[A,_]);const j=(0,l.useCallback)((()=>{P.error||(z&&P.dashboardStateDerivedFromMdx?z(P.dashboardStateDerivedFromMdx):P.widgetStateDerivedFromMdx&&y(P.widgetStateDerivedFromMdx))}),[P.widgetStateDerivedFromMdx,P.dashboardStateDerivedFromMdx,y,z,P.error]),K=(0,l.useCallback)((()=>{_(A)}),[A,_]),$=(0,l.useMemo)((()=>P.mdxString!==A),[P.mdxString,A]),[q,V]=(0,l.useMemo)((()=>{if(!$)return[!1,M({id:"aui.mdxEditor.hover.noChanges"})];if(P.error){let e;if(P.error instanceof O.InvalidMdxTypeError)e=M({id:"aui.mdxEditor.hover.invalidMdxType"});else if(P.error instanceof f.s){const{cubeName:n,availableCubeNames:t}=P.error;e=`${M({id:"aui.error.cubeNotFound"})}: "${n}". ${M({id:"aui.mdxEditor.hover.availableCubesAre"})}: ${JSON.stringify(t)}`}else if(P.error instanceof m.B){const{dimensionName:n,cubeName:t}=P.error;e=`${M({id:"aui.mdxEditor.hover.dimensionNotFound"})} ${M({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${t}": "${n}".`}else if(P.error instanceof h.K){const{hierarchyCoordinates:n,cubeName:t}=P.error;e=`${M({id:"aui.mdxEditor.hover.hierarchyNotFound"})} ${M({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${t}": "${(0,w.mW)(n.dimensionName,n.hierarchyName)}".`}else if(P.error instanceof p.i){const{levelCoordinates:n,cubeName:t}=P.error;e=`${M({id:"aui.mdxEditor.hover.levelNotFound"})} ${M({id:"aui.mdxEditor.hover.inTheDataModelOfCube"})} "${t}": "${(0,w.mW)(n.dimensionName,n.hierarchyName,n.levelName)}".`}else P.error instanceof O.MdxInconsistentWithDashboardOrPageFiltersError?e=M({id:"aui.mdxEditor.hover.filtersChanged"}):(e=M({id:"aui.mdxEditor.hover.invalidMdxQuery"}),console.error(P.error));return[!1,e]}return[!0,void 0]}),[$,P.error,M]);return(0,o.BX)("div",{css:r.css`
        height: 100%;
        display: flex;
        flex-direction: column;
      `,children:[(0,o.tZ)("div",{style:{height:"calc(100% - 28px)"},children:(0,o.tZ)(g.M,{type:"mdx",value:P.mdxString,onChange:_,dataModel:k,cube:B,isCaseSensitive:L})}),(0,o.BX)("div",{css:r.css`
          text-align: right;
          margin-right: 14px;
          height: ${28}px;
        `,children:[(0,o.tZ)(i.Button,{disabled:!$,onClick:K,children:M({id:"aui.mdxEditor.reset"})}),"Â ",(0,o.tZ)(x.Tooltip,{title:V,children:(0,o.tZ)(i.Button,{type:"primary",disabled:!q,onClick:j,children:M({id:"aui.mdxEditor.submit"})})})]})]})}},45030:(e,n,t)=>{"use strict";t.d(n,{j:()=>r});var o=t(93388);const r=({content:e})=>(0,o.tZ)("div",{css:{display:"table"},children:e.map((({left:e,right:n},t)=>(0,o.BX)("div",{css:{display:"table-row"},children:[(0,o.tZ)("div",{css:{display:"table-cell",textAlign:"right",paddingRight:8,color:"#c0c0c0"},children:e}),(0,o.tZ)("div",{css:{display:"table-cell",textAlign:"left",fontWeight:600,overflowWrap:"anywhere"},children:n})]},t)))})},31566:(e,n,t)=>{"use strict";t.d(n,{M:()=>s});var o=t(93388),r=t(66029),i=t(8450);const l={mdx:(0,r.lazy)((()=>Promise.all([t.e(7323),t.e(6577),t.e(1485)]).then(t.bind(t,73787)))),json:(0,r.lazy)((()=>Promise.all([t.e(7323),t.e(6577),t.e(2579)]).then(t.bind(t,11918)))),markdown:(0,r.lazy)((()=>Promise.all([t.e(7323),t.e(6577),t.e(2709)]).then(t.bind(t,13157)))),base:(0,r.lazy)((()=>Promise.all([t.e(7323),t.e(6577),t.e(5656)]).then(t.bind(t,66577))))},s=(0,r.forwardRef)(((e,n)=>{const{type:t,...s}=e,u=(0,r.useMemo)((()=>l[t||"base"]),[t]);return(0,o.tZ)(r.Suspense,{fallback:(0,o.tZ)(i.R,{}),children:(0,o.tZ)(u,{ref:n,...s})})}))},8450:(e,n,t)=>{"use strict";t.d(n,{R:()=>l});var o=t(93388),r=t(81292),i=t(9617);const l=()=>(0,o.tZ)("div",{css:r.css`
      display: flex;
      width: 100%;
      height: 100%;
      justify-content: center;
      align-items: center;
    `,children:(0,o.tZ)(i.Spin,{})})},98094:(e,n,t)=>{"use strict";t.d(n,{W:()=>l});var o=t(77026),r=t(80041),i=t(12821);function l(e){return e.columns?(0,o.compact)(e.columns.map((e=>(0,i.G)(e,"membervalue")&&(0,r.a)(e.arguments[0])?e.arguments[0].identifiers[0].value:void 0))):[]}},63939:(e,n,t)=>{"use strict";t.d(n,{n:()=>r});const o=e=>({elementType:"CompoundIdentifier",type:"unknown",identifiers:e.map((e=>({elementType:"Identifier",value:e,quoting:"QUOTED"})))});function r(e){return[{elementType:"Function",name:"MemberValue",syntax:"Function",arguments:[o([e])]},{elementType:"Function",name:"Caption",syntax:"Function",arguments:[o([e])]}]}},37801:(e,n,t)=>{"use strict";t.d(n,{r:()=>i});var o=t(77026),r=t(63939);function i(e,{drillthroughColumnUniqueNames:n}){return{...e,columns:(0,o.flatMap)(n,r.n)}}},57947:(e,n,t)=>{"use strict";t.d(n,{Nw:()=>s,x_:()=>l});var o=t(66029),r=t(81090);const i=(0,o.createContext)({}),l=i.Provider;function s(e){const n=(0,o.useContext)(i);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell-style",e,n)))),[n,e])}i.Consumer},63406:(e,n,t)=>{"use strict";t.d(n,{J6:()=>s,bB:()=>l});var o=t(66029),r=t(81090);const i=(0,o.createContext)({}),l=i.Provider;function s(e){const n=(0,o.useContext)(i);return(0,o.useMemo)((()=>e.map((e=>void 0===e?void 0:(0,r.s)("cell",e,n)))),[n,e])}i.Consumer},41525:(e,n,t)=>{"use strict";t.d(n,{o:()=>W});var o=t(93388),r=t(64880),i=t(77026),l=t(66029),s=t(34420),u=t(63406),a=t(57947),c=t(23893),d=t(97597),f=t(35037),m=t(36809),h=t(6611),p=t(15169),g=t(99856),y=t(64551),b=t(2445),w=t(67953);const v=(0,l.forwardRef)(((e,n)=>{const t=e.sort?.orderMode,r=e.sort?.drillthroughColumnUniqueName,i=e.value===r&&t,l=i&&"ASC"===t?b.IconNumericAscendingOrder:i&&"DESC"===t?b.IconNumericDescendingOrder:void 0;return(0,o.BX)("div",{ref:n,style:{display:"flex",alignItems:"center",...e.style},children:[(0,o.tZ)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:`calc(100% - ${i?"18px":"0px"})`},children:e.caption}),l?(0,o.tZ)(l,{onClick:e.onSortChanged,style:{cursor:"pointer",marginLeft:"auto",height:"100%"}}):(0,o.tZ)("div",{style:{height:"100%",marginLeft:6}})]})}));v.displayName="DefaultDrillthroughHeaderCell";const C=(0,w.f)(v),x=(0,l.forwardRef)(((e,n)=>e.isRowFrozen?(0,o.tZ)(C,{ref:n,...e}):(0,o.tZ)(y.V,{ref:n,...e})));x.displayName="DefaultDrillthroughCell";const O=(0,l.memo)(x);var I=t(81292),R=t(12274);const S=({style:e})=>{const n=(0,R.Fg)();return(0,o.tZ)("div",{style:e,children:(0,o.tZ)("div",{css:{display:"flex",overflow:"hidden"},children:(0,i.range)(4).map((e=>(0,o.BX)("div",{children:[(0,o.tZ)("div",{css:I.css`
                height: 28px;
                overflow: hidden;
                position: relative;
                width: 120px;
                border-right: 1px solid ${n.cellBorderColor};
              `,children:(0,o.tZ)("div",{css:I.css`
                  padding: 4px 4px 3px;
                `})}),(0,o.tZ)("div",{css:I.css`
                height: 196px;
                position: relative;
                border-top: 1px solid ${n.cellBorderColor};
                border-right: 1px solid ${n.cellBorderColor};
              `,children:(0,i.range)(7).map((e=>(0,o.tZ)("div",{css:I.css`
                    font-size: 12px;
                    height: 28px;
                    left: 0px;
                    padding: 4px 4px 3px;
                    position: absolute;
                    top: ${28*e}px;
                    width: 120px;
                    overflow: hidden;
                    background-color: ${e%2==1?n.alternateCellBackgroundColor:"transparent"};
                    border-right: 1px solid ${n.cellBorderColor};
                  `},e)))})]},e)))})})};var H=t(12821),z=t(80041);function F(e,n){const{headers:t,rows:o}=n,r=new Map,i={};e.forEach((({columnHeader:e,body:n})=>{if(n)for(let e=n.rows.from;e<=n.rows.to;e++)for(let i=n.columns.from;i<=n.columns.to;i++){let n=r.get(t[i]);n||(n={},r.set(t[i],n)),n[e]=o[e][i]}e&&t.slice(e.columns.from,e.columns.to+1).forEach(((n,t)=>{i[e.columns.from+t]=n}))}));const l=[];for(const e of r.entries()){const[n,t]=e;l.push({header:n,cells:Object.keys(t).map((e=>parseInt(e))).sort().map((e=>t[e]))})}return{headers:Object.keys(i).map((e=>parseInt(e))).sort().map((e=>i[e])),columns:l}}const E=e=>e,W=e=>{const{queryResult:n,widgetState:t,style:y,onChange:b,onSelectionChange:w}=e,{widgetKey:v,columnWidths:C,sort:x}=t;(0,p.useCallOnLoadedAfterFirstProperRender)(e);const[I]=(0,c.useWidgetPlugins)([v]),[R]=(0,a.Nw)([I.cellStyle]),[W]=(0,u.J6)([I?.cell]),M=(0,l.useCallback)((R?.withCellStyle??E)(W??O),[R]);M.displayName="DrillthroughCell";const T=n.data,{cells:N,headers:P}=(0,l.useMemo)((()=>((e,n)=>{if(!n||!e||!e.mdx)return{cells:void 0,headers:void 0};const t=((e,n)=>{const t={};return(e.columns??[]).forEach(((e,o)=>{if((0,H.G)(e)){const r=e.arguments[0];if(!(0,z.a)(r)||void 0===n.find((e=>e.name===r.identifiers[0].value)))return;const i=r.identifiers[0].value;t[i]||(t[i]={valueIndex:-1});const l=e.name.toLowerCase();"membervalue"===l?t[i].valueIndex=o:"caption"===l&&(t[i].captionIndex=o)}})),t})(e.mdx,n.headers);if((0,i.isEqual)(t,{}))return{cells:void 0,headers:void 0};const o=[];return Object.values(t).forEach((({captionIndex:e,valueIndex:t})=>{const r=n.headers[t];if(r){const t=void 0!==e?n.headers[e].caption:r.caption;o.push({...r,caption:t})}})),{cells:n.rows.map((e=>Object.values(t).map((({captionIndex:n,valueIndex:t})=>{const o=e[t];return{caption:void 0!==n?`${e[n]}`:"object"==typeof o?JSON.stringify(o):`${o}`,value:"number"==typeof o?o:JSON.stringify(o)}})))),headers:o}})(t.query,T?.result)),[t.query,T]),D=(0,l.useMemo)((()=>(P||[]).map((({caption:e})=>({value:e,caption:e})))),[P]),B=(0,l.useMemo)((()=>{if(N&&x){const e=D.findIndex((e=>e?.caption===x.drillthroughColumnUniqueName));if(e>-1)return(0,i.orderBy)(N,[n=>n[e].value],["ASC"===x.orderMode?"asc":"desc"])}}),[N,x,D])??N,k=(0,l.useMemo)((()=>B&&[D,...B]),[D,B]),Z=(0,l.useMemo)((()=>C&&P?Object.entries(C).reduce(((e,[n,t])=>{const o=P.findIndex((e=>e?.caption===n));return-1!==o?{...e,[o]:t}:e}),{}):void 0),[P,C]);if(!n.isLoading&&n.error){if((0,s.isQueryErrorOfType)(n.error,"QueryTimeoutException"))throw new s.QueryTimeoutError(n.error);throw new s.MdxError(n.error)}const L=(0,l.useCallback)((()=>{b({...e.widgetState,sort:{...x,orderMode:"ASC"===x.orderMode?"DESC":"ASC"}})}),[e.widgetState,x,b]),_=(0,p.useCurriedComponent)(M,{headerValues:P||[],onSortChanged:L,sort:x});_.displayName="DrillthroughTableCell";const A=(0,l.useRef)([]),j=(0,l.useRef)(void 0);(0,l.useEffect)((()=>{if(P&&B&&w){const e=j.current,n=F(A.current,{headers:P,rows:B.map((e=>e.map((e=>e.value))))});(0,i.isEqual)(n,e)||(j.current=n,w(n))}}),[P,w,B]);const K=P?n=>{b({...e.widgetState,columnWidths:{...C,...Object.entries(n).reduce(((e,[n,t])=>({...e,[P[parseInt(n)].caption]:t})),{})}})}:void 0,$=P&&B?e=>{if(w){A.current=e;const n=F(e,{headers:P,rows:B.map((e=>e.map((e=>e.value))))});j.current=n,w(n)}}:void 0,q=B?async e=>{const n=(0,d.r)(A.current,{numberOfColumnsInBody:P?.length??0,numberOfFrozenColumns:0,numberOfFrozenRows:1,numberOfRowsInBody:B.length});if(e[h.q?"metaKey":"ctrlKey"]&&"c"===e.key&&n.length>0){const e=n[0];await r.nx([...(0,f.p)(e.columnHeader,(e=>`${D[e]?.value}`)),...(0,f.p)(e.body,((e,n)=>`${B[n][e].value}`))].join("\n"))}}:void 0;return(0,o.tZ)(g.WidgetLoadingOverlay,{isLoading:n.isLoading,children:k?(0,o.tZ)(m.i,{cells:k,style:y,numberOfFrozenRows:1,Cell:_,columnWidths:Z,onColumnsResized:K,onSelectionChanged:$,onKeyDown:q}):(0,o.tZ)(S,{style:e.style})})}},49678:(e,n,t)=>{"use strict";t.d(n,{K:()=>i});var o=t(77026);const r={int:"numeric",double:"numeric",long:"numeric",String:"regular",Object:"regular",LocalDate:"date",LocalDateTime:"date"};function i(e){return(0,o.mapValues)((0,o.groupBy)(e,(({type:e})=>r[e]??"regular")),(e=>(0,o.sortBy)(e,(e=>e.name.toLowerCase()))))}},10665:(e,n,t)=>{"use strict";t.d(n,{o:()=>L});var o=t(93388),r=t(91833),i=t(2445),l=t(99856),s=t(14618),u=t(66029),a=t(93481),c=t(51786),d=t(96278),f=t(66104),m=t(6481),h=t(58171),p=t(73026),g=t(72119),y=t(62449),b=t(57414),w=t(45091),v=t(74602),C=t(55721),x=t(98094),O=t(37801),I=t(15169),R=t(72395);const S=(e,n,t)=>{!e.children&&"drillthroughColumn"===e.type&&n.includes(e.uniqueName)?t.push(e.path):void 0!==e.children&&"drillthroughColumn"!==e.type&&(e.children.forEach((e=>{S(e,n,t)})),e.children.every((e=>t.includes(e.path)))&&t.push(e.path))};var H=t(7378),z=t(214),F=t(67285),E=t(49678);const W=["numeric","regular","date"],M=()=>!0,T=e=>{const{formatMessage:n}=(0,a.useIntl)(),{selectedColumnUniqueNames:t,onSelectedColumnUniqueNamesChange:r,drillthroughColumns:i}=e,l=function(e){const{formatMessage:n}=(0,a.useIntl)(),t=(0,E.K)(e),o=(0,u.useMemo)((()=>W.map(((e,o)=>({type:e,caption:n({id:`aui.drillthrough.columnCategory.${e}`}),isFolder:!0,path:[0,o],children:t[e]?.map(((e,n)=>({caption:e.caption,type:"drillthroughColumn",uniqueName:e.name,isFolder:!1,path:[0,o,n]})))})))),[t,n]);return[{caption:n({id:"aui.selectAll"}),children:o,isFolder:!0,path:[0],type:"root"}]}(i),s=(0,u.useMemo)((()=>((e,n)=>{const t=[];return S(e,n,t),t})(l[0],t)),[l,t]),c=(0,u.useCallback)((e=>{const n=((e,n)=>{const t=(0,H.V)({caption:"root",children:[e]},n),o=[];return(0,z.f)(e,{forEachNode:e=>{"drillthroughColumn"===e.type&&(0,F.A)(e.path,t)&&o.push(e.uniqueName)}}),o})(l[0],e);r(n)}),[l,r]);return(0,o.tZ)(R.m,{style:{minHeight:0},value:l,isSearchVisible:!0,isSelectable:!0,searchPlaceholder:n({id:"aui.drillthrough.columnSearchPlaceholder"}),onSelectedPathsChange:c,hasCheckbox:M,selectedPaths:s})};class N extends Error{constructor(e){super(`The drillthrough column "${e}" could not be found. Has the data model changed since you last run this query?`)}}const P=["widget"];var D=t(41525);const B=()=>{},k="drillthrough-table",Z={query:{updateMode:"once"},widgetKey:k},L={key:k,category:"misc",Component:function(e){const n=(0,u.memo)((n=>{const{serverKey:t,cube:r}=(0,l.useCube)(n.widgetState),{widgetState:i,queryId:s,isDeferred:u}=n,{dashboardState:a,pageKey:c}=(0,l.isWidgetInDashboard)(n)?n:{},d=(0,l.useWidgetQueryResult)({serverKey:t,queryId:s,widgetState:i,dashboardState:a,pageKey:c,cube:r,isDeferred:u});return(0,o.tZ)(e,{...n,queryResult:d,onQueryRangesChanged:B})}));return n.displayName=`withDrillthroughQueryResult(${e.displayName})`,n}((0,l.withWidgetQueryErrorBoundary)(D.o)),contentEditor:e=>{const{cube:n,serverKey:t}=(0,l.useCube)(e.widgetState),{onWidgetChange:r,widgetState:i}=e,[R,{isLoading:S,error:H}]=(0,c.o)(t,n.name),z=(0,l.useFilters)(i),F=(0,l.useMdxInViews)({widgetState:i}),{query:E}=i,W=E?.mdx??(0,l.getDefaultMdxDrillthrough)(n.name),M=(0,u.useMemo)((()=>{if(!W||!R)return[];const e=(0,x.W)(W);return e.forEach((e=>{if(!R.some((n=>n.name===e)))throw new N(e)})),e}),[R,W]),D=(0,u.useCallback)((e=>{if(!E)return;const n=(0,s.produce)(i,(n=>{n.query.mdx=(0,O.r)(W,{drillthroughColumnUniqueNames:e}),n.serverKey=t}));r(n)}),[i,E,t,r,W]),[B,k]=(0,u.useState)(),Z=(0,u.useCallback)((e=>{const n=(0,s.produce)(i,(n=>{n.filters=e.widget}));r(n)}),[r,i]),L=({dragItem:e})=>(0,v.p)(e)||(0,m.x)(e)||(0,h.W)(e)||(0,p.k)(e),_=({dragItem:e,toPosition:o})=>{const{dimensionName:r,hierarchyName:i,levelName:l}=e.field,s=(0,d.K)({dimensionName:r,hierarchyName:i,levelName:l,cube:n});k({serverKey:t,cubeName:n.name,hierarchyCoordinates:{dimensionName:r,hierarchyName:i},position:o,levelIndex:s,type:"create-filter"})};(0,w.gS)((e=>{if((0,g.D)(e)||(0,y.N)(e)||(0,b.h)(e)){const{dimensionName:n,hierarchyName:t,levelName:o}=(0,f.x)(e),r={fieldType:e.type,type:"DATA_TREE_FIELD",field:{dimensionName:n,hierarchyName:t,levelName:o}};L({dragItem:r})&&_({dragItem:r,toPosition:{sectionName:"widget",tileIndex:z.widget.length}})}}));const{formatMessage:A}=(0,a.useIntl)(),j=(0,u.useMemo)((()=>({widget:A({id:"aui.filters.section.widgetFilters"})})),[A]);return H?(0,o.tZ)(I.CenteredTitle,{level:2,children:H.message}):S?(0,o.tZ)(I.CenteredTitle,{level:2,children:A({id:"aui.dataVisualization.loadingDrillthroughColumns"})}):R?(0,o.BX)("div",{style:{height:"100%",display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[(0,o.tZ)("div",{style:{flexGrow:1,minHeight:0},children:(0,o.tZ)(T,{drillthroughColumns:R,onSelectedColumnUniqueNamesChange:D,selectedColumnUniqueNames:M})}),(0,o.tZ)("div",{style:{flexShrink:0,justifySelf:"flex-end"},children:(0,o.tZ)(C.S,{canDrop:L,dragItemTypes:["DATA_TREE_FIELD","FIELD_IN_WIZARD","FILTER_IN_WIZARD"],serverKey:t,cubeName:n.name,filters:z,onFiltersChange:Z,sectionCaptions:j,popoverConfiguration:B,onPopoverConfigurationChanged:k,mdxInViews:F,visibleSectionNames:P,onTileMoved:_})})]}):(0,o.tZ)(I.CenteredTitle,{level:2,children:A({id:"aui.dataVisualization.missingDrillthroughColumns"})})},filtersEditor:e=>(0,o.tZ)(l.FiltersEditor,{...e,queryType:"drillthrough"}),queryEditor:r.A,Icon:i.IconBusinessDrillthrough,initialState:Z,translations:{"en-US":{key:"Drillthrough",defaultName:"New drillthrough"},"fr-FR":{key:"Drillthrough",defaultName:"Nouveau drillthrough"}}}},64551:(e,n,t)=>{"use strict";t.d(n,{V:()=>a});var o=t(93388),r=t(66029),i=t(45030),l=t(15169),s=t(67953);const u=(0,r.forwardRef)((({caption:e,className:n,style:t,tooltipContent:r},s)=>{const u=(0,o.tZ)("div",{className:n,style:t,ref:s,children:e});return r?(0,o.tZ)(l.Tooltip,{title:(0,o.tZ)(i.j,{content:r}),mouseEnterDelay:.3,placement:"right",overlayStyle:{maxWidth:350},children:u}):u}));u.displayName="DefaultTableCell";const a=(0,r.memo)((0,s.f)(u))},36809:(e,n,t)=>{"use strict";t.d(n,{i:()=>se});var o=t(93388),r=t(66029),i=t(51588),l=t(12274),s=t(15169);const u=(0,r.forwardRef)((({containerHeight:e,headerHeight:n},t)=>{const r=(0,l.Fg)();return(0,o.BX)("div",{ref:t,css:{display:"none",position:"absolute",zIndex:1},children:[(0,o.tZ)("div",{css:{height:n,backgroundColor:r.primaryColor,width:5}}),(0,o.tZ)("div",{css:{display:"none",float:"right",height:e-n,backgroundColor:r.primaryColor,opacity:.4,width:2}})]})}));var a=t(64551),c=t(77026),d=t(50083),f=t(93481);const m=({left:e,onClick:n,numberOfHiddenColumns:t})=>{const r=(0,l.Fg)(),{formatMessage:i}=(0,f.useIntl)();return(0,o.tZ)("div",{css:{cursor:"pointer",position:"absolute",left:e-15,height:14,width:26,zIndex:1,":hover":{border:`1px solid ${r.primaryColor}`,borderRadius:5,backgroundColor:r.white},display:"flex",justifyContent:"center",alignItems:"center"},onClick:n,onMouseDown:e=>{e.stopPropagation()},children:(0,o.tZ)(s.Tooltip,{title:i({id:"aui.hiddenColumnsTooltip"},{numberOfHiddenColumns:t}),placement:"top",trigger:"hover",children:(0,o.BX)("span",{css:{width:24,height:12,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,o.tZ)(d.CaretLeftOutlined,{}),(0,o.tZ)(d.CaretRightOutlined,{})]})})})};var h=t(81292);function p({columnIndex:e,columnWidths:n,defaultColumnWidth:t,hiddenColumns:o}){return o.has(e)?0:n?.[e]??t}const g=({defaultColumnWidth:e,range:n,rowHeight:t,columnWidths:i,hiddenColumns:s})=>{const u=(0,l.Fg)();if(!n)return null;const{left:a,width:c,top:d,height:f}=(({columnWidths:e={},defaultColumnWidth:n,defaultRowHeight:t,hiddenColumns:o,range:r})=>{const{columns:i,rows:l}=r;let s=0,u=0;for(let t=0;t<i.to+1;t++){const r=p({columnIndex:t,columnWidths:e,defaultColumnWidth:n,hiddenColumns:o});t<i.from?s+=r:u+=r}return{left:s,width:u,top:l.from*t,height:(l.to+1-l.from)*t}})({columnWidths:i,defaultColumnWidth:e,defaultRowHeight:t,hiddenColumns:s,range:n});return(0,o.tZ)(r.Fragment,{children:(0,o.tZ)("div",{css:h.css`
          background: ${u.selectionOverlayColor};
          position: absolute;
          top: ${d}px;
          left: ${a}px;
          height: ${f}px;
          width: ${c}px;
          pointer-events: none;
        `})})},y=({columnWidths:e={},containerHeight:n,containerWidth:t,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:i,numberOfColumns:l,numberOfRows:s,scrollLeft:u,scrollTop:a})=>{function c(n){return p({columnIndex:n,columnWidths:e,defaultColumnWidth:o,hiddenColumns:i})}const[d,f,m]=function(){if(0===u||0===l)return[0,c(0),0];let e=0;for(let n=0;n<l;n++){const t=e+c(n);if(t>u)return[n,t-u,e];e=t}throw new Error(`Invalid arguments: expected the scrollLeft to be lower or equal than the cumulated column widths in the grid, but got ${u} > ${e}`)}(),h=function(e,n){if(e===l-1||n>t)return e;let o=n;for(let n=e+1;n<l;n++)if(o+=c(n),o>t)return n;return l-1}(d,f),g=Math.floor(a/r);return[{rows:{from:g,to:Math.min(g+Math.ceil(n/r),s-1)},columns:{from:d,to:h}},m]},b=e=>{const n={height:e.containerHeight,width:e.containerWidth},t=e.scrollDirection||[];return 2===t.length?{...n,overflow:"auto"}:t.includes("horizontal")?{...n,overflowX:"auto",overflowY:"hidden"}:t.includes("vertical")?{...n,overflowX:"hidden",overflowY:"auto"}:n},w=e=>{if(!e)return 0;const n=e.borderTop??e.border??"0px";return Number.parseInt(n.toString().split(" ")[0])},v=e=>{const{style:n,numberOfRows:t,defaultRowHeight:o,numberOfColumns:r,defaultColumnWidth:i,columnWidths:l,hiddenColumns:s}=e;let u=0;for(let e=0;e<r;e++)u+=p({columnIndex:e,columnWidths:l,defaultColumnWidth:i,hiddenColumns:s});return{cursor:"cell",height:t*o+w(e.style),overflow:"hidden",position:"relative",width:u,...n}},C={},x=()=>{},O=e=>{const{columnWidths:n=C,onVisibleRangeChanged:t=x}=e,i=(0,r.useRef)(),[l,s]=(0,r.useState)(0),[u,a]=(0,r.useState)(0),[d,f]=(0,r.useMemo)((()=>y({columnWidths:n,containerHeight:e.containerHeight,containerWidth:e.containerWidth,defaultColumnWidth:e.defaultColumnWidth,defaultRowHeight:e.defaultRowHeight,hiddenColumns:e.hiddenColumns,numberOfColumns:e.numberOfColumns,numberOfRows:e.numberOfRows,scrollLeft:u,scrollTop:l})),[n,e.containerHeight,e.containerWidth,e.defaultColumnWidth,e.defaultRowHeight,e.hiddenColumns,e.numberOfColumns,e.numberOfRows,u,l]);(0,r.useEffect)((()=>{d.rows.from===i.current?.rows.from&&d.rows.to===i.current?.rows.to&&d.columns.from===i.current?.columns.from&&d.columns.to===i.current?.columns.to||(t(d),i.current=d)}),[t,d]);const h=[],p=[];let w=d.rows.from;for(let t=d.rows.from;t<=Math.min(e.numberOfRows-1,d.rows.to);t++){let r=f;e.isTotal&&e.isTotal(t)&&(w=t);for(let i=d.columns.from;i<=Math.min(e.numberOfColumns-1,d.columns.to);i++)if(e.hiddenColumns.has(i)){if(0===t){const e=(0,c.last)(p);e?.to===i-1?e.to=i:p.push({from:i,to:i,left:r})}}else{const l=e.cells[t][i],s=n[i]??e.defaultColumnWidth;h.push((0,o.tZ)(e.Cell,{className:"aui-table-cell",rowIndex:t,caption:l?.caption,value:l?.value,columnIndex:i,height:e.defaultRowHeight,left:r,parentTotalRowIndex:w,top:t*e.defaultRowHeight,width:s},`cell-${t}-${i}`)),r+=s}}return(0,o.tZ)("div",{ref:e.gridRef,className:e.isScrollbarVisible?"":"aui-invisible-scrollbars",style:b(e),onScroll:n=>{const t=n.target;l!==t.scrollTop&&s(t.scrollTop),u!==t.scrollLeft&&a(t.scrollLeft),!e.onScroll||l===t.scrollTop&&u===t.scrollLeft||e.onScroll({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})},children:(0,o.BX)("div",{style:v(e),children:[h,(e.selection||[]).map(((n,t)=>(0,o.tZ)(g,{range:n,rowHeight:e.defaultRowHeight,defaultColumnWidth:e.defaultColumnWidth,columnWidths:e.columnWidths,hiddenColumns:e.hiddenColumns},t))),e.areHiddenColumnGroupCaretsVisible&&p.map((({left:n,from:t,to:r},i)=>(0,o.tZ)(m,{left:n,numberOfHiddenColumns:r-t+1,onClick:()=>((n,t)=>{e.onColumnsShown?.((0,c.range)(n,t+1))})(t,r)},i)))]})})};O.defaultProps={isScrollbarVisible:!0,scrollDirection:[]};const I=(0,r.forwardRef)(((e,n)=>{const t=e.children,{onDoubleClickedResizeHandle:r,onMouseEnteredResizeHandle:i,onMouseLeftResizeHandle:l,onResizeStarted:s,...u}=e;return(0,o.BX)("div",{ref:n,style:e.style,css:{display:"flex",flexDirection:"column",position:"absolute",top:e.top,left:e.left,height:e.height,width:e.width},children:[(0,o.tZ)(t,{...u,top:0,left:0,width:e.width-5}),(0,o.tZ)("div",{onDoubleClick:r,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),s()},onMouseEnter:i,onMouseLeave:l,css:{background:"transparent",cursor:"col-resize",height:"100%",position:"absolute",right:0,width:5,zIndex:1}})]})}));let R=t(34933);R=R.default??R;const{ScrollSync:S,ScrollSyncPane:H}=R,z=e=>{const{TopCell:n,TopLeftCell:t,LeftCell:i,BodyCell:l,numberOfFrozenColumns:s,numberOfFrozenRows:u,rowHeaderStyle:a,bodyStyle:c,numberOfRowsInBody:d,numberOfColumnsInBody:f,frozenRowsTotalHeight:m,frozenColumnsTotalWidth:h,columnHeaderCells:p,bodyCells:g,columnWidths:y,body:b,columnHeader:w,selection:v,bodyWidth:C,bodyHeight:x,height:I,onVisibleRangeChanged:R}=e,z=(0,r.useCallback)((e=>e.columnIndex<=s-1?(0,o.tZ)(t,{...e}):(0,o.tZ)(n,{...e})),[s,t,n]),F=(0,r.useCallback)((e=>e.columnIndex<=s-1?(0,o.tZ)(i,{...e,style:a}):(0,o.tZ)(l,{...e})),[s,a,i,l]);return z.displayName="TopCellWhenNotEnoughWidth",F.displayName="BodyCellWhenNotEnoughWidth",(0,o.tZ)(S,{children:(0,o.BX)("div",{css:{display:"flex",height:I,flexDirection:"column"},children:[(0,o.tZ)("div",{css:{borderCollapse:"collapse",height:m,width:C+h},children:(0,o.tZ)(H,{group:"horizontal",children:(0,o.tZ)(O,{areHiddenColumnGroupCaretsVisible:!0,cells:p,Cell:z,columnWidths:y,gridRef:w,containerHeight:m,containerWidth:h+C-18,defaultColumnWidth:e.defaultColumnWidth,defaultRowHeight:e.defaultRowHeight,hiddenColumns:e.hiddenColumns,numberOfRows:u,numberOfColumns:f,onColumnsShown:e.onColumnsShown,selection:v.map((e=>e.columnHeader)),scrollDirection:["horizontal"],isScrollbarVisible:!1})})}),(0,o.tZ)("div",{css:{height:x,width:C+h},children:(0,o.tZ)(H,{group:"horizontal",children:(0,o.tZ)(O,{areHiddenColumnGroupCaretsVisible:!0,cells:g,Cell:F,columnWidths:y,gridRef:b,containerHeight:x,containerWidth:h+C,defaultColumnWidth:e.defaultColumnWidth,defaultRowHeight:e.defaultRowHeight,hiddenColumns:e.hiddenColumns,numberOfRows:d,numberOfColumns:f,selection:v.map((e=>e.body)),style:c,scrollDirection:["horizontal","vertical"],onVisibleRangeChanged:R,onColumnsShown:n=>e.onColumnsShown?.(n.map((e=>s+e)))})})})]})})};var F=t(9617);const{Option:E}=F.Select,W=new Intl.NumberFormat,M=({selection:e,cells:{bodyCells:n,columnHeaderCells:t,staticHeaderCells:i,rowHeaderCells:l},hiddenFrozenColumns:s,hiddenScrollableColumns:u})=>{const{formatMessage:a}=(0,f.useIntl)(),c=(0,r.useMemo)((()=>{const o={},r=new Set;return e.forEach((e=>{[[e.body,n,u],[e.columnHeader,t,u],[e.staticHeader,i,s],[e.rowHeader,l,s]].forEach((([e,n,t])=>{if(e&&n)for(let i=e.rows.from;i<=e.rows.to;i++)for(let l=e.columns.from;l<=e.columns.to;l++){const e=`${i}:${l}`;if(!r.has(e)&&!t.has(l)){r.add(e);const t=n[i]?.[l];if(t){const e=Number(t.value);isNaN(e)||(o.sum=(o.sum??0)+e,o.min=Math.min(o.min??e,e),o.max=Math.max(o.max??e,e),o.countNumbers=(o.countNumbers??0)+1),o.count=(o.count??0)+1}}}}))})),{...o,...o.sum&&o.countNumbers?{avg:o.sum/o.countNumbers}:{}}}),[n,t,s,u,l,e,i]),[d,m]=(0,r.useState)("sum"),h=(0,r.useMemo)((()=>c?Object.keys(c):[]),[c]);return c&&0!==h.length?(0,o.tZ)(F.Select,{bordered:!1,value:d,onChange:e=>m(e),dropdownMatchSelectWidth:175,children:["sum","min","max","avg","count","countNumbers"].map((e=>{const n=c[e];return(0,o.tZ)(E,{value:e,children:(0,o.BX)("div",{css:{display:"flex",justifyContent:"space-between"},children:[(0,o.BX)("div",{css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[a({id:`aui.dataVisualization.statistics.${e}`}),"Â "]}),(0,o.tZ)("div",{children:n?W.format(n):""})]})},e)}))}):null},T=e=>{const n=document.createElement("div");n.innerHTML=e,n.style.fontSize="12px",n.style.position="absolute",n.style.visibility="hidden",n.style.height="auto",n.style.whiteSpace="nowrap",document.body.appendChild(n);const t=n.clientWidth+1;return document.body.removeChild(n),t},N=["margin-left","margin-right","padding-left","padding-right"],P=e=>{let n=0;if("style"in e&&"none"===e.style.display)return 0;if(N.forEach((t=>{n+=parseFloat(window.getComputedStyle(e).getPropertyValue(t))})),"svg"===e.tagName)n+=e.getBoundingClientRect().width;else for(let t=0;t<e.children.length;t++)n+=P(e.children[t]);return n},D=e=>"style"in e&&"none"===e.style.display;var B=t(62594);const k=({gridElement:e,rowHeight:n,defaultColumnWidth:t,columnWidths:o,hiddenColumns:r,x:i,y:l})=>{const s=e.getBoundingClientRect(),u=e.scrollTop+Math.max(0,Math.min(s.height,l-s.top)),a=Math.floor(u/n),c=function({distanceFromLeft:e,hiddenColumns:n,columnWidths:t,defaultColumnWidth:o}){let r=-1,i=0;for(;i<=e;)r++,i+=p({columnIndex:r,columnWidths:t,defaultColumnWidth:o,hiddenColumns:n});return r}({distanceFromLeft:e.scrollLeft+Math.max(0,Math.min(s.width,i-s.left)),columnWidths:o,defaultColumnWidth:t,hiddenColumns:r});return{rowIndex:a,columnIndex:c}};var Z=t(14618);const L=["staticHeader","columnHeader","rowHeader","body"],_={staticHeader:{horizontal:"left",vertical:"top"},rowHeader:{horizontal:"left",vertical:"bottom"},columnHeader:{horizontal:"right",vertical:"top"},body:{horizontal:"right",vertical:"bottom"}},A=e=>_?.[e],j=(e,n)=>{const t=A(e),o=A(n.gridKey),r={rowIndex:n.rowIndex,columnIndex:n.columnIndex};return o.horizontal!==t.horizontal&&(r.columnIndex="left"===t.horizontal?1/0:-1/0),o.vertical!==t.vertical&&(r.rowIndex="top"===t.vertical?1/0:-1/0),r},K=({anchorFrom:e,anchorTo:n,columnWidths:t,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:i,grid:l,gridKey:s,numberOfColumns:u,numberOfRows:a})=>{const c=j(s,e),d=j(s,n),f={rows:{from:Math.min(c.rowIndex,d.rowIndex),to:Math.max(c.rowIndex,d.rowIndex)},columns:{from:Math.min(c.columnIndex,d.columnIndex),to:Math.max(c.columnIndex,d.columnIndex)}},{height:m,width:h}=l.getBoundingClientRect(),[p]=y({columnWidths:t,containerHeight:m,containerWidth:h,defaultColumnWidth:o,defaultRowHeight:r,hiddenColumns:i,numberOfColumns:u,numberOfRows:a,scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}),g=["rows","columns"];for(let e=0;e<g.length;e++){const n=g[e],t=f[n],{from:o,to:r}=t;if(!isFinite(o)&&!isFinite(r))return;isFinite(o)?isFinite(r)||(t.to=p[n].to):t.from=p[n].from}return f};function $(e,{cellPosition:n,frozenColumnWidths:t,scrollableColumnWidths:o,defaultColumnWidth:r,defaultRowHeight:i,grids:l,hiddenFrozenColumns:s,hiddenScrollableColumns:u,numberOfColumnsInBody:a,numberOfFrozenColumns:d,numberOfFrozenRows:f,numberOfRowsInBody:m}){return(0,Z.produce)(e,(e=>{const h=(0,c.last)(e);L.forEach((e=>{const p=l[e].current;if(!p)return;const g=["staticHeader","rowHeader"].includes(e),y=["staticHeader","columnHeader"].includes(e),b=K({anchorFrom:h.anchor,anchorTo:n,defaultColumnWidth:r,defaultRowHeight:i,columnWidths:g?t:o,grid:p,gridKey:e,hiddenColumns:g?s:u,numberOfColumns:g?d:a,numberOfRows:y?f:m});(0,c.set)(h,e,b)}))}))}var q=t(6611);function V({gridKey:e,columnIndex:n,rowIndex:t},{numberOfFrozenColumns:o,numberOfFrozenRows:r}){return{columnIndex:n+(["body","columnHeader"].includes(e)?o:0),rowIndex:t+(["body","rowHeader"].includes(e)?r:0)}}function X(e,[n,t]){return Math.max(n,Math.min(t,e))}function U({rowIndex:e,columnIndex:n},{numberOfFrozenColumns:t,numberOfFrozenRows:o}){return e<o&&n<t?{gridKey:"staticHeader",rowIndex:e,columnIndex:n}:e<o?{gridKey:"columnHeader",rowIndex:e,columnIndex:n-t}:n<t?{gridKey:"rowHeader",rowIndex:e-o,columnIndex:n}:{gridKey:"body",rowIndex:e-o,columnIndex:n-t}}function Q({anchor:e,to:n},{numberOfFrozenColumns:t,numberOfFrozenRows:o,numberOfColumnsInBody:r,numberOfRowsInBody:i}){const l=Math.min(e.rowIndex,n.rowIndex),s=Math.max(e.rowIndex,n.rowIndex),u=Math.min(e.columnIndex,n.columnIndex),a=Math.max(e.columnIndex,n.columnIndex),c={staticHeader:{rows:{from:0,to:o-1},columns:{from:0,to:t-1}},columnHeader:{rows:{from:0,to:o-1},columns:{from:t,to:r-1}},rowHeader:{rows:{from:o,to:i-1},columns:{from:0,to:t-1}},body:{rows:{from:o,to:i-1},columns:{from:t,to:r-1}}},d={anchor:U(e,{numberOfFrozenColumns:t,numberOfFrozenRows:o})};return L.forEach((e=>{const n=c[e];if(s<n.rows.from||l>n.rows.from+n.rows.to||a<n.columns.from||u>n.columns.from+n.columns.to)return;const t={columns:{from:X(u-n.columns.from,[0,n.columns.to]),to:X(a-n.columns.from,[0,n.columns.to])},rows:{from:X(l-n.rows.from,[0,n.rows.to]),to:X(s-n.rows.from,[0,n.rows.to])}};d[e]=t})),d}function Y(e,{key:n,shiftKey:t,ctrlKey:o,metaKey:r,numberOfColumnsInBody:i,numberOfRowsInBody:l,numberOfFrozenColumns:s,numberOfFrozenRows:u,numberOfVisibleRows:a}){const d={numberOfColumnsInBody:i,numberOfFrozenColumns:s,numberOfFrozenRows:u,numberOfRowsInBody:l},f={ArrowLeft:{columnOffset:-1},ArrowRight:{columnOffset:1},ArrowUp:{rowOffset:-1},ArrowDown:{rowOffset:1},PageUp:{rowOffset:-a},PageDown:{rowOffset:a},Home:{rowOffset:-1/0},End:{rowOffset:1/0}};switch(n){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"PageUp":case"PageDown":case"Home":case"End":return function(e,{isExtending:n=!1,rowOffset:t=0,columnOffset:o=0,numberOfColumnsInBody:r,numberOfRowsInBody:i,numberOfFrozenColumns:l,numberOfFrozenRows:s}){const u=function(e,n){if(!e)return{anchor:{columnIndex:0,rowIndex:0},to:{columnIndex:0,rowIndex:0}};const{anchor:t}=e,o=V(t,n),r=[];return L.forEach((t=>{const o=e[t];o&&["from","to"].forEach((e=>{["from","to"].forEach((i=>{const l=V({gridKey:t,rowIndex:o.rows[e],columnIndex:o.columns[i]},n);r.push(l)}))}))})),{anchor:o,to:(0,c.maxBy)(r,(e=>{return n=e,t=o,Math.abs(t.columnIndex-n.columnIndex)+Math.abs(t.rowIndex-n.rowIndex);var n,t}))}}((0,c.last)(e),{numberOfFrozenColumns:l,numberOfFrozenRows:s}),a=s+i,d=l+r,{rowIndex:f,columnIndex:m}=n?u.to:u.anchor,h={rowIndex:X(f+t,[0,a-1]),columnIndex:X(m+o,[0,d-1])},p=n?{anchor:u.anchor,to:h}:{anchor:h,to:h};return{selection:[Q(p,{numberOfFrozenColumns:l,numberOfFrozenRows:s,numberOfColumnsInBody:r,numberOfRowsInBody:i})],targetCellPosition:p.to}}(e,{...f[n],isExtending:t,...d});case"a":if(q.q?r:o)return{selection:[{anchor:{columnIndex:0,gridKey:"body",rowIndex:0},body:{columns:{from:0,to:i-1},rows:{from:0,to:l-1}},...u>0&&{columnHeader:{columns:{from:0,to:i-1},rows:{from:0,to:u-1}}},...s>0&&{rowHeader:{columns:{from:0,to:s-1},rows:{from:0,to:l-1}}},...u>0&&s>0&&{staticHeader:{columns:{from:0,to:s-1},rows:{from:0,to:u-1}}}}]}}return{selection:e}}const G=100;function J(e,n){return e.columnIndex<n?{...e,gridKey:"body"===e.gridKey?"rowHeader":"staticHeader"}:{...e,columnIndex:e.columnIndex-n}}function ee(e,n){return{rows:e.rows,columns:{from:e.columns.from-n,to:e.columns.to-n}}}function ne(e,n){return e?e.columns.to<n?[e,void 0]:e.columns.from>=n?[void 0,ee(e,n)]:function(e,n){return[{rows:e.rows,columns:{from:e.columns.from,to:n-1}},{rows:e.rows,columns:{from:0,to:e.columns.to-n}}]}(e,n):[void 0,void 0]}const te=()=>{},oe={},re=new Set,ie=()=>!1,le=["horizontal","vertical"],se=e=>{const[n]=(0,i.y)("table.defaultSize"),{columnWidth:t,rowHeight:d}=B.v[e.size??n],f=e.columnWidths??oe,m=e.isTotal??ie,h=e.numberOfFrozenColumns??0,g=e.numberOfFrozenRows??0,y=e.onColumnsResized??te,b=e.onKeyDown??te,w=e.onKeyUp??te,v=e.onScrolled??te,C=e.onVisibleRangeChanged??te,x=e.hiddenColumns??re,R=(0,r.useRef)({body:[],columnHeader:[],rowHeader:[],staticHeader:[]}),F=e.cells.length-g,E=(0,r.useRef)(null),W=(0,r.useRef)(null),N=(0,r.useRef)(null),Z=(0,r.useRef)(null),L=(0,r.useRef)(null),_=(0,r.useRef)(null),A=(0,r.useRef)(!1),j=(0,r.useMemo)((()=>({staticHeader:W,rowHeader:N,columnHeader:Z,body:L})),[W,N,Z,L]),K=(0,l.Fg)(),q=(0,r.useMemo)((()=>({borderRight:`2px solid ${K.cellBorderColor}`})),[K.cellBorderColor]),V=(0,r.useMemo)((()=>({borderTop:`2px solid ${K.cellBorderColor}`,borderRight:`2px solid ${K.cellBorderColor}`})),[K.cellBorderColor]),X=(0,r.useMemo)((()=>({borderTop:`2px solid ${K.cellBorderColor}`})),[K.cellBorderColor]),{height:U,width:Q}=(0,s.useDebouncedComponentSize)(E),[ee,se]=(0,r.useMemo)((()=>{const e=new Set,n=new Set;return x.forEach((t=>{t<h?e.add(t):n.add(t-h)})),[e,n]}),[h,x]),[ue,ae]=(0,r.useMemo)((()=>{const e={},n={};for(const t in f){const o=Number.parseInt(t,10),r=f[o];o<h?e[t]=r:n[o-h]=r}return[e,n]}),[f,h]),ce=(0,r.useMemo)((()=>{let e=0;for(let n=0;n<h;n++)e+=p({columnIndex:n,columnWidths:ue,defaultColumnWidth:t,hiddenColumns:ee});return e}),[t,ue,ee,h]);ce/Q>.9&&e.onFrozenColumnsIgnored?e.onFrozenColumnsIgnored(!0):e.onFrozenColumnsIgnored&&e.onFrozenColumnsIgnored(!1);const{staticHeader:de,rowHeader:fe,columnHeader:me,body:he}=(0,r.useMemo)((()=>function(e,{numberOfFrozenRows:n,numberOfFrozenColumns:t,areFrozenColumnsIgnored:o}){const r=o?0:t,i={body:[],columnHeader:[],rowHeader:[],staticHeader:[]};return e.forEach(((e,t)=>{e.forEach(((e,o)=>{const l=function({rowIndex:e,columnIndex:n,numberOfFrozenRows:t,effectiveNumberOfFrozenColumns:o}){const r=e<t,i=n<o;return r&&i?"staticHeader":i?"rowHeader":r?"columnHeader":"body"}({rowIndex:t,columnIndex:o,numberOfFrozenRows:n,effectiveNumberOfFrozenColumns:r}),s=i[l];s.length===(t<n?t:t-n)&&s.push([]),(0,c.last)(s).push(e)}))})),i}(e.cells,{areFrozenColumnsIgnored:Boolean(e.areFrozenColumnsIgnored),numberOfFrozenRows:g,numberOfFrozenColumns:h})),[e.cells,h,g,e.areFrozenColumnsIgnored]),pe=he[0]?he[0].length:me[0]?.length??0,[ge,ye,be,we,ve]=function({container:e,defaultColumnWidth:n,defaultRowHeight:t,frozenColumnWidths:o,hiddenFrozenColumns:i,hiddenScrollableColumns:l,grids:s,numberOfColumnsInBody:u,numberOfFrozenColumns:a,numberOfFrozenRows:d,numberOfRowsInBody:f,numberOfVisibleRows:m,scrollableColumnWidths:h}){const[g,y]=(0,r.useState)([]),b=(0,r.useRef)(g);(0,r.useEffect)((()=>{b.current=g}),[g]);const w=(0,r.useCallback)(((r,u)=>{if(!e.current||!s.body.current)return null;const a=s.body.current.getBoundingClientRect(),c={staticHeader:r<a.left&&u<a.top,rowHeader:r<a.left&&u>=a.top,columnHeader:r>=a.left&&u<a.top,body:r>=a.left&&u>=a.top},d=Object.keys(s).find((e=>!0===c[e]));if(!s[d]||!s[d].current)return null;const f=["staticHeader","rowHeader"].includes(d);return{gridKey:d,...k({gridElement:s[d].current,defaultColumnWidth:n,columnWidths:f?o:h,hiddenColumns:f?i:l,rowHeight:t,x:r,y:u})}}),[e,n,t,i,l,s,o,h]),v=(0,r.useCallback)((r=>{if(r.preventDefault(),e.current?.focus(),((e,n)=>{if(null===e)return!1;const t=e.getBoundingClientRect(),o=e.scrollWidth>e.clientWidth,r=e.scrollHeight>e.clientHeight;return o&&n.clientY>t.bottom-18||r&&n.clientX>t.right-18})(s.body.current,r)||0!==r.button||!((e,n)=>{const t=n.body.current?.children?.[0],o=n.staticHeader.current?.children?.[0]||n.rowHeader.current?.children?.[0]||n.columnHeader.current?.children?.[0]||t;if(!t||!o)return!1;const{top:r,left:i}=o.getBoundingClientRect(),{bottom:l,right:s}=t.getBoundingClientRect();return e.clientX>=i&&e.clientX<=s&&e.clientY>=r&&e.clientY<=l})(r,s))return;let m=r.clientX,p=r.clientY;const g=w(m,p);let v=g,C=!1;const x=e=>{m=e.clientX,p=e.clientY};if(g){const{gridKey:O,rowIndex:I,columnIndex:R}=g,S=(0,c.last)(b.current);if(r.shiftKey&&S){const e=$(b.current,{cellPosition:g,defaultColumnWidth:n,defaultRowHeight:t,grids:s,hiddenFrozenColumns:i,hiddenScrollableColumns:l,numberOfColumnsInBody:u,numberOfFrozenColumns:a,numberOfFrozenRows:d,numberOfRowsInBody:f,frozenColumnWidths:o,scrollableColumnWidths:h});y(e)}else{const e={anchor:g,[O]:{rows:{from:I,to:I},columns:{from:R,to:R}}};r.ctrlKey||r.metaKey?y([...b.current,e]):y([e])}const H=()=>{C||(C=!0,requestAnimationFrame((()=>{C=!1;const r=w(m,p);if(r&&!(0,c.isEqual)(r,v)&&(v=r,b.current.length>0)){const e=$(b.current,{cellPosition:r,defaultColumnWidth:n,defaultRowHeight:t,grids:s,hiddenFrozenColumns:i,hiddenScrollableColumns:l,numberOfColumnsInBody:u,numberOfFrozenColumns:a,numberOfFrozenRows:d,numberOfRowsInBody:f,frozenColumnWidths:o,scrollableColumnWidths:h});y(e)}((e,n,{x:t,y:o})=>{const r=e.getBoundingClientRect();t<r.left?n.scrollLeft-=G:t>r.right&&(n.scrollLeft+=G),o<r.top?n.scrollTop-=G:o>r.bottom&&(n.scrollTop+=G)})(e.current,s.body.current,{x:m,y:p})})))},z=setInterval(H,10),F=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",F),clearInterval(z)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",F)}}),[t,n,e,s,w,o,i,l,u,a,f,d,h]),C=(0,r.useCallback)((e=>{const n=e.pageX,t=e.pageY,o=w(n,t);if(!o)return g;const{columnIndex:r,gridKey:i,rowIndex:l}=o;if(!g.some((e=>void 0!==e[i]&&e[i].columns.from<=r&&e[i].columns.to>=r&&e[i].rows.from<=l&&e[i].rows.to>=l))){const e=[{anchor:o,[i]:{columns:{from:r,to:r},rows:{from:l,to:l}}}];return y(e),e}return g}),[w,g]);return[g,v,C,(r,c)=>{const{selection:b,targetCellPosition:w}=Y(g,{...r,numberOfColumnsInBody:u,numberOfFrozenColumns:a,numberOfFrozenRows:d,numberOfRowsInBody:f,numberOfVisibleRows:m});if(b!==g){y(b),c(b),r.preventDefault();const u=s.body.current;if(!w||!u||!e.current)return;const d=e.current.scrollHeight,f=e.current.scrollWidth,{rowIndex:m,columnIndex:g}=w,v=Math.max(0,t*(m-2)),C=v+3*t;v<u.scrollTop?u.scrollTop=v:C>u.scrollTop+d&&(u.scrollTop=C-d);let x=0;for(let e=0;e<g;e++)x+=p({columnIndex:e,columnWidths:e<a?o:h,defaultColumnWidth:n,hiddenColumns:e<a?i:l});x<u.scrollLeft?u.scrollLeft=x:x>u.scrollLeft+f&&(u.scrollLeft=x-f)}},(e,n)=>{"Escape"===e.key&&(y([]),n([]))}]}({container:E,defaultColumnWidth:t,defaultRowHeight:d,grids:j,hiddenFrozenColumns:ee,hiddenScrollableColumns:se,numberOfFrozenRows:g,numberOfRowsInBody:F,numberOfVisibleRows:E.current?Math.floor(E.current.scrollHeight/d-g):0,...Boolean(e.areFrozenColumnsIgnored)?{frozenColumnWidths:{},numberOfColumnsInBody:h+pe,numberOfFrozenColumns:0,scrollableColumnWidths:f}:{frozenColumnWidths:ue,numberOfColumnsInBody:pe,numberOfFrozenColumns:h,scrollableColumnWidths:ae}}),Ce=(0,r.useRef)(ge);(0,r.useEffect)((()=>{Ce.current=ge}),[ge]);const xe=n=>{if(e.onSelectionChanged){const t=Boolean(e.areFrozenColumnsIgnored)?function({selection:e,numberOfFrozenColumns:n}){return e.map((e=>{const[t,o]=ne(e.body,n),[r,i]=ne(e.columnHeader,n);return{anchor:J(e.anchor,n),staticHeader:r,columnHeader:i,rowHeader:t,body:o}}))}({selection:n,numberOfFrozenColumns:h}):n;e.onSelectionChanged(t)}},Oe=e=>{_.current&&!A.current&&(_.current.style.display="block",_.current.style.left=e-5+"px")},Ie=()=>{_.current&&!A.current&&(_.current.style.display="none")},Re=(0,r.useCallback)((n=>{const t=function(e,n){const t=e[0],o=[];if(t?.staticHeader){const{from:e,to:n}=t.staticHeader.columns;o.push(...(0,c.range)(e,n+1))}if(t?.columnHeader){const{from:e,to:r}=t.columnHeader.columns;o.push(...(0,c.range)(e+n,r+n+1))}return o}(Ce.current,Boolean(e.areFrozenColumnsIgnored)?0:h),o=t.includes(n)?t:[n],r={};o.forEach((n=>{const t=(({cells:e,columnIndex:n,cellRefs:{body:t,columnHeader:o,rowHeader:r,staticHeader:i},numberOfFrozenColumns:l,numberOfFrozenRows:s,numberOfRowsInBody:u})=>{const a=s+u,c=n<l,d=c?n:n-l,[[f,m],[h,p]]=[{from:0,to:s,cellsContainer:c?i:o},{from:s,to:a,cellsContainer:c?r:t}].map((({from:t,to:o,cellsContainer:r})=>{let i="",l=0;for(let u=t;u<o;u++){let t=null;if(r){const e=u<s?u:u-s,n=Math.min(d,r[0].length-1);if(t=r[e]?.[n],t){const e=P(t);e>l&&(l=e)}}if(!t||!t?.children?.[0]||!D(t)&&!D(t.children[0])){const t=e[u][n]?.caption??"";t.length>i.length&&(i=t)}}return[i,l]})),g=T(f)+m+5,y=T(h)+p;return Math.max(g,y)+10})({cells:e.cells,cellRefs:R.current,columnIndex:n,numberOfFrozenColumns:h,numberOfFrozenRows:g,numberOfRowsInBody:F});r[n]=t})),y?.(r)}),[e.cells,h,g,F,y,e.areFrozenColumnsIgnored]),Se=(0,r.useCallback)((async(e,n,o)=>{if(_.current&&E.current){A.current=!0;const r=await(async({columnResizeHint:e,initialPosition:n,minAllowedPosition:t,offset:o})=>new Promise((r=>{let i=n,l=!1;e.style.display="block",e.children[1].style.display="block";const s=n=>{n.preventDefault(),l||(l=!0,requestAnimationFrame((()=>{l=!1;const r=Math.max(n.clientX-o,t);r!==i&&(i=r,e.style.left=i-5+"px")})))},u=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u),e.style.display="none",e.children[1].style.display="none",r(i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",u)})))({columnResizeHint:_.current,initialPosition:n,minAllowedPosition:o+B.F,offset:E.current.getBoundingClientRect().left});A.current=!1;const i=f[e]??t,l=i+r-n;l!==i&&y?.({[e]:l})}}),[t,f,y]),He=g*d,ze=U-He,Fe=Q-ce,Ee=L.current&&L.current.scrollWidth>L.current.clientWidth,We=e.Cell??a.V,Me=(0,r.useCallback)((n=>{const{columnIndex:t,rowIndex:i}=n;let l,s;if(Boolean(e.areFrozenColumnsIgnored)){const e=L.current?.scrollLeft||0;l=n.left+n.width-e,s=n.left-e}else l=n.left+n.width,s=n.left;const u=(0,r.useCallback)((e=>{const n=R.current.staticHeader;void 0===n[i]&&(n[i]=[]),n[i][t]=e}),[t,i]);return(0,o.tZ)(I,{ref:u,...n,size:e.size,isRowFrozen:!0,isColumnFrozen:!0,onDoubleClickedResizeHandle:()=>{Re(n.columnIndex)},onMouseEnteredResizeHandle:()=>{Oe(l)},onMouseLeftResizeHandle:Ie,onResizeStarted:()=>{Se(n.columnIndex,l,s)},children:We})}),[e.size,We,Re,Se,e.areFrozenColumnsIgnored]),Te=(0,r.useCallback)((n=>{const{columnIndex:t,rowIndex:i}=n,l=(0,r.useCallback)((e=>{const n=R.current.rowHeader;void 0===n[i]&&(n[i]=[]),n[i][t]=e}),[t,i]);return(0,o.tZ)(We,{ref:l,...n,size:e.size,isRowFrozen:!1,isColumnFrozen:!0})}),[e.size,We]),Ne=(0,r.useCallback)((n=>{const{columnIndex:t,rowIndex:i}=n;let l,s,u;const a=L.current?.scrollLeft||0;Boolean(e.areFrozenColumnsIgnored)?(l=n.columnIndex,s=n.left+n.width-a,u=n.left-a):(l=h+n.columnIndex,s=ce+n.left+n.width-a,u=ce+n.left-a);const c=(0,r.useCallback)((e=>{const n=R.current.columnHeader;void 0===n[i]&&(n[i]=[]),n[i][t]=e}),[t,i]);return(0,o.tZ)(I,{ref:c,...n,size:e.size,isRowFrozen:!0,isColumnFrozen:!1,onDoubleClickedResizeHandle:()=>{Re(l)},onMouseEnteredResizeHandle:()=>{Oe(s)},onMouseLeftResizeHandle:Ie,onResizeStarted:()=>{Se(l,s,u)},children:We})}),[e.size,We,ce,Re,Se,h,e.areFrozenColumnsIgnored]),Pe=(0,r.useCallback)((n=>{const{rowIndex:t,columnIndex:i}=n,l=(0,r.useCallback)((e=>{const n=R.current.body;void 0===n[t]&&(n[t]=[]),n[t][i]=e}),[i,t]);return(0,o.tZ)(We,{ref:l,...n,size:e.size,isRowFrozen:!1,isColumnFrozen:!1})}),[e.size,We]);return Me.displayName="TopLeftCell",Te.displayName="LeftCell",Ne.displayName="TopCell",Pe.displayName="BodyCell",(0,o.BX)("div",{style:{...e.style,paddingBottom:2,paddingRight:2,height:"100%"},css:{"@media print .aui-table-cell":{padding:"4px 0px 3px !important"}},children:[(0,o.BX)("div",{css:{height:"calc(100% - 30px)",outline:"none",position:"relative"},onKeyDown:e=>{we(e,xe),b(e)},onKeyUp:e=>{ve(e,xe),w(e)},onMouseDown:e=>{ye(e);const n=e=>{document.removeEventListener("mouseup",n),0===e.button&&xe(Ce.current)};document.addEventListener("mouseup",n)},onContextMenu:e=>{const n=be(e);n!==ge&&xe(n)},ref:E,tabIndex:0,children:[(0,o.tZ)(u,{ref:_,containerHeight:U,headerHeight:g*d}),U&&Q?Boolean(e.areFrozenColumnsIgnored)?(0,o.tZ)(z,{LeftCell:Te,TopCell:Ne,BodyCell:Pe,TopLeftCell:Me,numberOfFrozenColumns:h,numberOfFrozenRows:g,numberOfColumnsInBody:pe,numberOfRowsInBody:F,rowHeaderStyle:V,bodyStyle:X,selection:ge,frozenRowsTotalHeight:He,frozenColumnsTotalWidth:ce,columnHeaderCells:me,bodyCells:he,columnWidths:f,defaultColumnWidth:t,defaultRowHeight:d,bodyHeight:ze,bodyWidth:Fe,body:L,columnHeader:Z,height:U,hiddenColumns:x,onColumnsShown:e.onColumnsShown,style:e.style,onVisibleRangeChanged:C}):(0,o.tZ)(S,{children:(0,o.BX)("div",{css:{display:"flex",height:U},children:[(0,o.BX)("div",{css:{borderCollapse:"collapse",height:He,width:ce},children:[(0,o.tZ)(O,{areHiddenColumnGroupCaretsVisible:!0,cells:de,Cell:Me,columnWidths:ue,gridRef:W,containerHeight:He,containerWidth:ce,defaultColumnWidth:t,defaultRowHeight:d,hiddenColumns:ee,numberOfRows:g,numberOfColumns:h,onColumnsShown:e.onColumnsShown,selection:ge.map((e=>e.staticHeader)),style:q}),(0,o.tZ)(H,{group:"vertical",children:(0,o.tZ)(O,{cells:fe,Cell:Te,columnWidths:ue,gridRef:N,containerHeight:ze-(Ee?18:0),containerWidth:ce,defaultColumnWidth:t,hiddenColumns:ee,isScrollbarVisible:!1,isTotal:m,defaultRowHeight:d,numberOfColumns:h,numberOfRows:F,selection:ge.map((e=>e.rowHeader)),scrollDirection:["vertical"],style:V})})]}),(0,o.BX)("div",{css:{width:Fe,borderCollapse:"collapse"},children:[(0,o.tZ)(H,{group:"horizontal",children:(0,o.tZ)(O,{areHiddenColumnGroupCaretsVisible:!0,cells:me,Cell:Ne,columnWidths:ae,gridRef:Z,containerHeight:He,containerWidth:Fe-18,defaultColumnWidth:t,hiddenColumns:se,isScrollbarVisible:!1,defaultRowHeight:d,numberOfColumns:pe,numberOfRows:g,onColumnsShown:n=>e.onColumnsShown?.(n.map((e=>h+e))),selection:ge.map((e=>e.columnHeader)),scrollDirection:["horizontal"]})}),(0,o.tZ)(H,{group:le,children:(0,o.tZ)(O,{Cell:Pe,cells:he,columnWidths:ae,gridRef:L,containerHeight:ze,containerWidth:Fe,defaultColumnWidth:t,hiddenColumns:se,isTotal:m,onScroll:v,onVisibleRangeChanged:C,defaultRowHeight:d,numberOfColumns:pe,numberOfRows:F,selection:ge.map((e=>e.body)),scrollDirection:["horizontal","vertical"],style:X})})]})]})}):null]}),(0,o.tZ)("div",{css:{height:30,textAlign:"right",paddingRight:25},children:(0,o.tZ)(M,{selection:ge,cells:{bodyCells:he,staticHeaderCells:de,rowHeaderCells:fe,columnHeaderCells:me},hiddenFrozenColumns:ee,hiddenScrollableColumns:se})})]})}},97597:(e,n,t)=>{"use strict";t.d(n,{r:()=>r});var o=t(77026);function r(e,{numberOfFrozenColumns:n,numberOfFrozenRows:t,numberOfColumnsInBody:r,numberOfRowsInBody:i}){const l={body:{columns:r,rows:i},columnHeader:{columns:r,rows:t},rowHeader:{columns:n,rows:i},staticHeader:{columns:n,rows:t}};return e.map((e=>{const{anchor:n,...t}=e;return{anchor:n,...(0,o.mapValues)(t,((e,n)=>{const t=l[n];return e?{columns:{from:Math.max(0,e.columns.from),to:Math.min(t.columns-1,e.columns.to)},rows:{from:Math.max(0,e.rows.from),to:Math.min(t.rows-1,e.rows.to)}}:void 0}))}}))}},35037:(e,n,t)=>{"use strict";t.d(n,{p:()=>o});const o=(e,n)=>{const t=[];if(e)for(let o=e.rows.from;o<=e.rows.to;o++){t.push([]);for(let r=e.columns.from;r<=e.columns.to;r++){const i=n(r,o);t[o-e.rows.from].push(i)}}return t}},62594:(e,n,t)=>{"use strict";t.d(n,{F:()=>o,v:()=>r});const o=10,r={small:{columnWidth:90,rowHeight:14},medium:{columnWidth:100,rowHeight:20},large:{columnWidth:120,rowHeight:25}}},67953:(e,n,t)=>{"use strict";t.d(n,{f:()=>i});var o=t(93388),r=t(66029);function i(e){const n=(0,r.forwardRef)(((n,t)=>{const i=(0,r.useMemo)((()=>({display:"flex",alignItems:"center",height:n.height,left:n.left,top:n.top,width:n.width,justifyContent:n.isColumnFrozen||n.isRowFrozen?"start":"end",fontSize:12,padding:"small"===n.size?"1px 4px 3px":"4px 4px 3px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",textOverflow:"ellipsis",...n.style})),[n.height,n.isColumnFrozen,n.isRowFrozen,n.left,n.size,n.style,n.top,n.width]);return(0,o.tZ)(e,{ref:t,...n,style:i})}));return n.displayName="WithDefaultCellStyle",n}},6611:(e,n,t)=>{"use strict";t.d(n,{q:()=>o});const o=globalThis.window?.navigator.platform.startsWith("Mac")??!1},34933:function(e,n,t){var o;o=function(e,n){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=10)}([function(e,n){var t,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{o="function"==typeof clearTimeout?clearTimeout:l}catch(e){o=l}}();var u,a=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?a=u.concat(a):d=-1,a.length&&m())}function m(){if(!c){var e=s(f);c=!0;for(var n=a.length;n;){for(u=a,a=[];++d<n;)u&&u[d].run();d=-1,n=a.length}u=null,c=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(n){try{return o.call(null,e)}catch(n){return o.call(this,e)}}}(e)}}function h(e,n){this.fun=e,this.array=n}function p(){}r.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];a.push(new h(e,n)),1!==a.length||c||s(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,n,t){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,n,t){"use strict";(function(n){var t=function(e){};"production"!==n.env.NODE_ENV&&(t=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,n,o,r,i,l,s,u){if(t(n),!e){var a;if(void 0===n)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,r,i,l,s,u],d=0;(a=new Error(n.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw a.framesToPop=1,a}}}).call(n,t(0))},function(e,n,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(n,t){n.exports=e},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=((o=t(4))&&o.__esModule?o:{default:o}).default.createContext({registerPane:function(){},unregisterPane:function(){}});n.default=r,e.exports=n.default},function(e,n,t){"use strict";(function(n){var o,r=t(1);"production"!==n.env.NODE_ENV&&(o=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];var r=0,i="Warning: "+e.replace(/%s/g,(function(){return t[r++]}));"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}},r=function(e,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!e){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];o.apply(void 0,[n].concat(r))}}),e.exports=r}).call(n,t(0))},function(e,n,t){(function(n){if("production"!==n.env.NODE_ENV){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=t(13)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}),!0)}else e.exports=t(12)()}).call(n,t(0))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=t(4),i=u(r),l=u(t(7)),s=u(t(5));function u(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var c=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=o=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.panes={},o.registerPane=function(e,n){n.forEach((function(n){o.panes[n]||(o.panes[n]=[]),o.findPane(e,n)||(o.panes[n].length>0&&o.syncScrollPosition(o.panes[n][0],e),o.panes[n].push(e))})),o.addEvents(e,n)},o.unregisterPane=function(e,n){n.forEach((function(n){o.findPane(e,n)&&(o.removeEvents(e),o.panes[n].splice(o.panes[n].indexOf(e),1))}))},o.addEvents=function(e,n){e.onscroll=o.handlePaneScroll.bind(o,e,n)},o.removeEvents=function(e){e.onscroll=null},o.findPane=function(e,n){return!!o.panes[n]&&o.panes[n].find((function(n){return n===e}))},o.handlePaneScroll=function(e,n){o.props.enabled&&window.requestAnimationFrame((function(){o.syncScrollPositions(e,n)}))},o.syncScrollPositions=function(e,n){n.forEach((function(t){o.panes[t].forEach((function(r){e!==r&&(o.removeEvents(r,t),o.syncScrollPosition(e,r),window.requestAnimationFrame((function(){o.addEvents(r,n)})))}))})),o.props.onSync&&o.props.onSync(e)},a(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),o(n,[{key:"getContextValue",value:function(){return{registerPane:this.registerPane,unregisterPane:this.unregisterPane}}},{key:"syncScrollPosition",value:function(e,n){var t=e.scrollTop,o=e.scrollHeight,r=e.clientHeight,i=e.scrollLeft,l=e.scrollWidth,s=e.clientWidth,u=o-r,a=l-s,c=this.props,d=c.proportional,f=c.vertical,m=c.horizontal,h=n.scrollHeight-r,p=n.scrollWidth-s;f&&u>0&&(n.scrollTop=d?h*t/u:t),m&&a>0&&(n.scrollLeft=d?p*i/a:i)}},{key:"render",value:function(){return i.default.createElement(s.default.Provider,{value:this.getContextValue()},i.default.Children.only(this.props.children))}}]),n}(r.Component);c.propTypes={onSync:l.default.func,children:l.default.element.isRequired,proportional:l.default.bool,vertical:l.default.bool,horizontal:l.default.bool,enabled:l.default.bool},c.defaultProps={proportional:!0,vertical:!0,horizontal:!0,enabled:!0},n.default=c,e.exports=n.default},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=t(4),i=u(t(14)),l=u(t(7)),s=u(t(5));function u(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var c=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return t=o=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.toArray=function(e){return[].concat(e)},a(o,t)}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),o(n,[{key:"componentDidMount",value:function(){this.props.enabled&&(this.node=this.props.attachTo||i.default.findDOMNode(this),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentDidUpdate",value:function(e){this.props.enabled&&this.props.group!==e.group&&(this.context.unregisterPane(this.node,this.toArray(e.group)),this.context.registerPane(this.node,this.toArray(this.props.group)))}},{key:"componentWillUnmount",value:function(){this.props.enabled&&this.context.unregisterPane(this.node,this.toArray(this.props.group))}},{key:"render",value:function(){return this.props.children}}]),n}(r.Component);c.contextType=s.default,c.propTypes={children:l.default.node.isRequired,attachTo:l.default.object,group:l.default.oneOfType([l.default.string,l.default.arrayOf(l.default.string)]),enabled:l.default.bool},c.defaultProps={group:"default",enabled:!0},c.contextTypes={registerPane:l.default.func,unregisterPane:l.default.func},n.default=c,e.exports=n.default},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(8);Object.defineProperty(n,"ScrollSync",{enumerable:!0,get:function(){return i(o).default}});var r=t(9);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"ScrollSyncPane",{enumerable:!0,get:function(){return i(r).default}})},function(e,n,t){"use strict";(function(n){if("production"!==n.env.NODE_ENV)var o=t(2),r=t(6),i=t(3),l={};e.exports=function(e,t,s,u,a){if("production"!==n.env.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var d;try{o("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",u||"React class",s,c),d=e[c](t,c,u,s,null,i)}catch(e){d=e}if(r(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",u||"React class",s,c,typeof d),d instanceof Error&&!(d.message in l)){l[d.message]=!0;var f=a?a():"";r(!1,"Failed %s type: %s%s",s,d.message,null!=f?f:"")}}}}).call(n,t(0))},function(e,n,t){"use strict";var o=t(1),r=t(2),i=t(3);e.exports=function(){function e(e,n,t,o,l,s){s!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n};return t.checkPropTypes=o,t.PropTypes=t,t}},function(e,n,t){"use strict";(function(n){var o=t(1),r=t(2),i=t(6),l=t(3),s=t(11);e.exports=function(e,t){var u="function"==typeof Symbol&&Symbol.iterator,a="<<anonymous>>",c={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:f(o.thatReturnsNull),arrayOf:function(e){return f((function(n,t,o,r,i){if("function"!=typeof e)return new d("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var s=n[t];if(!Array.isArray(s))return new d("Invalid "+r+" `"+i+"` of type `"+p(s)+"` supplied to `"+o+"`, expected an array.");for(var u=0;u<s.length;u++){var a=e(s,u,o,r,i+"["+u+"]",l);if(a instanceof Error)return a}return null}))},element:f((function(n,t,o,r,i){var l=n[t];return e(l)?null:new d("Invalid "+r+" `"+i+"` of type `"+p(l)+"` supplied to `"+o+"`, expected a single ReactElement.")})),instanceOf:function(e){return f((function(n,t,o,r,i){if(!(n[t]instanceof e)){var l=e.name||a;return new d("Invalid "+r+" `"+i+"` of type `"+((s=n[t]).constructor&&s.constructor.name?s.constructor.name:a)+"` supplied to `"+o+"`, expected instance of `"+l+"`.")}var s;return null}))},node:f((function(e,n,t,o,r){return h(e[n])?null:new d("Invalid "+o+" `"+r+"` supplied to `"+t+"`, expected a ReactNode.")})),objectOf:function(e){return f((function(n,t,o,r,i){if("function"!=typeof e)return new d("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var s=n[t],u=p(s);if("object"!==u)return new d("Invalid "+r+" `"+i+"` of type `"+u+"` supplied to `"+o+"`, expected an object.");for(var a in s)if(s.hasOwnProperty(a)){var c=e(s,a,o,r,i+"."+a,l);if(c instanceof Error)return c}return null}))},oneOf:function(e){return Array.isArray(e)?f((function(n,t,o,r,i){for(var l=n[t],s=0;s<e.length;s++)if(u=l,a=e[s],u===a?0!==u||1/u==1/a:u!=u&&a!=a)return null;var u,a;return new d("Invalid "+r+" `"+i+"` of value `"+l+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==n.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==n.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",y(r),t),o.thatReturnsNull}return f((function(n,t,o,r,i){for(var s=0;s<e.length;s++)if(null==(0,e[s])(n,t,o,r,i,l))return null;return new d("Invalid "+r+" `"+i+"` supplied to `"+o+"`.")}))},shape:function(e){return f((function(n,t,o,r,i){var s=n[t],u=p(s);if("object"!==u)return new d("Invalid "+r+" `"+i+"` of type `"+u+"` supplied to `"+o+"`, expected `object`.");for(var a in e){var c=e[a];if(c){var f=c(s,a,o,r,i+"."+a,l);if(f)return f}}return null}))}};function d(e){this.message=e,this.stack=""}function f(e){if("production"!==n.env.NODE_ENV)var o={},s=0;function u(u,c,f,m,h,p,g){if(m=m||a,p=p||f,g!==l)if(t)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==n.env.NODE_ENV&&"undefined"!=typeof console){var y=m+":"+f;!o[y]&&s<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,m),o[y]=!0,s++)}return null==c[f]?u?null===c[f]?new d("The "+h+" `"+p+"` is marked as required in `"+m+"`, but its value is `null`."):new d("The "+h+" `"+p+"` is marked as required in `"+m+"`, but its value is `undefined`."):null:e(c,f,m,h,p)}var c=u.bind(null,!1);return c.isRequired=u.bind(null,!0),c}function m(e){return f((function(n,t,o,r,i,l){var s=n[t];return p(s)!==e?new d("Invalid "+r+" `"+i+"` of type `"+g(s)+"` supplied to `"+o+"`, expected `"+e+"`."):null}))}function h(n){switch(typeof n){case"number":case"string":case"undefined":return!0;case"boolean":return!n;case"object":if(Array.isArray(n))return n.every(h);if(null===n||e(n))return!0;var t=function(e){var n=e&&(u&&e[u]||e["@@iterator"]);if("function"==typeof n)return n}(n);if(!t)return!1;var o,r=t.call(n);if(t!==n.entries){for(;!(o=r.next()).done;)if(!h(o.value))return!1}else for(;!(o=r.next()).done;){var i=o.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function p(e){var n=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,n){return"symbol"===e||"Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol}(n,e)?"symbol":n}function g(e){if(null==e)return""+e;var n=p(e);if("object"===n){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return n}function y(e){var n=g(e);switch(n){case"array":case"object":return"an "+n;case"boolean":case"date":case"regexp":return"a "+n;default:return n}}return d.prototype=Error.prototype,c.checkPropTypes=s,c.PropTypes=c,c}}).call(n,t(0))},function(e,t){e.exports=n}])},e.exports=o(t(66029),t(37704))},37372:(e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!1}),n.default=function(e,n){if(e===n)return 0;var t=e.length,o=n.length;if(!t)return o;if(!o)return t;if(t>o){var r=[n,e];e=r[0],n=r[1];var i=[o,t];t=i[0],o=i[1]}for(;t>0&&e[t-1]===n[o-1];)t--,o--;var l=0;if(e[0]===n[0]||!t){for(;l<t&&e[l]===n[l];)l++;if(o-=l,!(t-=l))return o;n=n.slice(l,l+o)}for(var s=new Array(o),u=new Array(o),a=0;a<o;a++)s[a]=a+1;for(var c=e[0],d=0,f=0;f<t;f++){var m=c,h=0,p=n[0],g=f;d=f+1,c=e[l+f];for(var y=0;y<o;y++){var b=d,w=p,v=h;p=n[y],h=u[y],u[y]=d=g,g=s[y],c!==p&&(g<d&&(d=g),b<d&&(d=b),d++,0!==f&&0!==y&&c===w&&p===m&&++v<d&&(d=v)),s[y]=d}}return d},n.limited=function(e,n,t){if(n===t)return 0;var o=n.length,r=t.length;if(!o)return r>e?1/0:r;if(!r)return o>e?1/0:o;if(o>r){var i=[t,n];n=i[0],t=i[1];var l=[r,o];o=l[0],r=l[1]}for(;o>0&&n[o-1]===t[r-1];)o--,r--;var s=0;if(n[0]===t[0]||!o){for(;s<o&&n[s]===t[s];)s++;if(r-=s,!(o-=s))return r>e?1/0:r;t=t.slice(s,s+r)}var u=r-o;if(e>r)e=r;else if(u>e)return 1/0;var a=new Array(r),c=new Array(r),d=void 0;for(d=0;d<e;d++)a[d]=d+1;for(;d<r;d++)a[d]=e+1;var f=e-u,m=e<r,h=0,p=e,g=n[0],y=0;for(d=0;d<o;d++){var b=g,w=0,v=t[0],C=d;y=d+1,g=n[s+d],p+=p<r?1:0;for(var x=h+=d>f?1:0;x<p;x++){var O=y,I=v,R=w;v=t[x],w=c[x],c[x]=y=C,C=a[x],g!==v&&(C<y&&(y=C),O<y&&(y=O),y++,0!==d&&0!==x&&g===I&&v===b&&++R<y&&(y=R)),a[x]=y}if(m&&a[d+u]>e)return 1/0}return y<=e?y:1/0},e.exports=n.default,n.default.limited=n.limited}}]);