[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[project]
name = "link-duplicates"
description = "Identify duplicate files and optionally create hardlinks to save storage"
readme = "README.md"
license = {text = "EUPL 1.2"}

version = "0.0.1"
requires-python = ">=3.12"
dependencies = [
    "click"
]

[tool.setuptools.packages.find]
where = ["."]
include = ["*"]
exclude = ["test*"]

[project.scripts]
dupes = "duplicates.cli:dupes"

[tool.pytest.ini_options]
xfail_strict=true
addopts = "-m 'not tox'"
markers = [
    "tox: tests must run in a tox environment"
    ]

[tool.tox]
legacy_tox_ini = """
    [tox]
    isolated_build = True
    requires = build
    envlist = py
    [testenv]
    deps = -rtest/requirements.txt
    commands = pytest -m tox
"""