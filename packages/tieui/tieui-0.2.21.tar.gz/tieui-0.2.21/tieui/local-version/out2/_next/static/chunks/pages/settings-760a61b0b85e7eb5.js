(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{8356:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return s(5971)}])},5971:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var n=s(5893),r=s(9008),a=s.n(r),i=s(7357),c=s(5582),l=s(6447),o=s(5861),d=s(7294),u=s(6242),x=s(8445),h=s(7720),j=s(4267),Z=s(1426),p=s(480),m=s(9368),f=s(2023),v=s(3321);let b=()=>{let e=(0,d.useCallback)(e=>{e.preventDefault()},[]);return(0,n.jsx)("form",{onSubmit:e,children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(x.Z,{subheader:"Manage the notifications",title:"Notifications"}),(0,n.jsx)(h.Z,{}),(0,n.jsx)(j.Z,{children:(0,n.jsxs)(Z.Z,{container:!0,spacing:6,wrap:"wrap",children:[(0,n.jsx)(Z.Z,{xs:12,sm:6,md:4,children:(0,n.jsxs)(l.Z,{spacing:1,children:[(0,n.jsx)(o.Z,{variant:"h6",children:"Notifications"}),(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(p.Z,{control:(0,n.jsx)(m.Z,{defaultChecked:!0}),label:"Email"}),(0,n.jsx)(p.Z,{control:(0,n.jsx)(m.Z,{defaultChecked:!0}),label:"Push Notifications"}),(0,n.jsx)(p.Z,{control:(0,n.jsx)(m.Z,{}),label:"Text Messages"}),(0,n.jsx)(p.Z,{control:(0,n.jsx)(m.Z,{defaultChecked:!0}),label:"Phone calls"})]})]})}),(0,n.jsx)(Z.Z,{item:!0,md:4,sm:6,xs:12,children:(0,n.jsxs)(l.Z,{spacing:1,children:[(0,n.jsx)(o.Z,{variant:"h6",children:"Messages"}),(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(p.Z,{control:(0,n.jsx)(m.Z,{defaultChecked:!0}),label:"Email"}),(0,n.jsx)(p.Z,{control:(0,n.jsx)(m.Z,{}),label:"Push Notifications"}),(0,n.jsx)(p.Z,{control:(0,n.jsx)(m.Z,{defaultChecked:!0}),label:"Phone calls"})]})]})})]})}),(0,n.jsx)(h.Z,{}),(0,n.jsx)(f.Z,{sx:{justifyContent:"flex-end"},children:(0,n.jsx)(v.Z,{variant:"contained",children:"Save"})})]})})};var g=s(6886),y=s(9661),w=s(135),C=s(6228),P=s(9828);let U=e=>{let[t,s]=(0,d.useState)(""),r=e=>{console.log("CHANGE"),s(e.target.value)},a=async()=>{if("Contact Us"===g)window.location.href=window.location.origin+"/contact",console.log("Contact Us");else{let e=(0,P.JU)(C.db,"users",C.I.currentUser.uid),s=await (0,P.QT)(e),n=s.data();if(2>parseInt(t)&&!n.isPaidUser&&7>parseFloat(b))alert("Error: Minimum quantity for this price range is 2 subscriptions!");else{try{let e=await fetch("http://localhost:8080/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:C.I.currentUser.uid,price:100*parseFloat(b),customer_email:n.email,quantity:parseInt(t),new_payment_id:2>parseInt(t)&&n.isPaidUser})}),s=await e.json();303===s.code&&(window.location.href=s.url)}catch(e){console.error("There was an error creating the checkout session:",e)}console.log("Quantity: ".concat(t,", UserID: ").concat(C.I.currentUser.uid,", price: ").concat(b,", total: ").concat(b*t))}}},{avatar:c,name:l,city:x,country:Z,timezone:p,jobTitle:m,price:b,buttonCode:g,userId:U}=e.user;return(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(j.Z,{children:(0,n.jsxs)(i.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[(0,n.jsx)(y.Z,{src:c,sx:{height:80,mb:2,width:80}}),(0,n.jsx)(o.Z,{gutterBottom:!0,variant:"h5",children:l}),(0,n.jsx)(o.Z,{gutterBottom:!0,variant:"h4",children:g?null:"".concat(b," /pp/month")}),(0,n.jsx)(o.Z,{color:"text.secondary",variant:"body2",children:x}),(0,n.jsx)(o.Z,{color:"text.secondary",variant:"body2",children:Z}),(0,n.jsx)(o.Z,{color:"text.secondary",variant:"body2",children:p}),(0,n.jsx)(o.Z,{color:"text.secondary",variant:"body2",children:m})]})}),(0,n.jsx)(h.Z,{}),(0,n.jsxs)(f.Z,{children:[g?null:(0,n.jsx)(w.Z,{label:"Qty",name:"Qty",onChange:r,value:t}),(0,n.jsx)(v.Z,{fullWidth:!0,variant:"text",onClick:a,children:g||"Purchase"})]})]})},S=()=>{let[e,t]=(0,d.useState)({password:"",confirm:""}),[s,r]=(0,d.useState)({}),[a,i]=(0,d.useState)(null);(0,d.useEffect)(()=>{let e=async()=>{if(C.I.currentUser){i(C.I.currentUser.uid);let e=(0,P.JU)(C.db,"users",C.I.currentUser.uid),t=await (0,P.QT)(e);if(t.exists()){let e=t.data();r(e),console.log(e)}}};e()},[]),(0,d.useCallback)(e=>{t(t=>({...t,[e.target.name]:e.target.value}))},[]);let c=(0,d.useCallback)(e=>{e.preventDefault()},[]);return(0,n.jsxs)("form",{onSubmit:c,children:[(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(x.Z,{subheader:"Choose Plan",title:"Active Plan: "+s.activePlan}),(0,n.jsx)(h.Z,{}),(0,n.jsx)(j.Z,{children:(0,n.jsxs)(g.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(g.ZP,{item:!0,xs:4,children:(0,n.jsx)(U,{user:{avatar:"/assets/avatars/avatar-alcides-antonio.png",city:"1 Member",country:"1 Month Support",jobTitle:"Served",name:"Individual",timezone:"Unlimitted Projects",price:"7.99",userId:a}})}),(0,n.jsx)(g.ZP,{item:!0,xs:4,children:(0,n.jsx)(U,{user:{avatar:"/assets/avatars/avatar-cao-yu.png",city:"2 - 10 Members",country:"Dedicated Support",jobTitle:"Served",name:"Studio",timezone:"Unlimitted Projects",price:"5.99",userId:a}})}),(0,n.jsx)(g.ZP,{item:!0,xs:4,children:(0,n.jsx)(U,{user:{avatar:"/assets/avatars/avatar-carson-darrin.png",city:"> 10 Members",country:"Dedicated Support & Customizations",jobTitle:"Served",name:"Enterprise",timezone:"Unlimitted Projects",price:"Contact Us",buttonCode:"Contact Us",userId:a}})})]})}),(0,n.jsx)(h.Z,{}),(0,n.jsx)(f.Z,{sx:{justifyContent:"flex-end"}})]}),"To cancel your subscription message us: info@tieui.app"]})};var I=s(8334);let _=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"Settings | TieUi"})}),(0,n.jsx)(i.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,n.jsx)(c.Z,{maxWidth:"lg",children:(0,n.jsxs)(l.Z,{spacing:3,children:[(0,n.jsx)(o.Z,{variant:"h4",children:"Settings"}),(0,n.jsx)(S,{}),(0,n.jsx)(b,{})]})})})]});_.getLayout=e=>(0,n.jsx)(I.A,{children:e});var k=_}},function(e){e.O(0,[16,737,321,952,177,85,664,850,135,688,678,162,138,334,774,888,179],function(){return e(e.s=8356)}),_N_E=e.O()}]);