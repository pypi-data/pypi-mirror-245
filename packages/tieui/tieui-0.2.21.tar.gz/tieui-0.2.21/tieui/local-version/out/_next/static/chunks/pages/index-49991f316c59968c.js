(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(5970)}])},6222:function(e,t,o){"use strict";o.d(t,{g:function(){return p}});var r=o(5893),n=o(7294);let a=n.forwardRef(function({title:e,titleId:t,...o},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},o),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"}))});var l=o(6242),s=o(7357),i=o(7709),c=o(7109),u=o(3219),d=o(3321);let p=e=>{let{onResponse:t,uid:o}=e,[p,h]=(0,n.useState)(""),f=e=>{h(e.target.value)},g=async()=>{try{let e=await fetch("http://localhost:8080/register-app/"+o+p,{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){let e=new URL(window.location.href);e.searchParams.append("appName",o+p),window.history.pushState({},"",e.toString()),window.location.reload()}else{let t=await e.text();console.error("Error registering the app:",t)}}catch(e){console.error("Error:",e)}};return(0,r.jsxs)(l.Z,{sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(s.Z,{sx:{mb:2,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:(0,r.jsx)(i.Z,{value:p,fullWidth:!0,placeholder:"New Dashboard Name",startAdornment:(0,r.jsx)(c.Z,{position:"start",children:(0,r.jsx)(u.Z,{color:"action",fontSize:"small",children:(0,r.jsx)(a,{})})}),sx:{maxWidth:500},onChange:f,onKeyPress:e=>{"Enter"===e.key&&g()}})}),(0,r.jsx)(d.Z,{variant:"contained",onClick:g,children:"Get Started"})]})}},5970:function(e,t,o){"use strict";o.r(t);var r=o(5893),n=o(9008),a=o.n(n),l=o(7357),s=o(5582),i=o(8456),c=(o(5861),o(8334)),u=o(7294),d=o(135),p=o(1085),h=o(3321),f=o(9968);o(9611),o(8725);var g=o(7309),w=o(1962),m=o(1163),y=(o(6222),o(6228)),S=o(9828),x=o(7632),E=o(2662);function v(){let e=window.location.search.substring(0);return Object.fromEntries(new URLSearchParams(e))}async function T(e,t,o){console.log("RUNNING SAVED DATA"),console.log(e),console.log(t);let r="local",n={location:e?"./"+o+".py":"./"+r+".py",isIndependent:e,newAppName:t,ogAppName:o,appName:r};console.log(JSON.stringify(n));let a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};try{let e=await fetch("http://localhost:8080/run-published-code",a);if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status," - ").concat(e.statusText));let t=await e.json();console.log("Response:",t)}catch(e){console.error("Error:",e)}}(0,f.WidthProvider)(f.Responsive),d.Z,p.Z,g.k,h.Z;let j=()=>{let e=(0,m.useRouter)(),{isSaved:t}=v(),[o,n]=(0,u.useState)({}),[c,d]=(0,u.useState)(""),[p,h]=(0,u.useState)(!1),[f,g]=(0,u.useState)(!1),[j,N]=(0,u.useState)(null),[U,O]=(0,u.useState)(!0),[b,R]=(0,u.useState)(Boolean(t)),I=(0,E.a)();return(0,u.useEffect)(()=>{let t=localStorage.getItem("currentUser");if(console.log("THE STORED USER IS: ",t),t){let e=JSON.parse(t);I.setUser(e)}let o="local";fetch("http://localhost:8080/register-app/"+o,{method:"POST",headers:{"Content-Type":"application/json"}});let r=async()=>{if(console.log(" I AM THE BEST ONE HERE "),o)try{let e=await fetch("http://localhost:8080/stop_subprocess/".concat(o),{method:"POST",headers:{"Content-Type":"application/json"}});e.ok?console.log("POST request on unload successful"):console.error("HTTP error! Status: ".concat(e.status," - ").concat(e.statusText))}catch(e){console.error("Error:",e)}},n=async()=>{let{isSaved:e,isIndependent:t}=v();if(t){g(f),(0,x.Z)();try{let e="local",t=await fetch("http://localhost:8080/register-app/"+e,{method:"POST",headers:{"Content-Type":"application/json"}});if(t.ok){console.log("RESPONSE OK");let{ogAppName:t}=v();window.location.href=window.location.origin+"?appName="+e+"&isSaved=true&independetReview=true&ogAppName="+t}else{let e=await t.text();console.error("Error registering the app:",e)}}catch(e){console.error("Error:",e)}}e&&(f||await fetch("http://localhost:8080/register-app/local",{method:"POST",headers:{"Content-Type":"application/json"}}),setTimeout(()=>{let{ogAppName:e,independetReview:t}=v();console.log("running saved data"),O(!0),T(t,"local",e),O(!1)},5e3))},a=async()=>{if(y.I.currentUser){let e=(0,S.JU)(y.db,"users",y.I.currentUser.uid);d(y.I.currentUser.uid);let t=await (0,S.QT)(e);t.data()}};n();let l=setInterval(a,100);return window.addEventListener("beforeunload",r),e.events.on("routeChangeStart",r),()=>{e.events.off("routeChangeStart",r),window.removeEventListener("beforeunload",r),clearInterval(l)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"Overviews | TieUi"})}),(0,r.jsx)(l.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,r.jsxs)(s.Z,{maxWidth:"xl",children:[U&&t?(0,r.jsx)(i.Z,{}):null,(0,r.jsx)(w.default,{aName:j})]})})]})};j.getLayout=e=>(0,r.jsx)(c.A,{children:e}),t.default=j},7632:function(e,t,o){"use strict";let r;o.d(t,{Z:function(){return c}});let n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var a={randomUUID:n};let l=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(l)}let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));var c=function(e,t,o){if(a.randomUUID&&!t&&!e)return a.randomUUID();e=e||{};let r=e.random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){o=o||0;for(let e=0;e<16;++e)t[o+e]=r[e];return t}return function(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}(r)}}},function(e){e.O(0,[16,737,321,952,177,85,664,850,135,688,11,162,72,806,309,334,573,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);