(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{5582:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var o=r(3366),n=r(7462),a=r(7294),i=r(6010),s=r(4142),u=r(4867),l=r(4780),c=r(9628),d=r(3264),p=r(6500),f=r(5893);let h=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,p.Z)(),g=(0,d.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,s.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),x=e=>(0,c.Z)({props:e,name:"MuiContainer",defaultTheme:m}),S=(e,t)=>{let r=e=>(0,u.Z)(t,e),{classes:o,fixed:n,disableGutters:a,maxWidth:i}=e,c={root:["root",i&&`maxWidth${(0,s.Z)(String(i))}`,n&&"fixed",a&&"disableGutters"]};return(0,l.Z)(c,r,o)};var b=r(8216),v=r(948),w=r(1657);let y=function(e={}){let{createStyledComponent:t=g,useThemeProps:r=x,componentName:s="MuiContainer"}=e,u=t(({theme:e,ownerState:t})=>(0,n.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let o=e.breakpoints.values[r];return 0!==o&&(t[e.breakpoints.up(r)]={maxWidth:`${o}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,n.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}})),l=a.forwardRef(function(e,t){let a=r(e),{className:l,component:c="div",disableGutters:d=!1,fixed:p=!1,maxWidth:m="lg"}=a,g=(0,o.Z)(a,h),x=(0,n.Z)({},a,{component:c,disableGutters:d,fixed:p,maxWidth:m}),b=S(x,s);return(0,f.jsx)(u,(0,n.Z)({as:c,ownerState:x,className:(0,i.default)(b.root,l),ref:t},g))});return l}({createStyledComponent:(0,v.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,b.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,w.Z)({props:e,name:"MuiContainer"})});var E=y},3292:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/live",function(){return r(2255)}])},6228:function(e,t,r){"use strict";r.d(t,{I:function(){return u},db:function(){return s}});var o=r(3977),n=r(1259);r(8887);var a=r(9828);let i=(0,o.ZF)({apiKey:"AIzaSyDLZx4QnHiTBSldEmBIELSY5QdFAio7hjw",authDomain:"tieui-8280c.firebaseapp.com",projectId:"tieui-8280c",storageBucket:"tieui-8280c.appspot.com",messagingSenderId:"731658726654",appId:"1:731658726654:web:b705f9a2a40333253fc9af",measurementId:"G-NBR7Y6Q8JD"}),s=(0,a.ad)(i),u=(0,n.v0)(i)},2662:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});var o=r(7294),n=r(249);let a=()=>(0,o.useContext)(n.Vo)},2255:function(e,t,r){"use strict";r.r(t);var o=r(5893),n=r(9008),a=r.n(n),i=r(7357),s=r(5582),u=r(7294),l=r(135),c=r(1085),d=r(3321),p=r(9968);r(9611),r(8725);var f=r(7309),h=r(1962),m=r(1163),g=r(6228),x=r(9828),S=r(7632),b=r(2662),v=r(8456);function w(){let e=window.location.search.substring(0);return Object.fromEntries(new URLSearchParams(e))}async function y(e,t,r){console.log("RUNNING SAVED DATA"),console.log(e),console.log(t);let{appName:o}=w(),n={location:e?"./"+r+".py":"./"+o+".py",isIndependent:e,newAppName:t,ogAppName:r,appName:o};console.log(JSON.stringify(n));let a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};try{let e=await fetch("http://localhost:8080/run-published-code",a);if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status," - ").concat(e.statusText));let t=await e.json();console.log("Response:",t)}catch(e){console.error("Error:",e)}}(0,p.WidthProvider)(p.Responsive),l.Z,c.Z,f.k,d.Z;let E=()=>{let e=(0,m.useRouter)(),{appName:t}=e.query,[r,n]=(0,u.useState)({}),[l,c]=(0,u.useState)(""),[d,p]=(0,u.useState)(!1),[f,E]=(0,u.useState)(!1),[T,Z]=(0,u.useState)(!0),[I,N]=(0,u.useState)(null),R=(0,b.a)();return(0,u.useEffect)(()=>{let t=localStorage.getItem("currentUser");if(console.log("THE STORED USER IS: ",t),t){let e=JSON.parse(t);R.setUser(e)}let{appName:r}=w(),o=async()=>{if(console.log(" I AM THE BEST ONE HERE "),r)try{let e=await fetch("http://localhost:8080/stop_subprocess/".concat(r),{method:"POST",headers:{"Content-Type":"application/json"}});e.ok?console.log("POST request on unload successful"):console.error("HTTP error! Status: ".concat(e.status," - ").concat(e.statusText))}catch(e){console.error("Error:",e)}},a=async()=>{let{isSaved:e,isIndependent:t}=w();if(t){E(f);let e=(0,S.Z)();try{let{appName:t}=w(),r=await fetch("http://localhost:8080/register-app/"+e,{method:"POST",headers:{"Content-Type":"application/json"}});if(r.ok){console.log("RESPONSE OK");let{ogAppName:t}=w();window.location.href=window.location.origin+"/live?appName="+e+"&isSaved=true&independetReview=true&ogAppName="+t}else{let e=await r.text();console.error("Error registering the app:",e)}}catch(e){console.error("Error:",e)}}if(e){if(!f){let{appName:e}=w();await fetch("http://localhost:8080/register-app/"+e,{method:"POST",headers:{"Content-Type":"application/json"}})}setTimeout(()=>{let{appName:e,ogAppName:t,independetReview:r}=w();console.log("running saved data"),Z(!0),y(r,e,t),Z(!1)},5e3)}},i=async()=>{if(g.I.currentUser){let e=(0,x.JU)(g.db,"users",g.I.currentUser.uid);c(g.I.currentUser.uid);let t=await (0,x.QT)(e),r=t.data();r&&(n(r),r.isPaidUser||p(!0),console.log("here",r),clearInterval(s))}};a();let s=setInterval(i,100);return window.addEventListener("beforeunload",o),e.events.on("routeChangeStart",o),()=>{e.events.off("routeChangeStart",o),window.removeEventListener("beforeunload",o),clearInterval(s)}},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a(),{children:(0,o.jsx)("title",{children:"Live | TieUi"})}),(0,o.jsx)(i.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,o.jsx)(s.Z,{maxWidth:"xl",children:T?(0,o.jsx)(v.Z,{}):(0,o.jsx)(h.default,{aName:I})})})]})};t.default=E},7632:function(e,t,r){"use strict";let o;r.d(t,{Z:function(){return l}});let n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var a={randomUUID:n};let i=new Uint8Array(16);function s(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}let u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));var l=function(e,t,r){if(a.randomUUID&&!t&&!e)return a.randomUUID();e=e||{};let o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]}(o)}}},function(e){e.O(0,[16,737,321,952,177,85,850,135,162,72,806,309,573,774,888,179],function(){return e(e.s=3292)}),_N_E=e.O()}]);