import{d as C,D as S,H as F,M as R,f as x,g as d,I as p,j as m,c as _,k as a,o as n,m as s,L as B,u as e,N as I,v as f,O as M,W as N,l as k,P as T,R as V,S as D,T as A,V as U,F as W,a as j,p as H,X as P,Y as z,e as E}from"./index-r9K2gvRd.js";import{s as L,a as O}from"./index-dtQ9cO0w.js";const X={key:1,class:"workspace-dashboard__grid"},Y={class:"workspace-dashboard__side"},Q=C({__name:"Dashboard",setup(q){S(F,{interval:L(30)});const v=R(),u=x(v.flowRuns.getFlowRunsCount,[{}]),b=d(()=>u.executed),i=d(()=>u.response===0),w=[{text:"Dashboard"}],t=p("span",z,O*24),o=p("tags",[]),r=d(()=>({timeSpanInSeconds:t.value,tags:o.value})),g=()=>E.map("WorkspaceDashboardFilter",r.value,"TaskRunsFilter");return(G,l)=>{const h=m("p-button"),y=m("p-layout-default");return n(),_(y,{class:"workspace-dashboard"},{header:a(()=>[s(e(N),{crumbs:w},B({_:2},[i.value?void 0:{name:"actions",fn:a(()=>[s(e(I),{selected:e(o),"onUpdate:selected":l[0]||(l[0]=c=>f(o)?o.value=c:null),filter:{},"empty-message":"All tags",class:"workspace-dashboard__tags"},null,8,["selected"]),s(e(M),{selected:e(t),"onUpdate:selected":l[1]||(l[1]=c=>f(t)?t.value=c:null)},null,8,["selected"])]),key:"0"}]),1024)]),default:a(()=>[b.value?(n(),k(W,{key:0},[i.value?(n(),_(e(T),{key:0})):(n(),k("div",X,[s(e(V),{filter:r.value},null,8,["filter"]),D("div",Y,[s(e(A),{filter:g}),s(e(U),{class:"workspace-dashboard__work-pools",filter:r.value},null,8,["filter"])])]))],64)):j("",!0),s(e(P),{title:"Ready to scale?",subtitle:"Automations, role and object-level security, and serverless push work pools on Prefect Cloud"},{actions:a(()=>[s(h,{to:"https://www.prefect.io/cloud-vs-oss?utm_source=oss&utm_medium=oss&utm_campaign=oss&utm_term=none&utm_content=none",target:"_blank",primary:""},{default:a(()=>[H(" Upgrade to Cloud ")]),_:1})]),_:1})]),_:1})}}});export{Q as default};
