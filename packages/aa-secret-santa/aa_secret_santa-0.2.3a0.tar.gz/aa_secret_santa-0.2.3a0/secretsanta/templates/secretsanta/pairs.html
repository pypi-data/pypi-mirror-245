{% extends "secretsanta/base.html" %}
{% load i18n %}
{% load humanize %}
{% block details %}
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">{% translate "Secret Santa Pairs" %}</h3>
        </div>
        <div class="panel-body">
            <table class="table table-hover" id="table-secret-santa-pairs">
                <thead>
                    <tr>
                        <th class="text-left">{% translate "Santa" %}</th>
                        <th class="text-left">{% translate "Santee" %}</th>
                        <th class="text-left">{% translate "Delivered" %}</th>
                    </tr>
                </thead>
                <tbody>
                    {% for pair in pairs %}
                        <tr>
                            <td>{{ pair.santa.profile.main_character }}</td>
                            <td>{{ pair.santee.profile.main_character }}</td>
                            <td>{{ pair.delivered }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% if year.open %}
    {% else %}
        <a class="btn btn-warning" href="{% url 'secretsanta:notify_santas' year.year %}" role="button"><span class="fa fas fa-skull-crossbones"></span>{% trans "notify_santas" %}<span class="fa fas fa-skull-crossbones"></span></a>
        <a class="btn btn-info" href="{% url 'secretsanta:notify_outstanding_santees' year.year %}" role="button"><span class="fa fas fa-skull-crossbones"></span>{% trans "notify_outstanding_santees" %}<span class="fa fas fa-skull-crossbones"></span></a>
    {% endif %}
{% endblock details %}
{% block extra_javascript %}
    {% include "bundles/datatables-js.html" %}
    {% include "bundles/moment-js.html" %}
{% endblock extra_javascript %}
{% block extra_css %}
    {% include "bundles/datatables-css.html" %}
{% endblock extra_css %}
{% block extra_script %}
    $(document).ready( function () {
    $('#table-secret-santa-pairs').DataTable({
    lengthMenu: [
    [10, 25, 50, 100, -1],
    [10, 25, 50, 100, 'All'],
    ],
    "stateSave": true,
    "stateDuration": 0
    });
    } );
{% endblock extra_script %}
