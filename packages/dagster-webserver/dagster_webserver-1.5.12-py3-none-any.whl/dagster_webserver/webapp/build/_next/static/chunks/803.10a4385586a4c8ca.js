"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[803],{29211:function(n,e,t){t.d(e,{G:function(){return PipelineRunsRoot}});var r=t(85333),i=t(6692),a=t(58467),s=t(73235),o=t(82550),l=t(52322),u=t(60138),c=t(21221),p=t(28888),d=t(18399),h=t(92364),x=t(57830),m=t(12084),j=t(83302),v=t(34e3),f=t(2784),g=t(7267),b=t(91195),_=t(55237),y=t(68028),R=t(12746),S=t(84495),P=t(38917),O=t(49313),C=t(65767),E=t(16148),I=t(90894),N=t(19358),F=t(51969),k=t(44254),w=t(38153),A=t(88286),T=t(14388);function _templateObject(){var n=(0,s._)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return _templateObject=function(){return n},n}var $=["status","tag","id","created_date_before","created_date_after"],PipelineRunsRoot=function(n){(0,y.Px)();var e=(0,g.UO)().pipelinePath,t=n.repoAddress,s=void 0===t?null:t,u=(0,A.p3)(e),v=u.pipelineName,b=u.snapshotId,E=(0,F.Ux)(s),w=(0,F.E8)(E,v);(0,T.b)(u,w);var U=(0,a._)((0,O.oD)($),2),V=U[0],q=U[1],z=f.useMemo(function(){return[w?{token:"job",value:v}:{token:"pipeline",value:v},b?{token:"snapshotId",value:b}:null].filter(Boolean)},[w,v,b]),H=(0,o._)(V).concat((0,o._)(z));if(s){var B={token:"tag",value:"".concat(S.H.RepositoryLabelTag,"=").concat((0,k.Wg)(s))};H.push(B)}var D=(0,C.l)({query:Y,pageSize:25,variables:{filter:(0,i._)((0,r._)({},(0,O.VH)(H)),{pipelineName:v,snapshotId:b})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.id},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),L=D.queryResult,Q=D.paginationProps,W=f.useCallback(function(n){var e=(0,c.HY)(n);V.some(function(n){return(0,c.HY)(n)===e})||q((0,o._)(V).concat([n]))},[V,q]),J=(0,_.C4)(L,_.dT),Z=(0,O.Vv)({enabledFilters:$,tokens:V,onChange:q,loading:L.loading}),G=Z.button,M=Z.activeFiltersJsx;return(0,l.jsx)(P.Lw.Provider,{value:{refetch:L.refetch},children:(0,l.jsx)(p.T,{children:(0,l.jsx)(I.g,{queryResult:L,allowStaleData:!0,children:function(n){var t=n.pipelineRunsOrError;if("Runs"!==t.__typename)return(0,l.jsx)(d.x,{padding:{vertical:64},children:(0,l.jsx)(h.t,{icon:"error",title:"Query Error",description:t.message})});var i=t.results.slice(0,25),a=Q.hasNextCursor,o=Q.hasPrevCursor;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N.Y,{$top:0,children:(0,l.jsx)(R.AL,{runs:i,onAddTag:W,actionBarComponents:(0,l.jsxs)(d.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[G,(0,l.jsx)(_.xi,{refreshState:J})]}),belowActionBarComponents:(0,l.jsxs)(l.Fragment,{children:[z.map(function(n){var e=n.token,t=n.value;return(0,l.jsx)(x.V,{children:"".concat(e,":").concat(t)},e)}),M.length?(0,l.jsxs)(l.Fragment,{children:[M,(0,l.jsx)(m.Z,{onClick:function(){q([])},children:"Clear all"})]}):null]}),emptyState:function(){return(0,l.jsx)(EmptyState,{repoAddress:s,anyFilter:V.length>0,jobName:v,jobPath:e})}})}),a||o?(0,l.jsx)("div",{style:{marginTop:"20px"},children:(0,l.jsx)(j.pI,(0,r._)({},Q))}):null]})}})})})},EmptyState=function(n){var e=n.repoAddress,t=n.anyFilter,r=n.jobName,i=n.jobPath,a=(0,F.Ux)(e),s=(0,F.Hb)(a,r);return(0,l.jsx)(d.x,{padding:{vertical:64},children:(0,l.jsx)(h.t,{icon:"run",title:"No runs found",description:e?s?(0,l.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,l.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,l.jsx)("div",{children:(0,l.jsx)(E.A,{icon:(0,l.jsx)(v.JO,{name:"materialization"}),to:(0,w.$U)(e,"/jobs/".concat(i)),children:"Materialize an asset"})})]}):(0,l.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,l.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,l.jsx)("div",{children:(0,l.jsx)(E.A,{icon:(0,l.jsx)(v.JO,{name:"add_circle"}),to:(0,w.$U)(e,"/jobs/".concat(i,"/playground")),children:"Launch a run"})})]}):(0,l.jsx)("div",{children:"You have not launched any runs for this job."})})})},Y=(0,u.Ps)(_templateObject(),R.ZZ,b.B)},8803:function(n,e,t){t.r(e),t.d(e,{SnapshotRoot:function(){return SnapshotRoot},default:function(){return R}});var r=t(52322);t(2784);var i=t(7267),a=t(43487),s=t(88286),o=t(29211),l=t(85333),u=t(6692),c=t(73235),p=t(60138),d=t(40794),h=t(57830),x=t(17131),m=t(81308),j=t(3842),v=t(56024),f=t(47933),g=t(40049),b=t(51969),_=t(38153);function _templateObject(){var n=(0,c._)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]);return _templateObject=function(){return n},n}var y=(0,p.Ps)(_templateObject()),SnapshotNav=function(n){var e,t,i=n.activeTab,a=n.explorerPath,o=a.pipelineName,c=a.snapshotId,p=void 0===c?"":c,R=(0,s.gY)((0,u._)((0,l._)({},a),{opNames:[]})),S=(0,b.Nc)(o),P=null==S?void 0:S.pipelineSnapshotId,O=(0,d.a)(y,{variables:{snapshotId:p}}),C=O.data,E=O.loading;return(0,r.jsx)(x.m,{title:(0,r.jsx)(m.X6,{style:{fontFamily:j.b.monospace,fontSize:"20px"},children:null===(t=a.snapshotId)||void 0===t?void 0:t.slice(0,8)}),tags:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.V,{icon:"schema",children:["Snapshot of"," ",(0,r.jsx)(f.rU,{to:(0,_.r4)(a.pipelineName),children:a.pipelineName})]}),E?(0,r.jsx)(h.V,{intent:"none",minimal:!0,children:"..."}):P&&(P===p||(null==C?void 0:C.pipelineSnapshotOrError.__typename)!=="PipelineSnapshot"||(null==C?void 0:null===(e=C.pipelineSnapshotOrError)||void 0===e?void 0:e.parentSnapshotId)===P)?(0,r.jsx)(h.V,{intent:"success",minimal:!0,children:"Current"}):(0,r.jsx)(h.V,{intent:"warning",minimal:!0,children:"Snapshot"})]}),tabs:(0,r.jsx)(v.mQ,{selectedTabId:void 0===i?"":i,children:[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(R)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(R,"runs")}].map(function(n){var e=n.href,t=n.text,i=n.pathComponent;return(0,r.jsx)(g.f,{id:i,title:t,to:e},t)})})})},SnapshotRoot=function(){var n=(0,i.UO)(),e=n.pipelinePath,t=n.tab,l=(0,s.p3)(e);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,r.jsx)(SnapshotNav,{activeTab:t,explorerPath:l}),(0,r.jsxs)(i.rs,{children:[(0,r.jsx)(i.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,r.jsx)(o.G,{})}),(0,r.jsx)(i.AW,{path:"/snapshots/(/?.*)",children:(0,r.jsx)(a.CY,{})})]})]})},R=SnapshotRoot}}]);
//# sourceMappingURL=803.10a4385586a4c8ca.js.map