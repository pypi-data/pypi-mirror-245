"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44,118],{28888:function(e,n,t){t.d(n,{T:function(){return i}});var r=t(73235);function _templateObject(){var e=(0,r._)(["\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 64px;\n  width: 100%;\n"]);return _templateObject=function(){return e},e}var i=t(35505).ZP.div.withConfig({componentId:"sc-2cf5acf-0"})(_templateObject())},17131:function(e,n,t){t.d(n,{m:function(){return PageHeader}});var r=t(73235),i=t(52322);t(2784);var o=t(35505),l=t(25195),s=t(18399);function _templateObject(){var e=(0,r._)(["\n  width: 100%;\n\n  /**\n   * Blueprint breadcrumbs annoyingly have a built-in height.\n   */\n  .bp4-breadcrumbs {\n    height: auto;\n  }\n"]);return _templateObject=function(){return e},e}var PageHeader=function(e){var n=e.title,t=e.tags,r=e.right,o=e.tabs;return(0,i.jsxs)(c,{background:(0,l.gJ)(),padding:{top:16,left:24,right:12},border:"bottom",children:[(0,i.jsxs)(s.x,{flex:{direction:"row",justifyContent:"space-between"},padding:{bottom:16},children:[(0,i.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:12,wrap:"wrap"},children:[n,t]}),r]}),o]})},c=(0,o.ZP)(s.x).withConfig({componentId:"sc-c36fe779-0"})(_templateObject())},72254:function(e,n,t){t.d(n,{Cd:function(){return globalAssetGraphPathToString},Lu:function(){return globalAssetGraphPathFromString},TJ:function(){return globalAssetGraphPathForAssetsAndDescendants}});var r=t(85333),i=t(6692),o=t(35157),l=t(88286),s="__GLOBAL__";function globalAssetGraphPathToString(e){var n=(0,l.gY)((0,i._)((0,r._)({},e),{pipelineName:s})).replace(s,"");return"/asset-groups".concat(n)}function globalAssetGraphPathFromString(e){return(0,l.p3)(s+e||"/")}function globalAssetGraphPathForAssetsAndDescendants(e){var n=e.map(function(e){return"".concat((0,o.Je)(e),"*")}).join(", ");return globalAssetGraphPathToString({opNames:n.length>16e3?[]:[e.map(o.Je).join(",")],opsQuery:n})}},51892:function(e,n,t){t.d(n,{h:function(){return y},m:function(){return k}});var r=t(58467),i=t(52322),o=t(16861),l=t(10952),s=t(9001),c=t(57830),a=t(18399),u=t(34e3),d=t(25195),h=t(12084),g=t(2784),p=t(47933),f=t(35157),m=t(74711),x=t(72254),v=t(49422),j=t(75375),renderItemAssetKey=function(e){return(0,i.jsx)(p.rU,{to:(0,m.p)(e),style:{display:"block",width:"100%"},children:(0,i.jsx)(o.g,{text:(0,f.ll)(e)})})},renderItemAssetCheck=function(e){return(0,i.jsx)(p.rU,{to:(0,m.A)(e),style:{display:"block",width:"100%"},children:(0,i.jsx)(o.g,{text:labelForAssetCheck(e)})})},labelForAssetCheck=function(e){return"".concat(e.name," on ").concat((0,f.ll)(e.assetKey))};function useShowMoreDialog(e,n,t){var o=(0,r._)(g.useState(!1),2),c=o[0],a=o[1];return{dialog:n&&n.length>1?(0,i.jsxs)(l.Vq,{title:e,onClose:function(){return a(!1)},style:{minWidth:"400px",width:"50vw",maxWidth:"800px",maxHeight:"70vh"},isOpen:c,children:[(0,i.jsx)("div",{style:{height:"500px",overflow:"hidden"},children:(0,i.jsx)(j.Y,{items:n,renderItem:t})}),(0,i.jsx)(l.cN,{topBorder:!0,children:(0,i.jsx)(s.zx,{intent:"primary",autoFocus:!0,onClick:function(){return a(!1)},children:"Done"})})]}):void 0,showMore:c,setShowMore:a}}var y=g.memo(function(e){var n=e.assetKeys,t=e.useTags,r=e.dialogTitle,o=useShowMoreDialog(void 0===r?"Assets in run":r,n,renderItemAssetKey),l=o.setShowMore,s=o.dialog;if(!n||!n.length)return null;if(1===n.length){var g=n[0];return(0,i.jsx)("span",{style:t?{}:{marginBottom:-4},children:(0,i.jsx)(v.c,{data:{key:"",value:""},actions:[{label:"View asset",to:(0,m.p)(g)},{label:"View downstream lineage",to:(0,m.p)(g,{view:"lineage",lineageScope:"downstream"})}],children:t?(0,i.jsx)(c.V,{intent:"none",interactive:!0,icon:"asset",children:(0,f.ll)(g)}):(0,i.jsx)(p.rU,{to:(0,m.p)(g),children:(0,i.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,i.jsx)(u.JO,{color:(0,d.md)(),name:"asset",size:16}),(0,f.ll)(g)]})})})})}return(0,i.jsxs)("span",{style:t?{}:{marginBottom:-4},children:[(0,i.jsx)(v.c,{data:{key:"",value:""},actions:[{label:"View list",onClick:function(){return l(!0)}},{label:"View downstream lineage",to:(0,x.TJ)(n)}],children:t?(0,i.jsxs)(c.V,{intent:"none",icon:"asset",children:[n.length," assets"]}):(0,i.jsx)(h.Z,{onClick:function(){return l(!0)},underline:"hover",children:(0,i.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center",display:"inline-flex"},children:[(0,i.jsx)(u.JO,{color:(0,d.md)(),name:"asset",size:16}),"".concat(n.length," assets")]})})}),s]})}),k=g.memo(function(e){var n=e.assetChecks,t=e.useTags,r=e.dialogTitle,o=useShowMoreDialog(void 0===r?"Asset checks in run":r,n,renderItemAssetCheck),l=o.setShowMore,s=o.dialog;if(!n||!n.length)return null;if(1===n.length){var g=n[0];return(0,i.jsx)("span",{style:t?{}:{marginBottom:-4},children:(0,i.jsx)(v.c,{data:{key:"",value:""},actions:[{label:"View asset check",to:(0,m.A)(g)}],children:t?(0,i.jsx)(c.V,{intent:"none",interactive:!0,icon:"asset_check",children:labelForAssetCheck(g)}):(0,i.jsx)(p.rU,{to:(0,m.A)(g),children:(0,i.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,i.jsx)(u.JO,{color:(0,d.md)(),name:"asset_check",size:16}),labelForAssetCheck(g)]})})})})}return(0,i.jsxs)("span",{style:t?{}:{marginBottom:-4},children:[(0,i.jsx)(v.c,{data:{key:"",value:""},actions:[{label:"View list",onClick:function(){return l(!0)}}],children:t?(0,i.jsxs)(c.V,{intent:"none",icon:"asset_check",children:[n.length," asset checks"]}):(0,i.jsx)(h.Z,{onClick:function(){return l(!0)},underline:"hover",children:(0,i.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center",display:"inline-flex"},children:[(0,i.jsx)(u.JO,{color:(0,d.md)(),name:"asset_check",size:16}),"".concat(n.length," asset checks")]})})}),s]})})},16530:function(e,n,t){t.d(n,{N:function(){return DeletionDialog}});var r=t(81862),i=t(87612),o=t(85333),l=t(6692),s=t(58467),c=t(22970),a=t(52322),u=t(33379),d=t(38058),h=t(59692),g=t(9001),p=t(34e3),f=t(25195),m=t(81308),x=t(10952),v=t(2784),j=t(66213),y=t(38917),refineToError=function(e){if((null==e?void 0:e.deletePipelineRun.__typename)==="DeletePipelineRunSuccess")throw Error("Not an error!");return null==e?void 0:e.deletePipelineRun},initializeState=function(e){return{step:"initial",frozenRuns:e,deletion:{completed:0,errors:{}}}},deletionDialogReducer=function(e,n){switch(n.type){case"reset":return initializeState(n.frozenRuns);case"start":return(0,l._)((0,o._)({},e),{step:"deleting"});case"deletion-success":var t=e.deletion;return(0,l._)((0,o._)({},e),{step:"deleting",deletion:(0,l._)((0,o._)({},t),{completed:t.completed+1})});case"deletion-error":var r=e.deletion;return(0,l._)((0,o._)({},e),{step:"deleting",deletion:(0,l._)((0,o._)({},r),{completed:r.completed+1,errors:(0,l._)((0,o._)({},r.errors),(0,i._)({},n.id,n.error))})});case"complete":return(0,l._)((0,o._)({},e),{step:"completed"})}},DeletionDialog=function(e){var n,t=e.isOpen,i=e.onClose,o=e.onComplete,l=e.onTerminateInstead,k=e.selectedRuns,w=v.useRef(k),b=(0,s._)(v.useReducer(deletionDialogReducer,w.current,initializeState),2),_=b[0],C=b[1],S=Object.keys(_.frozenRuns),A=S.length,O=S.filter(function(e){return _.frozenRuns[e]}).length;v.useEffect(function(){t&&C({type:"reset",frozenRuns:w.current})},[t]),v.useEffect(function(){t||(w.current=k)},[t,k]);var P=(0,s._)((0,u.D)(y.be),1)[0],D=(n=(0,r._)(function(){var e,n,t,r,i,l,s,a,u;return(0,c.Jh)(this,function(c){switch(c.label){case 0:C({type:"start"}),e=Object.keys(_.frozenRuns),n=!0,t=!1,r=void 0,c.label=1;case 1:c.trys.push([1,6,7,8]),i=e[Symbol.iterator](),c.label=2;case 2:if(n=(l=i.next()).done)return[3,5];return[4,P({variables:{runId:s=l.value}})];case 3:(null==(a=c.sent().data)?void 0:a.deletePipelineRun.__typename)==="DeletePipelineRunSuccess"?C({type:"deletion-success"}):C({type:"deletion-error",id:s,error:refineToError(a)}),c.label=4;case 4:return n=!0,[3,2];case 5:return[3,8];case 6:return u=c.sent(),t=!0,r=u,[3,8];case 7:try{n||null==i.return||i.return()}finally{if(t)throw r}return[7];case 8:return C({type:"complete"}),o(),[2]}})}),function(){return n.apply(this,arguments)}),T="deleting"!==_.step;return(0,a.jsxs)(x.Vq,{isOpen:t,title:"Delete runs",canEscapeKeyClose:T,canOutsideClickClose:T,onClose:i,children:[(0,a.jsx)(x.a7,{children:(0,a.jsxs)(h.Z,{direction:"column",spacing:24,children:[function(){switch(_.step){case"initial":return(0,a.jsxs)(h.Z,{direction:"column",spacing:8,children:[(0,a.jsx)("div",{children:"".concat(A," ").concat(1===A?"run":"runs"," will be deleted.")}),(0,a.jsx)("div",{children:"Deleting runs will not prevent them from continuing to execute, and may result in unexpected behavior."}),O?(0,a.jsx)("div",{children:O>1?(0,a.jsxs)(a.Fragment,{children:["".concat(O," of these runs can be terminated. "),(0,a.jsx)("strong",{children:"Please consider terminating these runs instead of deleting them."})]}):(0,a.jsxs)(a.Fragment,{children:["1 run can be terminated instead. ",(0,a.jsx)("strong",{children:"Please consider terminating this run instead of deleting it."})]})}):null,(0,a.jsx)("div",{children:"Do you wish to continue with deletion?"})]});case"deleting":case"completed":var e=A>0?_.deletion.completed/A:1;return(0,a.jsxs)(h.Z,{direction:"column",spacing:8,children:[(0,a.jsx)("div",{children:"Deleting…"}),(0,a.jsx)(d.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"deleting"===_.step?(0,a.jsx)(j.c,{message:"Deletion in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===_.step)return null;if("deleting"===_.step)return(0,a.jsx)("div",{children:"Please do not close the window or navigate away during deletion."});var e=_.deletion.errors,n=Object.keys(e).length,t=_.deletion.completed-n;return(0,a.jsxs)(h.Z,{direction:"column",spacing:8,children:[t?(0,a.jsxs)(h.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,a.jsx)(p.JO,{name:"check_circle",color:(0,f.fA)()}),(0,a.jsx)("div",{children:"Successfully deleted ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,a.jsxs)(h.Z,{direction:"column",spacing:8,children:[(0,a.jsxs)(h.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,a.jsx)(p.JO,{name:"warning",color:(0,f.qr)()}),(0,a.jsx)("div",{children:"Could not delete ".concat(n," ").concat(1===n?"run":"runs",".")})]}),(0,a.jsx)("ul",{children:Object.keys(e).map(function(n){var t;return(0,a.jsx)("li",{children:(0,a.jsxs)(h.Z,{direction:"row",spacing:8,children:[(0,a.jsx)(m.fv,{children:n.slice(0,8)}),e[n]?(0,a.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)})})]}):null]})}()]})}),(0,a.jsx)(x.cN,{children:function(){switch(_.step){case"initial":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.zx,{intent:"none",onClick:i,children:"Cancel"}),(0,a.jsx)(g.zx,{intent:"danger",onClick:D,children:"Yes, delete ".concat("".concat(A," ").concat(1===A?"run":"runs"))}),O?(0,a.jsx)(g.zx,{intent:"primary",onClick:l,children:"Terminate ".concat("".concat(O," ").concat(1===O?"run":"runs")," instead")}):null]});case"deleting":return(0,a.jsx)(g.zx,{intent:"danger",disabled:!0,children:"Deleting…"});case"completed":return(0,a.jsx)(g.zx,{intent:"primary",onClick:i,children:"Done"})}}()})]})}},85893:function(e,n,t){t.d(n,{Q:function(){return x}});var r=t(81862),i=t(87612),o=t(82550),l=t(22970),s=t(52322),c=t(18399),a=t(2784),u=t(19211),d=t(47544),h=t(35157),g=t(84495),p=["mode",g.H.Backfill,g.H.Partition],f=new Set(p),m=(0,i._)({},g.H.SolidSelection,g.H.OpSelection),x=a.memo(function(e){var n=e.tags,t=e.onAddTag,i=e.onToggleTagPin,x=e.mode,v=(0,d.m)(),j=a.useMemo(function(){var e;return{label:"Copy tag",onClick:(e=(0,r._)(function(e){return(0,l.Jh)(this,function(n){switch(n.label){case 0:return v("".concat(e.key,":").concat(e.value)),[4,(0,u.B7)({intent:"success",message:"Copied tag!"})];case 1:return n.sent(),[2]}})}),function(n){return e.apply(this,arguments)})}},[v]),y=a.useMemo(function(){return t?{label:"Add tag to filter",onClick:function(e){t({token:"tag",value:"".concat(e.originalKey||e.key,"=").concat(e.value)})}}:null},[t]),actionsForTag=function(e){var n,t=[j];return y&&(n=e.key)!==g.H.SolidSelection&&n!==g.H.OpSelection&&"mode"!==n&&t.push(y),i&&t.push({label:e.pinned?"Hide tag":"Show tag in table",onClick:function(){i(e.originalKey||e.key)}}),t.filter(function(e){return!!e})},k=a.useMemo(function(){var e=[],t=[],r=n.map(function(e){return{key:e.key,value:e.value,pinned:e.pinned,link:e.link}}),i=!0,l=!1,s=void 0;try{for(var c,a=r[Symbol.iterator]();!(i=(c=a.next()).done);i=!0){var u=c.value,d=u.key;m.hasOwnProperty(d)&&(u.key=m[d],u.originalKey=d),u.value.startsWith(h.u1)&&(d===g.H.PartitionSet||d===g.H.StepSelection)||(f.has(d)?e.push(u):t.push(u))}}catch(e){l=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw s}}return(0,o._)(e.sort(function(e,n){return p.indexOf(e.key)-p.indexOf(n.key)})).concat((0,o._)(t))},[n]);if(!n.length)return null;var w=x?(0,s.jsx)(g.i,{tag:{key:"mode",value:x},actions:actionsForTag({key:"mode",value:x})}):null;return(0,s.jsxs)(c.x,{flex:{direction:"row",wrap:"wrap",gap:4},children:[w,k.map(function(e){return(0,s.jsx)(g.i,{tag:e,actions:actionsForTag(e)},e.key)})]})})},16148:function(e,n,t){t.d(n,{A:function(){return d}});var r=t(85333),i=t(6692),o=t(2281),l=t(52322),s=t(9001),c=t(2803),a=t(2784),u=t(47933),d=a.forwardRef(function(e,n){var t=e.children,d=e.icon,h=e.intent,g=e.outlined,p=e.rightIcon,f=(0,o._)(e,["children","icon","intent","outlined","rightIcon"]),m=a.useMemo(function(){return(0,s.O$)({intent:h,outlined:g})},[h,g]),x=m.fillColor,v=m.fillColorHover,j=m.textColor,y=m.iconColor,k=m.strokeColor,w=m.strokeColorHover;return(0,l.jsxs)(c.S,(0,i._)((0,r._)({},f),{as:u.rU,$fillColor:x,$fillColorHover:v,$strokeColor:k,$strokeColorHover:w,$textColor:j,$iconColor:y,ref:n,children:[d||null,t?(0,l.jsx)(c.p,{children:t}):null,p||null]}))});d.displayName="AnchorButton"}}]);
//# sourceMappingURL=44.b9dc70900eedf6c9.js.map