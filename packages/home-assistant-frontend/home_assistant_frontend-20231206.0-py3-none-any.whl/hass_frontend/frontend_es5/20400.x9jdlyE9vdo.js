"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[20400],{32511:function(t,e,i){var n,a=i(88962),d=i(33368),r=i(71650),o=i(82390),s=i(69205),l=i(70906),c=i(91808),u=(i(97393),i(58417)),h=i(39274),p=i(68144),f=i(95260);(0,c.Z)([(0,f.Mo)("ha-checkbox")],(function(t,e){var i=function(e){(0,s.Z)(n,e);var i=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,d=new Array(a),s=0;s<a;s++)d[s]=arguments[s];return e=i.call.apply(i,[this].concat(d)),t((0,o.Z)(e)),e}return(0,d.Z)(n)}(e);return{F:i,d:[{kind:"field",static:!0,key:"styles",value:function(){return[h.W,(0,p.iv)(n||(n=(0,a.Z)([":host{--mdc-theme-secondary:var(--primary-color)}"])))]}}]}}),u.A)},73366:function(t,e,i){i.d(e,{M:function(){return _}});var n,a=i(88962),d=i(33368),r=i(71650),o=i(82390),s=i(69205),l=i(70906),c=i(91808),u=i(34541),h=i(47838),p=(i(97393),i(61092)),f=i(96762),m=i(68144),v=i(95260),_=(0,c.Z)([(0,v.Mo)("ha-list-item")],(function(t,e){var i=function(e){(0,s.Z)(n,e);var i=(0,l.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,d=new Array(a),s=0;s<a;s++)d[s]=arguments[s];return e=i.call.apply(i,[this].concat(d)),t((0,o.Z)(e)),e}return(0,d.Z)(n)}(e);return{F:i,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,u.Z)((0,h.Z)(i.prototype),"renderRipple",this).call(this)}},{kind:"get",static:!0,key:"styles",value:function(){return[f.W,(0,m.iv)(n||(n=(0,a.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"])))]}}]}}),p.K)},86630:function(t,e,i){var n,a,d,r,o=i(99312),s=i(81043),l=i(88962),c=i(33368),u=i(71650),h=i(82390),p=i(69205),f=i(70906),m=i(91808),v=i(34541),_=i(47838),g=(i(97393),i(49412)),x=i(3762),y=i(68144),k=i(95260),b=i(38346),I=i(96151);i(10983),(0,m.Z)([(0,k.Mo)("ha-select")],(function(t,e){var i=function(e){(0,p.Z)(n,e);var i=(0,f.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var a=arguments.length,d=new Array(a),r=0;r<a;r++)d[r]=arguments[r];return e=i.call.apply(i,[this].concat(d)),t((0,h.Z)(e)),e}return(0,c.Z)(n)}(e);return{F:i,d:[{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean,reflect:!0})],key:"clearable",value:void 0},{kind:"method",key:"render",value:function(){return(0,y.dy)(n||(n=(0,l.Z)([" "," "," "])),(0,v.Z)((0,_.Z)(i.prototype),"render",this).call(this),this.clearable&&!this.required&&!this.disabled&&this.value?(0,y.dy)(a||(a=(0,l.Z)(['<ha-icon-button label="clear" @click="','" .path="','"></ha-icon-button>'])),this._clearValue,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):y.Ld)}},{kind:"method",key:"renderLeadingIcon",value:function(){return this.icon?(0,y.dy)(d||(d=(0,l.Z)(['<span class="mdc-select__icon"><slot name="icon"></slot></span>']))):y.Ld}},{kind:"method",key:"connectedCallback",value:function(){(0,v.Z)((0,_.Z)(i.prototype),"connectedCallback",this).call(this),window.addEventListener("translations-updated",this._translationsUpdated)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,v.Z)((0,_.Z)(i.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("translations-updated",this._translationsUpdated)}},{kind:"method",key:"_clearValue",value:function(){!this.disabled&&this.value&&(this.valueSetDirectly=!0,this.select(-1),this.mdcFoundation.handleChange())}},{kind:"field",key:"_translationsUpdated",value:function(){var t=this;return(0,b.D)((0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.y)();case 2:t.layoutOptions();case 3:case"end":return e.stop()}}),e)}))),500)}},{kind:"field",static:!0,key:"styles",value:function(){return[x.W,(0,y.iv)(r||(r=(0,l.Z)([":host([clearable]){position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:var(--secondary-text-color)}.mdc-select__anchor{width:var(--ha-select-min-width,200px)}.mdc-select--filled .mdc-select__anchor{height:var(--ha-select-height,56px)}.mdc-select--filled .mdc-floating-label{inset-inline-start:12px;inset-inline-end:initial;direction:var(--direction)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{inset-inline-start:48px;inset-inline-end:initial;direction:var(--direction)}.mdc-select .mdc-select__anchor{padding-inline-start:12px;padding-inline-end:0px;direction:var(--direction)}.mdc-select__anchor .mdc-floating-label--float-above{transform-origin:var(--float-start)}.mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,0px)}:host([clearable]) .mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,12px)}ha-icon-button{position:absolute;top:10px;right:28px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:28px;direction:var(--direction)}"])))]}}]}}),g.K)},3555:function(t,e,i){var n,a,d,r,o=i(88962),s=i(33368),l=i(71650),c=i(82390),u=i(69205),h=i(70906),p=i(91808),f=i(34541),m=i(47838),v=(i(97393),i(42977)),_=i(31338),g=i(68144),x=i(95260),y=i(30418);(0,p.Z)([(0,x.Mo)("ha-textfield")],(function(t,e){var i=function(e){(0,u.Z)(n,e);var i=(0,h.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var a=arguments.length,d=new Array(a),r=0;r<a;r++)d[r]=arguments[r];return e=i.call.apply(i,[this].concat(d)),t((0,c.Z)(e)),e}return(0,s.Z)(n)}(e);return{F:i,d:[{kind:"field",decorators:[(0,x.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,x.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,x.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,x.Cb)({type:Boolean})],key:"iconTrailing",value:void 0},{kind:"field",decorators:[(0,x.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,x.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,x.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,x.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(t){(0,f.Z)((0,m.Z)(i.prototype),"updated",this).call(this,t),(t.has("invalid")&&(this.invalid||void 0!==t.get("invalid"))||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?"trailing":"leading";return(0,g.dy)(n||(n=(0,o.Z)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),i,e?1:-1,i)}},{kind:"field",static:!0,key:"styles",value:function(){return[_.W,(0,g.iv)(a||(a=(0,o.Z)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:var(--direction)}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}"]))),"rtl"===y.E.document.dir?(0,g.iv)(d||(d=(0,o.Z)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__affix--suffix,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl}"]))):(0,g.iv)(r||(r=(0,o.Z)([""])))]}}]}}),v.P)},6252:function(t,e,i){i.d(e,{$G:function(){return u},$g:function(){return s},CV:function(){return p},He:function(){return c},cA:function(){return l},fC:function(){return h},uo:function(){return f},wL:function(){return o}});i(99312),i(81043),i(37313),i(46349),i(70320),i(87438),i(46798),i(9849),i(22890),i(65974),i(85717),i(22859);var n=i(58831),a=i(91741),d=i(56007),r=i(85415),o=function(t){return t.NeedsAction="needs_action",t.Completed="completed",t}({}),s=function(t){return t[t.CREATE_TODO_ITEM=1]="CREATE_TODO_ITEM",t[t.DELETE_TODO_ITEM=2]="DELETE_TODO_ITEM",t[t.UPDATE_TODO_ITEM=4]="UPDATE_TODO_ITEM",t[t.MOVE_TODO_ITEM=8]="MOVE_TODO_ITEM",t}({}),l=function(t){return Object.keys(t.states).filter((function(e){return"todo"===(0,n.M)(e)&&!(0,d.rk)(t.states[e].state)})).map((function(e){return Object.assign(Object.assign({},t.states[e]),{},{entity_id:e,name:(0,a.C)(t.states[e])})})).sort((function(e,i){return(0,r.$)(e.name,i.name,t.locale.language)}))},c=function(t,e,i){return t.connection.subscribeMessage(i,{type:"todo/item/subscribe",entity_id:e})},u=function(t,e,i){return t.callService("todo","update_item",{item:i.uid,rename:i.summary,status:i.status},{entity_id:e})},h=function(t,e,i){return t.callService("todo","add_item",{item:i},{entity_id:e})},p=function(t,e,i){return t.callService("todo","remove_item",{item:i},{entity_id:e})},f=function(t,e,i,n){return t.callWS({type:"todo/item/move",entity_id:e,uid:i,previous_uid:n})}},20400:function(t,e,i){i.r(e),i.d(e,{HuiTodoListCard:function(){return P}});var n,a,d,r,o,s,l,c,u,h,p,f,m,v,_,g=i(53709),x=i(88962),y=i(99312),k=i(81043),b=i(33368),I=i(71650),Z=i(82390),w=i(69205),E=i(70906),T=i(91808),L=i(34541),M=i(47838),C=(i(97393),i(51358),i(46798),i(47084),i(5239),i(98490),i(51467),i(87438),i(9849),i(22890),i(85472),i(90126),i(85717),i(46349),i(70320),i(86439),i(41353),i(80628),i(68144)),V=i(95260),O=i(83448),H=i(18848),D=i(14516),S=i(62877),A=i(40095),B=i(26765),F=(i(22098),i(32511),i(10983),i(73366),i(86630),i(52039),i(3555),i(56007)),z=i(6252),$=i(15688),U=i(75502),R="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",P=(0,T.Z)([(0,V.Mo)("hui-todo-list-card")],(function(t,e){var T,P,j,W,K,G,N=function(e){(0,w.Z)(n,e);var i=(0,E.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var a=arguments.length,d=new Array(a),r=0;r<a;r++)d[r]=arguments[r];return e=i.call.apply(i,[this].concat(d)),t((0,Z.Z)(e)),e}return(0,b.Z)(n)}(e);return{F:N,d:[{kind:"method",static:!0,key:"getConfigElement",value:(G=(0,k.Z)((0,y.Z)().mark((function t(){return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([i.e(68331),i.e(61648)]).then(i.bind(i,52045));case 2:return t.abrupt("return",document.createElement("hui-todo-list-card-editor"));case 3:case"end":return t.stop()}}),t)}))),function(){return G.apply(this,arguments)})},{kind:"method",static:!0,key:"getStubConfig",value:function(t,e,i){return{type:"todo-list",entity:(0,$.j)(t,1,e,i,["todo"])[0]||""}}},{kind:"field",decorators:[(0,V.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,V.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,V.SB)()],key:"_entityId",value:void 0},{kind:"field",decorators:[(0,V.SB)()],key:"_items",value:void 0},{kind:"field",decorators:[(0,V.SB)()],key:"_reordering",value:function(){return!1}},{kind:"field",key:"_unsubItems",value:void 0},{kind:"field",key:"_sortable",value:void 0},{kind:"field",decorators:[(0,V.IO)("#unchecked")],key:"_uncheckedContainer",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,L.Z)((0,M.Z)(N.prototype),"connectedCallback",this).call(this),this.hasUpdated&&this._subscribeItems()}},{kind:"method",key:"disconnectedCallback",value:function(){var t;(0,L.Z)((0,M.Z)(N.prototype),"disconnectedCallback",this).call(this),null===(t=this._unsubItems)||void 0===t||t.then((function(t){return t()}))}},{kind:"method",key:"getCardSize",value:function(){return 3+(this._config&&this._config.title?2:0)}},{kind:"method",key:"setConfig",value:function(t){this.checkConfig(t),this._config=t,this._entityId=t.entity}},{kind:"method",key:"checkConfig",value:function(t){if(!t.entity||"todo"!==t.entity.split(".")[0])throw new Error("Specify an entity from within the todo domain")}},{kind:"method",key:"getEntityId",value:function(){}},{kind:"field",key:"_getCheckedItems",value:function(){return(0,D.Z)((function(t){return t?t.filter((function(t){return t.status===z.wL.Completed})):[]}))}},{kind:"field",key:"_getUncheckedItems",value:function(){return(0,D.Z)((function(t){return t?t.filter((function(t){return t.status===z.wL.NeedsAction})):[]}))}},{kind:"method",key:"willUpdate",value:function(t){this.hasUpdated?!t.has("_entityId")&&this._items||(this._items=void 0,this._subscribeItems()):(this._entityId||(this._entityId=this.getEntityId()),this._subscribeItems())}},{kind:"method",key:"updated",value:function(t){if((0,L.Z)((0,M.Z)(N.prototype),"updated",this).call(this,t),this._config&&this.hass){var e=t.get("hass"),i=t.get("_config");(t.has("hass")&&(null==e?void 0:e.themes)!==this.hass.themes||t.has("_config")&&(null==i?void 0:i.theme)!==this._config.theme)&&(0,S.R)(this,this.hass.themes,this._config.theme)}}},{kind:"method",key:"render",value:function(){var t=this;if(!this._config||!this.hass||!this._entityId)return C.Ld;var e=this.hass.states[this._entityId];if(!e)return(0,C.dy)(n||(n=(0,x.Z)([" <hui-warning> "," </hui-warning> "])),(0,U.i)(this.hass,this._entityId));var i=(0,F.rk)(e.state),h=this._getCheckedItems(this._items),p=this._getUncheckedItems(this._items);return(0,C.dy)(a||(a=(0,x.Z)([' <ha-card .header="','" class="','"> <div class="addRow"> '," ",' </div> <div id="unchecked"> '," </div> "," </ha-card> "])),this._config.title,(0,O.$)({"has-header":"title"in this._config}),this.todoListSupportsFeature(z.$g.CREATE_TODO_ITEM)?(0,C.dy)(d||(d=(0,x.Z)([' <ha-icon-button class="addButton" .path="','" .title="','" .disabled="','" @click="','"> </ha-icon-button> <ha-textfield class="addBox" .placeholder="','" @keydown="','" .disabled="','"></ha-textfield> '])),"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",this.hass.localize("ui.panel.lovelace.cards.todo-list.add_item"),i,this._addItem,this.hass.localize("ui.panel.lovelace.cards.todo-list.add_item"),this._addKeyPress,i):C.Ld,this.todoListSupportsFeature(z.$g.MOVE_TODO_ITEM)?(0,C.dy)(r||(r=(0,x.Z)([' <ha-icon-button class="reorderButton" .path="','" .title="','" @click="','" .disabled="','"> </ha-icon-button> '])),"M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z",this.hass.localize("ui.panel.lovelace.cards.todo-list.reorder_items"),this._toggleReorder,i):C.Ld,this._renderItems(p,i),h.length?(0,C.dy)(o||(o=(0,x.Z)([' <div class="divider"></div> <div class="checked"> <span> '," </span> "," </div> "," "])),this.hass.localize("ui.panel.lovelace.cards.todo-list.checked_items"),this.todoListSupportsFeature(z.$g.DELETE_TODO_ITEM)?(0,C.dy)(s||(s=(0,x.Z)(['<ha-svg-icon class="clearall" tabindex="0" .path="','" .title="','" @click="','" .disabled="','"> </ha-svg-icon>'])),"M5,13H19V11H5M3,17H17V15H3M7,7V9H21V7",this.hass.localize("ui.panel.lovelace.cards.todo-list.clear_items"),this._clearCompletedItems,i):C.Ld,(0,H.r)(h,(function(t){return t.uid}),(function(e){return(0,C.dy)(l||(l=(0,x.Z)([' <div class="editRow"> ',' <ha-textfield class="item" .disabled="','" .value="','" .itemId="','" @change="','"></ha-textfield> '," </div> "])),t.todoListSupportsFeature(z.$g.UPDATE_TODO_ITEM)?(0,C.dy)(c||(c=(0,x.Z)(['<ha-checkbox tabindex="0" .checked="','" .itemId="','" @change="','" .disabled="','"></ha-checkbox>'])),e.status===z.wL.Completed,e.uid,t._completeItem,i):C.Ld,i||!t.todoListSupportsFeature(z.$g.UPDATE_TODO_ITEM),e.summary,e.uid,t._saveEdit,t.todoListSupportsFeature(z.$g.DELETE_TODO_ITEM)&&!t.todoListSupportsFeature(z.$g.UPDATE_TODO_ITEM)?(0,C.dy)(u||(u=(0,x.Z)(['<ha-icon-button .title="','" class="deleteItemButton" .path="','" .itemId="','" @click="','"> </ha-icon-button>'])),t.hass.localize("ui.panel.lovelace.cards.todo-list.delete_item"),R,e.uid,t._deleteItem):C.Ld)}))):"")}},{kind:"method",key:"_renderItems",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,C.dy)(h||(h=(0,x.Z)([" "," "])),(0,H.r)(t,(function(t){return t.uid}),(function(t){return(0,C.dy)(p||(p=(0,x.Z)([' <div class="editRow" item-id="','"> ',' <ha-textfield class="item" .disabled="','" .value="','" .itemId="','" @change="','"></ha-textfield> '," </div> "])),t.uid,e.todoListSupportsFeature(z.$g.UPDATE_TODO_ITEM)?(0,C.dy)(f||(f=(0,x.Z)(['<ha-checkbox tabindex="0" .checked="','" .itemId="','" .disabled="','" @change="','"></ha-checkbox>'])),t.status===z.wL.Completed,t.uid,i,e._completeItem):C.Ld,i||!e.todoListSupportsFeature(z.$g.UPDATE_TODO_ITEM),t.summary,t.uid,e._saveEdit,e._reordering?(0,C.dy)(m||(m=(0,x.Z)([' <ha-svg-icon .title="','" class="reorderButton handle" .path="','"> </ha-svg-icon> '])),e.hass.localize("ui.panel.lovelace.cards.todo-list.drag_and_drop"),"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"):e.todoListSupportsFeature(z.$g.DELETE_TODO_ITEM)&&!e.todoListSupportsFeature(z.$g.UPDATE_TODO_ITEM)?(0,C.dy)(v||(v=(0,x.Z)(['<ha-icon-button .title="','" class="deleteItemButton" .path="','" .itemId="','" @click="','"> </ha-icon-button>'])),e.hass.localize("ui.panel.lovelace.cards.todo-list.delete_item"),R,t.uid,e._deleteItem):C.Ld)})))}},{kind:"method",key:"todoListSupportsFeature",value:function(t){var e=this.hass.states[this._entityId];return e&&(0,A.e)(e,t)}},{kind:"method",key:"_subscribeItems",value:(K=(0,k.Z)((0,y.Z)().mark((function t(){var e=this;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._unsubItems&&(this._unsubItems.then((function(t){return t()})),this._unsubItems=void 0),this.hass&&this._entityId){t.next=3;break}return t.abrupt("return");case 3:if(this._entityId in this.hass.states){t.next=5;break}return t.abrupt("return");case 5:this._unsubItems=(0,z.He)(this.hass,this._entityId,(function(t){e._items=t.items}));case 6:case"end":return t.stop()}}),t,this)}))),function(){return K.apply(this,arguments)})},{kind:"method",key:"_getItem",value:function(t){var e;return null===(e=this._items)||void 0===e?void 0:e.find((function(e){return e.uid===t}))}},{kind:"method",key:"_completeItem",value:function(t){var e=this._getItem(t.target.itemId);e&&(0,z.$G)(this.hass,this._entityId,Object.assign(Object.assign({},e),{},{status:t.target.checked?z.wL.Completed:z.wL.NeedsAction}))}},{kind:"method",key:"_saveEdit",value:function(t){if(t.target.value){var e=this._getItem(t.target.itemId);if(!e)return;(0,z.$G)(this.hass,this._entityId,Object.assign(Object.assign({},e),{},{summary:t.target.value}))}else this.todoListSupportsFeature(z.$g.DELETE_TODO_ITEM)&&(0,z.CV)(this.hass,this._entityId,[t.target.itemId]);t.target.blur()}},{kind:"method",key:"_clearCompletedItems",value:(W=(0,k.Z)((0,y.Z)().mark((function t(){var e,i,n=this;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hass){t.next=2;break}return t.abrupt("return");case 2:e=this._getCheckedItems(this._items),i=e.map((function(t){return t.uid})),(0,B.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.lovelace.cards.todo-list.delete_confirm_title"),text:this.hass.localize("ui.panel.lovelace.cards.todo-list.delete_confirm_text",{number:i.length}),dismissText:this.hass.localize("ui.common.cancel"),confirmText:this.hass.localize("ui.common.delete"),destructive:!0,confirm:function(){(0,z.CV)(n.hass,n._entityId,i)}});case 5:case"end":return t.stop()}}),t,this)}))),function(){return W.apply(this,arguments)})},{kind:"get",key:"_newItem",value:function(){return this.shadowRoot.querySelector(".addBox")}},{kind:"method",key:"_addItem",value:function(t){var e=this._newItem;e.value.length>0&&(0,z.fC)(this.hass,this._entityId,e.value),e.value="",t&&e.focus()}},{kind:"method",key:"_deleteItem",value:function(t){var e=this._getItem(t.target.itemId);e&&(0,z.CV)(this.hass,this._entityId,[e.uid])}},{kind:"method",key:"_addKeyPress",value:function(t){"Enter"===t.key&&this._addItem(null)}},{kind:"method",key:"_toggleReorder",value:(j=(0,k.Z)((0,y.Z)().mark((function t(){var e;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._reordering=!this._reordering,t.next=3,this.updateComplete;case 3:this._reordering?this._createSortable():(null===(e=this._sortable)||void 0===e||e.destroy(),this._sortable=void 0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return j.apply(this,arguments)})},{kind:"method",key:"_createSortable",value:(P=(0,k.Z)((0,y.Z)().mark((function t(){var e,n=this;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([i.e(56087),i.e(32811)]).then(i.bind(i,32811));case 2:e=t.sent.default,this._sortable=new e(this._uncheckedContainer,{animation:150,fallbackClass:"sortable-fallback",dataIdAttr:"item-id",handle:"ha-svg-icon",onChoose:function(t){t.item.placeholder=document.createComment("sort-placeholder"),t.item.after(t.item.placeholder)},onEnd:function(t){t.item.placeholder&&(t.item.placeholder.replaceWith(t.item),delete t.item.placeholder),void 0!==t.newIndex&&void 0!==t.oldIndex&&t.oldIndex!==t.newIndex&&n._moveItem(t.oldIndex,t.newIndex)}});case 4:case"end":return t.stop()}}),t,this)}))),function(){return P.apply(this,arguments)})},{kind:"method",key:"_moveItem",value:(T=(0,k.Z)((0,y.Z)().mark((function t(e,i){var n,a,d,r,o,s;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this._getUncheckedItems(this._items),d=a[e],i>0&&(r=i<e?a[i-1]:a[i]),o=this._items.findIndex((function(t){return t.uid===d.uid})),this._items.splice(o,1),0===i?this._items.unshift(d):(s=this._items.findIndex((function(t){return t.uid===r.uid})),this._items.splice(s+1,0,d)),this._items=(0,g.Z)(this._items),t.next=9,(0,z.uo)(this.hass,this._entityId,d.uid,null===(n=r)||void 0===n?void 0:n.uid);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return T.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,C.iv)(_||(_=(0,x.Z)(["ha-card{padding:16px;height:100%;box-sizing:border-box}.has-header{padding-top:0}.addRow,.checked,.editRow{display:flex;flex-direction:row;align-items:center}.item{margin-top:8px}.addButton{margin-left:-12px;margin-inline-start:-12px;direction:var(--direction)}.deleteItemButton{margin-right:-12px;margin-inline-end:-12px;direction:var(--direction)}.reorderButton{margin-right:-12px;margin-inline-end:-12px;direction:var(--direction)}.handle{cursor:move}ha-checkbox{margin-left:-12px;margin-inline-start:-12px;direction:var(--direction)}ha-textfield{flex-grow:1}.checked{margin:12px 0;justify-content:space-between}.checked span{color:var(--primary-text-color);font-weight:500}.divider{height:1px;background-color:var(--divider-color);margin:10px 0}.clearall{cursor:pointer}.todoList{display:block;padding:8px}"])))}}]}}),C.oi)}}]);
//# sourceMappingURL=20400.x9jdlyE9vdo.js.map