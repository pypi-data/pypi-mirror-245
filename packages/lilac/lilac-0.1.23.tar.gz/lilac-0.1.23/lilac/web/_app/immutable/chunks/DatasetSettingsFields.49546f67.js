import{S as ye,i as Ie,s as Ee,D as _e,Z as fe,_ as ce,m as b,h as c,n as I,$ as pe,b as z,a0 as m,K as Ne,a1 as Q,M as we,Q as ke,q as ee,r as te,u as be,x as Ye,k as P,a as x,y as le,l as S,c as $,z as ae,F as G,A as ie,G as ze,a7 as Oe,g as p,v as de,d as E,f as he,B as ne,a8 as Re,L as Fe,ag as Ol,N as rl,w as Ue,U as tt,V as lt,e as Se,C as Pl,H as Sl,I as Tl,J as Dl,O as He,ab as Ce,o as Vl,T as Bl,a2 as it,R as al,a3 as ol,ah as Cl,X as zl,Y as Al,a4 as ht,a9 as Ll}from"./index.6d58eddb.js";import{h as Ve,aZ as Rl,R as nt,a as sl,a3 as rt,b5 as ul,b6 as fl,at as cl,Y as qe,ai as We,b7 as xe,ax as Qe,af as Nl,b8 as jl,ar as Fl,aP as Hl,a8 as Be,c as dl,W as mt,a6 as ql,a7 as Yl,ae as Ul,aO as Zl,b9 as Wl,y as _t,a2 as $e,ao as Ql,aa as Gl,a9 as Kl,aA as hl,aF as ml,ba as _l,S as Xl,b as gl,T as Jl,bb as xl,aH as gt}from"./Commands.e431ac62.js";import{g as bl,s as bt}from"./notificationsStore.a58b8b24.js";import{S as $l}from"./SidePanelClose.dca9218d.js";import{S as ei}from"./Page.afc73432.js";import{M as ti}from"./ToastNotification.0260f333.js";import{g as li}from"./settingsStore.3abd8af5.js";import{C as ii,a as ni}from"./ChevronUp.d4050376.js";import{S as ri}from"./Search.5f4df38b.js";import{_ as ai}from"./preload-helper.41c905a7.js";import{c as oi,S as si}from"./StringSpanHighlight.32de3a13.js";import{I as ui}from"./ItemMetadata.d26ee4d6.js";import{C as fi}from"./ComboBox.a66c2143.js";function vt(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function ci(i){let e,t,l=i[1]&&vt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=_e(s,n[r]);return{c(){e=fe("svg"),l&&l.c(),t=fe("path"),this.h()},l(r){e=ce(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=b(e);l&&l.l(o),t=ce(o,"path",{d:!0}),b(t).forEach(c),o.forEach(c),this.h()},h(){I(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),pe(e,s)},m(r,o){z(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=vt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),pe(e,s=Ne(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Q,o:Q,d(r){r&&c(e),l&&l.d()}}}function di(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class hi extends ye{constructor(e){super(),Ie(this,e,di,ci,Ee,{size:0,title:1})}}function pt(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function mi(i){let e,t,l=i[1]&&pt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=_e(s,n[r]);return{c(){e=fe("svg"),l&&l.c(),t=fe("path"),this.h()},l(r){e=ce(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=b(e);l&&l.l(o),t=ce(o,"path",{d:!0}),b(t).forEach(c),o.forEach(c),this.h()},h(){I(t,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),pe(e,s)},m(r,o){z(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=pt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),pe(e,s=Ne(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Q,o:Q,d(r){r&&c(e),l&&l.d()}}}function _i(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class gi extends ye{constructor(e){super(),Ie(this,e,_i,mi,Ee,{size:0,title:1})}}function wt(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function bi(i){let e,t,l=i[1]&&wt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=_e(s,n[r]);return{c(){e=fe("svg"),l&&l.c(),t=fe("path"),this.h()},l(r){e=ce(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=b(e);l&&l.l(o),t=ce(o,"path",{d:!0}),b(t).forEach(c),o.forEach(c),this.h()},h(){I(t,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),pe(e,s)},m(r,o){z(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=wt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),pe(e,s=Ne(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Q,o:Q,d(r){r&&c(e),l&&l.d()}}}function vi(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class pi extends ye{constructor(e){super(),Ie(this,e,vi,bi,Ee,{size:0,title:1})}}function kt(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function wi(i){let e,t,l=i[1]&&kt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=_e(s,n[r]);return{c(){e=fe("svg"),l&&l.c(),t=fe("path"),this.h()},l(r){e=ce(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=b(e);l&&l.l(o),t=ce(o,"path",{d:!0}),b(t).forEach(c),o.forEach(c),this.h()},h(){I(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),pe(e,s)},m(r,o){z(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=kt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),pe(e,s=Ne(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Q,o:Q,d(r){r&&c(e),l&&l.d()}}}function ki(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class yi extends ye{constructor(e){super(),Ie(this,e,ki,wi,Ee,{size:0,title:1})}}function yt(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function Ii(i){let e,t,l,n=i[1]&&yt(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<s.length;o+=1)r=_e(r,s[o]);return{c(){e=fe("svg"),n&&n.c(),t=fe("path"),l=fe("path"),this.h()},l(o){e=ce(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=b(e);n&&n.l(a),t=ce(a,"path",{d:!0}),b(t).forEach(c),l=ce(a,"path",{d:!0}),b(l).forEach(c),a.forEach(c),this.h()},h(){I(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),I(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),pe(e,r)},m(o,a){z(o,e,a),n&&n.m(e,null),m(e,t),m(e,l)},p(o,[a]){o[1]?n?n.p(o,a):(n=yt(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),pe(e,r=Ne(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:o[0]},a&1&&{height:o[0]},a&4&&o[2],a&8&&o[3]]))},i:Q,o:Q,d(o){o&&c(e),n&&n.d()}}}function Ei(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class Mi extends ye{constructor(e){super(),Ie(this,e,Ei,Ii,Ee,{size:0,title:1})}}function It(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function Oi(i){let e,t,l=i[1]&&It(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=_e(s,n[r]);return{c(){e=fe("svg"),l&&l.c(),t=fe("path"),this.h()},l(r){e=ce(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=b(e);l&&l.l(o),t=ce(o,"path",{d:!0}),b(t).forEach(c),o.forEach(c),this.h()},h(){I(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),pe(e,s)},m(r,o){z(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=It(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),pe(e,s=Ne(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Q,o:Q,d(r){r&&c(e),l&&l.d()}}}function Pi(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class Si extends ye{constructor(e){super(),Ie(this,e,Pi,Oi,Ee,{size:0,title:1})}}function Et(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function Ti(i){let e,t,l=i[1]&&Et(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=_e(s,n[r]);return{c(){e=fe("svg"),l&&l.c(),t=fe("path"),this.h()},l(r){e=ce(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=b(e);l&&l.l(o),t=ce(o,"path",{d:!0}),b(t).forEach(c),o.forEach(c),this.h()},h(){I(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),pe(e,s)},m(r,o){z(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Et(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),pe(e,s=Ne(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Q,o:Q,d(r){r&&c(e),l&&l.d()}}}function Di(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class Vi extends ye{constructor(e){super(),Ie(this,e,Di,Ti,Ee,{size:0,title:1})}}function Mt(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function Bi(i){let e,t,l,n=i[1]&&Mt(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<s.length;o+=1)r=_e(r,s[o]);return{c(){e=fe("svg"),n&&n.c(),t=fe("path"),l=fe("path"),this.h()},l(o){e=ce(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=b(e);n&&n.l(a),t=ce(a,"path",{d:!0}),b(t).forEach(c),l=ce(a,"path",{d:!0}),b(l).forEach(c),a.forEach(c),this.h()},h(){I(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),I(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),pe(e,r)},m(o,a){z(o,e,a),n&&n.m(e,null),m(e,t),m(e,l)},p(o,[a]){o[1]?n?n.p(o,a):(n=Mt(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),pe(e,r=Ne(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:o[0]},a&1&&{height:o[0]},a&4&&o[2],a&8&&o[3]]))},i:Q,o:Q,d(o){o&&c(e),n&&n.d()}}}function Ci(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class vl extends ye{constructor(e){super(),Ie(this,e,Ci,Bi,Ee,{size:0,title:1})}}function Ot(i){let e,t;return{c(){e=fe("title"),t=ee(i[1])},l(l){e=ce(l,"title",{});var n=b(e);t=te(n,i[1]),n.forEach(c)},m(l,n){z(l,e,n),m(e,t)},p(l,n){n&2&&be(t,l[1])},d(l){l&&c(e)}}}function zi(i){let e,t,l=i[1]&&Ot(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<n.length;r+=1)s=_e(s,n[r]);return{c(){e=fe("svg"),l&&l.c(),t=fe("path"),this.h()},l(r){e=ce(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=b(e);l&&l.l(o),t=ce(o,"path",{d:!0}),b(t).forEach(c),o.forEach(c),this.h()},h(){I(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),pe(e,s)},m(r,o){z(r,e,o),l&&l.m(e,null),m(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Ot(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),pe(e,s=Ne(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Q,o:Q,d(r){r&&c(e),l&&l.d()}}}function Ai(i,e,t){let l,n;const s=["size","title"];let r=we(e,s),{size:o=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),ke(u))),t(3,r=we(e,s)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ke(e),[o,a,n,r,l]}class Li extends ye{constructor(e){super(),Ie(this,e,Ai,zi,Ee,{size:0,title:1})}}function Ri(i,{disable:e}){if(e=e??!1,!e){const t=i.getBoundingClientRect();document.body.append(i),i.style.position="absolute",i.style.top=`${t.top}px`,i.style.left=`${t.left}px`}}function Pt(i){const e=i[1].find(function(...l){return i[19](i[25],...l)});i[26]=e}const Ni=i=>({item:i&33554434,inputText:i&1}),St=i=>({item:i[26],inputText:i[0]});function Tt(i){let e,t;return e=new Rl({}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Dt(i){let e,t,l,n,s,r,o,a;function u(d){i[21](d)}let f={size:"sm",open:i[14],items:i[1],shouldFilterItem:i[6]?i[6]:void 0,placeholder:i[5],$$slots:{default:[Hi,({item:d})=>({25:d}),({item:d})=>d?33554432:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),t=new fi({props:f}),i[20](t),Ue.push(()=>tt(t,"value",u)),t.$on("select",i[16]),{c(){e=P("div"),le(t.$$.fragment),this.h()},l(d){e=S(d,"DIV",{class:!0});var _=b(e);ae(t.$$.fragment,_),_.forEach(c),this.h()},h(){I(e,"class","z-50 w-60"),G(e,"absolute",i[12]),G(e,"hidden",!i[14])},m(d,_){z(d,e,_),ie(t,e,null),r=!0,o||(a=[Oe(n=oi.call(null,e,i[22])),Oe(s=Ri.call(null,e,{disable:!i[12]}))],o=!0)},p(d,_){const h={};_&16384&&(h.open=d[14]),_&2&&(h.items=d[1]),_&64&&(h.shouldFilterItem=d[6]?d[6]:void 0),_&32&&(h.placeholder=d[5]),_&42074115&&(h.$$scope={dirty:_,ctx:d}),!l&&_&1&&(l=!0,h.value=d[0],lt(()=>l=!1)),t.$set(h),n&&Re(n.update)&&_&24576&&n.update.call(null,d[22]),s&&Re(s.update)&&_&4096&&s.update.call(null,{disable:!d[12]}),(!r||_&4096)&&G(e,"absolute",d[12]),(!r||_&16384)&&G(e,"hidden",!d[14])},i(d){r||(p(t.$$.fragment,d),r=!0)},o(d){E(t.$$.fragment,d),r=!1},d(d){d&&c(e),i[20](null),ne(t),o=!1,Fe(a)}}}function ji(i){let e,t=i[26].text+"",l;return{c(){e=P("div"),l=ee(t),this.h()},l(n){e=S(n,"DIV",{class:!0});var s=b(e);l=te(s,t),s.forEach(c),this.h()},h(){I(e,"class","flex justify-between gap-x-8")},m(n,s){z(n,e,s),m(e,l)},p(n,s){s&33554434&&t!==(t=n[26].text+"")&&be(l,t)},i:Q,o:Q,d(n){n&&c(e)}}}function Fi(i){let e;const t=i[18].item,l=Pl(t,i,i[23],St);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,s){l&&l.m(n,s),e=!0},p(n,s){l&&l.p&&(!e||s&41943043)&&Sl(l,t,n,n[23],e?Dl(t,n[23],s,Ni):Tl(n[23]),St)},i(n){e||(p(l,n),e=!0)},o(n){E(l,n),e=!1},d(n){l&&l.d(n)}}}function Hi(i){Pt(i);let e,t,l,n;const s=[Fi,ji],r=[];function o(a,u){return a[17].item?0:a[26]?1:-1}return~(e=o(i))&&(t=r[e]=s[e](i)),{c(){t&&t.c(),l=Se()},l(a){t&&t.l(a),l=Se()},m(a,u){~e&&r[e].m(a,u),z(a,l,u),n=!0},p(a,u){Pt(a);let f=e;e=o(a),e===f?~e&&r[e].p(a,u):(t&&(de(),E(r[f],1,1,()=>{r[f]=null}),he()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),p(t,1),t.m(l.parentNode,l)):t=null)},i(a){n||(p(t),n=!0)},o(a){E(t),n=!1},d(a){~e&&r[e].d(a),a&&c(l)}}}function qi(i){let e,t,l,n,s,r,o,a,u,f,d,_,h,M=i[7]&&Tt();var C=i[2];function L(O){return{}}C&&(s=Ye(C,L()));let D=i[14]&&Dt(i);return{c(){e=P("div"),t=P("div"),l=P("button"),M&&M.c(),n=x(),s&&le(s.$$.fragment),r=x(),o=ee(i[3]),f=x(),D&&D.c(),this.h()},l(O){e=S(O,"DIV",{class:!0});var w=b(e);t=S(w,"DIV",{});var k=b(t);l=S(k,"BUTTON",{class:!0});var v=b(l);M&&M.l(v),n=$(v),s&&ae(s.$$.fragment,v),r=$(v),o=te(v,i[3]),v.forEach(c),k.forEach(c),f=$(w),D&&D.l(w),w.forEach(c),this.h()},h(){l.disabled=i[9],I(l,"class","flex items-center gap-x-2"),G(l,"opacity-30",i[9]),G(l,"text-red-600",i[11]),G(l,"border",i[4]),G(l,"border-gray-300",i[4]),G(l,"hidden",i[14]),I(e,"class","relative z-50 h-8")},m(O,w){z(O,e,w),m(e,t),m(t,l),M&&M.m(l,null),m(l,n),s&&ie(s,l,null),m(l,r),m(l,o),m(e,f),D&&D.m(e,null),d=!0,_||(h=[ze(l,"click",i[15]),Oe(a=Ve.call(null,l,{text:i[8]})),Oe(u=Ve.call(null,t,{text:i[9]?i[10]:""}))],_=!0)},p(O,[w]){if(O[7]?M?w&128&&p(M,1):(M=Tt(),M.c(),p(M,1),M.m(l,n)):M&&(de(),E(M,1,1,()=>{M=null}),he()),w&4&&C!==(C=O[2])){if(s){de();const k=s;E(k.$$.fragment,1,0,()=>{ne(k,1)}),he()}C?(s=Ye(C,L()),le(s.$$.fragment),p(s.$$.fragment,1),ie(s,l,r)):s=null}(!d||w&8)&&be(o,O[3]),(!d||w&512)&&(l.disabled=O[9]),a&&Re(a.update)&&w&256&&a.update.call(null,{text:O[8]}),(!d||w&512)&&G(l,"opacity-30",O[9]),(!d||w&2048)&&G(l,"text-red-600",O[11]),(!d||w&16)&&G(l,"border",O[4]),(!d||w&16)&&G(l,"border-gray-300",O[4]),(!d||w&16384)&&G(l,"hidden",O[14]),u&&Re(u.update)&&w&1536&&u.update.call(null,{text:O[9]?O[10]:""}),O[14]?D?(D.p(O,w),w&16384&&p(D,1)):(D=Dt(O),D.c(),p(D,1),D.m(e,null)):D&&(de(),E(D,1,1,()=>{D=null}),he())},i(O){d||(p(M),s&&p(s.$$.fragment,O),p(D),d=!0)},o(O){E(M),s&&E(s.$$.fragment,O),E(D),d=!1},d(O){O&&c(e),M&&M.d(),s&&ne(s),D&&D.d(),_=!1,Fe(h)}}}function Yi(i,e,t){let{$$slots:l={},$$scope:n}=e;const s=Ol(l);let{items:r}=e,{buttonIcon:o}=e,{buttonText:a=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:d=""}=e,{shouldFilterItem:_=void 0}=e,{isLoading:h=!1}=e,{helperText:M=""}=e,{disabled:C=!1}=e,{disabledMessage:L=""}=e,{redText:D=!1}=e,{hoist:O=!1}=e;const w=rl();let k,v=!1;function q(){t(14,v=!0),requestAnimationFrame(()=>{k.$set({open:!0})})}function V(g){w("select",g.detail.selectedItem),k.clear(),t(14,v=!1)}const K=(g,A)=>A.id===g.id;function U(g){Ue[g?"unshift":"push"](()=>{k=g,t(13,k)})}function X(g){f=g,t(0,f)}const N=()=>{k.clear(),t(14,v=!1)};return i.$$set=g=>{"items"in g&&t(1,r=g.items),"buttonIcon"in g&&t(2,o=g.buttonIcon),"buttonText"in g&&t(3,a=g.buttonText),"buttonOutline"in g&&t(4,u=g.buttonOutline),"comboBoxText"in g&&t(0,f=g.comboBoxText),"comboBoxPlaceholder"in g&&t(5,d=g.comboBoxPlaceholder),"shouldFilterItem"in g&&t(6,_=g.shouldFilterItem),"isLoading"in g&&t(7,h=g.isLoading),"helperText"in g&&t(8,M=g.helperText),"disabled"in g&&t(9,C=g.disabled),"disabledMessage"in g&&t(10,L=g.disabledMessage),"redText"in g&&t(11,D=g.redText),"hoist"in g&&t(12,O=g.hoist),"$$scope"in g&&t(23,n=g.$$scope)},[f,r,o,a,u,d,_,h,M,C,L,D,O,k,v,q,V,s,l,K,U,X,N,n]}class dt extends ye{constructor(e){super(),Ie(this,e,Yi,qi,Ee,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11,hoist:12})}}function Ui(i){let e,t=i[38].text+"",l;return{c(){e=P("div"),l=ee(t),this.h()},l(n){e=S(n,"DIV",{class:!0});var s=b(e);l=te(s,t),s.forEach(c),this.h()},h(){I(e,"class","flex justify-between gap-x-8")},m(n,s){z(n,e,s),m(e,l)},p(n,s){s[1]&128&&t!==(t=n[38].text+"")&&be(l,t)},i:Q,o:Q,d(n){n&&c(e)}}}function Zi(i){let e,t,l,n,s,r=i[37]+"",o,a;return t=new vl({}),{c(){e=P("div"),le(t.$$.fragment),l=x(),n=P("div"),s=ee("New label: "),o=ee(r),this.h()},l(u){e=S(u,"DIV",{class:!0});var f=b(e);ae(t.$$.fragment,f),l=$(f),n=S(f,"DIV",{class:!0});var d=b(n);s=te(d,"New label: "),o=te(d,r),d.forEach(c),f.forEach(c),this.h()},h(){I(n,"class","ml-2"),I(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){z(u,e,f),ie(t,e,null),m(e,l),m(e,n),m(n,s),m(n,o),a=!0},p(u,f){(!a||f[1]&64)&&r!==(r=u[37]+"")&&be(o,r)},i(u){a||(p(t.$$.fragment,u),a=!0)},o(u){E(t.$$.fragment,u),a=!1},d(u){u&&c(e),ne(t)}}}function Wi(i){let e;return{c(){e=P("div")},l(t){e=S(t,"DIV",{}),b(e).forEach(c)},m(t,l){z(t,e,l)},p:Q,i:Q,o:Q,d(t){t&&c(e)}}}function Qi(i){let e,t,l,n;const s=[Wi,Zi,Ui],r=[];function o(a,u){return a[38]==null?0:a[38].id==="new-label"?1:2}return t=o(i),l=r[t]=s[t](i),{c(){e=P("div"),l.c(),this.h()},l(a){e=S(a,"DIV",{slot:!0});var u=b(e);l.l(u),u.forEach(c),this.h()},h(){I(e,"slot","item")},m(a,u){z(a,e,u),r[t].m(e,null),n=!0},p(a,u){let f=t;t=o(a),t===f?r[t].p(a,u):(de(),E(r[f],1,1,()=>{r[f]=null}),he(),l=r[t],l?l.p(a,u):(l=r[t]=s[t](a),l.c()),p(l,1),l.m(e,null))},i(a){n||(p(l),n=!0)},o(a){E(l),n=!1},d(a){a&&c(e),r[t].d()}}}function Gi(i){var a;let e,t,l,n,s=((a=i[5])==null?void 0:a.toLocaleString())+"",r,o;return{c(){e=ee("Add label "),t=P("span"),l=ee(i[8]),n=ee(" to "),r=ee(s),o=ee(`
      rows?`),this.h()},l(u){e=te(u,"Add label "),t=S(u,"SPAN",{class:!0});var f=b(t);l=te(f,i[8]),f.forEach(c),n=te(u," to "),r=te(u,s),o=te(u,`
      rows?`),this.h()},h(){I(t,"class","font-mono font-bold")},m(u,f){z(u,e,f),z(u,t,f),m(t,l),z(u,n,f),z(u,r,f),z(u,o,f)},p(u,f){var d;f[0]&256&&be(l,u[8]),f[0]&32&&s!==(s=((d=u[5])==null?void 0:d.toLocaleString())+"")&&be(r,s)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function Ki(i){var a;let e,t,l,n,s=((a=i[5])==null?void 0:a.toLocaleString())+"",r,o;return{c(){e=ee("Remove label "),t=P("span"),l=ee(i[8]),n=ee(" from "),r=ee(s),o=ee(`
      rows?`),this.h()},l(u){e=te(u,"Remove label "),t=S(u,"SPAN",{class:!0});var f=b(t);l=te(f,i[8]),f.forEach(c),n=te(u," from "),r=te(u,s),o=te(u,`
      rows?`),this.h()},h(){I(t,"class","font-mono font-bold")},m(u,f){z(u,e,f),z(u,t,f),m(t,l),z(u,n,f),z(u,r,f),z(u,o,f)},p(u,f){var d;f[0]&256&&be(l,u[8]),f[0]&32&&s!==(s=((d=u[5])==null?void 0:d.toLocaleString())+"")&&be(r,s)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function Xi(i){let e;function t(s,r){return s[4]?Ki:Gi}let l=t(i),n=l(i);return{c(){e=P("p"),n.c()},l(s){e=S(s,"P",{});var r=b(e);n.l(r),r.forEach(c)},m(s,r){z(s,e,r),n.m(e,null)},p(s,r){l===(l=t(s))&&n?n.p(s,r):(n.d(1),n=l(s),n&&(n.c(),n.m(e,null)))},d(s){s&&c(e),n.d()}}}function Ji(i){let e,t,l,n,s;function r(a){i[32](a)}let o={disabled:i[9]||i[10],helperText:i[0],disabledMessage:i[7]?i[1]?i[2]:"":"You do not have access to add labels.",hoist:!1,buttonOutline:!0,buttonIcon:i[3],items:i[13],comboBoxPlaceholder:i[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:xi,$$slots:{item:[Qi,({inputText:a,item:u})=>({37:a,38:u}),({inputText:a,item:u})=>[0,(a?64:0)|(u?128:0)]]},$$scope:{ctx:i}};return i[6]!==void 0&&(o.comboBoxText=i[6]),e=new dt({props:o}),Ue.push(()=>tt(e,"comboBoxText",r)),e.$on("select",i[19]),n=new ti({props:{size:"xs",open:i[8]!=null&&i[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Xi]},$$scope:{ctx:i}}}),n.$on("submit",i[18]),n.$on("click:button--secondary",i[33]),n.$on("close",function(){Re(i[8]=null)&&(i[8]=null).apply(this,arguments)}),{c(){le(e.$$.fragment),l=x(),le(n.$$.fragment)},l(a){ae(e.$$.fragment,a),l=$(a),ae(n.$$.fragment,a)},m(a,u){ie(e,a,u),z(a,l,u),ie(n,a,u),s=!0},p(a,u){i=a;const f={};u[0]&1536&&(f.disabled=i[9]||i[10]),u[0]&1&&(f.helperText=i[0]),u[0]&134&&(f.disabledMessage=i[7]?i[1]?i[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=i[3]),u[0]&8192&&(f.items=i[13]),u[0]&16&&(f.comboBoxPlaceholder=i[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:i}),!t&&u[0]&64&&(t=!0,f.comboBoxText=i[6],lt(()=>t=!1)),e.$set(f);const d={};u[0]&288&&(d.open=i[8]!=null&&i[5]!=null),u[0]&304|u[1]&256&&(d.$$scope={dirty:u,ctx:i}),n.$set(d)},i(a){s||(p(e.$$.fragment,a),p(n.$$.fragment,a),s=!0)},o(a){E(e.$$.fragment,a),E(n.$$.fragment,a),s=!1},d(a){ne(e,a),a&&c(l),ne(n,a)}}}const xi=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-label";function $i(i,e,t){let l,n,s,r,o,a,u,f,d,_,h,M,C,L,D,O=Q,w=()=>(O(),O=Ce(M,Y=>t(27,D=Y)),M),k,v=Q,q=()=>(v(),v=Ce(h,Y=>t(28,k=Y)),h),V,K=Q,U=()=>(K(),K=Ce(l,Y=>t(29,V=Y)),l),X,N;i.$$.on_destroy.push(()=>O()),i.$$.on_destroy.push(()=>v()),i.$$.on_destroy.push(()=>K());let{labelsQuery:g}=e,{hideLabels:A=void 0}=e,{helperText:j="Add label"}=e,{disabled:B=!1}=e,{disabledMessage:y="User does not have access to add labels."}=e,{icon:F}=e,{remove:W=!1}=e,{totalNumRows:R=void 0}=e;const H=rl();let me="",Z=null;const oe=bl(),se=nt();He(i,se,Y=>t(31,N=Y));const J=sl();He(i,J,Y=>t(30,X=Y));function re(){if(Z==null)return;const Y={...g,label_name:Z};function T(ue){return Y.row_ids!=null?`Document id: ${Y.row_ids}`:`${ue.toLocaleString()} rows updated`}W?D.mutate([n,s,Y],{onSuccess:ue=>{oe.addNotification({kind:"success",title:`Removed label "${Y.label_name}"`,message:T(ue)})}}):k.mutate([n,s,Y],{onSuccess:ue=>{oe.addNotification({kind:"success",title:`Added label "${Y.label_name}"`,message:T(ue)})}}),t(8,Z=null)}function ge(Y){t(8,Z=Y.detail.text),R==null&&re()}function Pe(Y){me=Y,t(6,me)}const Te=()=>{t(8,Z=null),H("close")};return i.$$set=Y=>{"labelsQuery"in Y&&t(20,g=Y.labelsQuery),"hideLabels"in Y&&t(21,A=Y.hideLabels),"helperText"in Y&&t(0,j=Y.helperText),"disabled"in Y&&t(1,B=Y.disabled),"disabledMessage"in Y&&t(2,y=Y.disabledMessage),"icon"in Y&&t(3,F=Y.icon),"remove"in Y&&t(4,W=Y.remove),"totalNumRows"in Y&&t(5,R=Y.totalNumRows)},i.$$.update=()=>{var Y,T;i.$$.dirty[1]&1&&U(t(14,l=rt(N.namespace,N.datasetName))),i.$$.dirty[1]&1&&(n=N.namespace),i.$$.dirty[1]&1&&(s=N.datasetName),i.$$.dirty[0]&1073741824&&t(26,r=(Y=X.data)==null?void 0:Y.access.dataset.create_label_type),i.$$.dirty[0]&1073741824&&t(7,o=(T=X.data)==null?void 0:T.access.dataset.edit_labels),i.$$.dirty[0]&536870912&&t(24,a=V.data&&cl(V.data)),i.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(me)&&r),i.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:me,disabled:!u}),i.$$.dirty[0]&18874368&&t(22,d=(a==null?void 0:a.filter(ue=>!(A||[]).includes(ue)).map((ue,Me)=>({id:`label_${Me}`,text:ue})))||[]),i.$$.dirty[0]&12582992&&t(13,_=[...me!=""&&!W?[f]:[],...d]),i.$$.dirty[0]&536870912&&q(t(12,h=V.data!=null?ul(V.data):null)),i.$$.dirty[0]&536870912&&w(t(11,M=V.data!=null?fl(V.data):null)),i.$$.dirty[0]&402653184&&t(10,C=(k==null?void 0:k.isLoading)||(D==null?void 0:D.isLoading)),i.$$.dirty[0]&130&&t(9,L=B||!o)},[j,B,y,F,W,R,me,o,Z,L,C,M,h,_,l,H,se,J,re,ge,g,A,d,f,a,u,r,D,k,V,X,N,Pe,Te]}class en extends ye{constructor(e){super(),Ie(this,e,$i,Ji,Ee,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function tn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Vt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function Bt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vt(Object(t),!0).forEach(function(l){tn(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Vt(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function ln(i,e){if(i==null)return{};var t={},l=Object.keys(i),n,s;for(s=0;s<l.length;s++)n=l[s],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function nn(i,e){if(i==null)return{};var t=ln(i,e),l,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);for(n=0;n<s.length;n++)l=s[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(t[l]=i[l])}return t}function rn(i,e){return an(i)||on(i,e)||sn(i,e)||un()}function an(i){if(Array.isArray(i))return i}function on(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],l=!0,n=!1,s=void 0;try{for(var r=i[Symbol.iterator](),o;!(l=(o=r.next()).done)&&(t.push(o.value),!(e&&t.length===e));l=!0);}catch(a){n=!0,s=a}finally{try{!l&&r.return!=null&&r.return()}finally{if(n)throw s}}return t}}function sn(i,e){if(i){if(typeof i=="string")return Ct(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ct(i,e)}}function Ct(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=i[t];return l}function un(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function zt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function At(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zt(Object(t),!0).forEach(function(l){fn(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):zt(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function cn(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(n,s){return s(n)},l)}}function Ze(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.apply(t,[].concat(n,o))}}}function et(i){return{}.toString.call(i).includes("Object")}function dn(i){return!Object.keys(i).length}function Ge(i){return typeof i=="function"}function hn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function mn(i,e){return et(e)||je("changeType"),Object.keys(e).some(function(t){return!hn(i,t)})&&je("changeField"),e}function _n(i){Ge(i)||je("selectorType")}function gn(i){Ge(i)||et(i)||je("handlerType"),et(i)&&Object.values(i).some(function(e){return!Ge(e)})&&je("handlersType")}function bn(i){i||je("initialIsRequired"),et(i)||je("initialType"),dn(i)&&je("initialContent")}function vn(i,e){throw new Error(i[e]||i.default)}var pn={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},je=Ze(vn)(pn),Xe={changes:mn,selector:_n,handler:gn,initial:bn};function wn(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xe.initial(i),Xe.handler(e);var t={current:i},l=Ze(In)(t,e),n=Ze(yn)(t),s=Ze(Xe.changes)(i),r=Ze(kn)(t);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Xe.selector(u),u(t.current)}function a(u){cn(l,n,s,r)(u)}return[o,a]}function kn(i,e){return Ge(e)?e(i.current):e}function yn(i,e){return i.current=At(At({},i.current),e),e}function In(i,e,t){return Ge(e)?e(i.current):Object.keys(t).forEach(function(l){var n;return(n=e[l])===null||n===void 0?void 0:n.call(e,i.current[l])}),t}var En={create:wn},Mn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function On(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e.apply(t,[].concat(n,o))}}}function Pn(i){return{}.toString.call(i).includes("Object")}function Sn(i){return i||Lt("configIsRequired"),Pn(i)||Lt("configType"),i.urls?(Tn(),{paths:{vs:i.urls.monacoBase}}):i}function Tn(){console.warn(pl.deprecation)}function Dn(i,e){throw new Error(i[e]||i.default)}var pl={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Lt=On(Dn)(pl),Vn={config:Sn},Bn=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(n){return t.reduceRight(function(s,r){return r(s)},n)}};function wl(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],wl(i[t],e[t]))}),Bt(Bt({},i),e)}var Cn={type:"cancelation",msg:"operation is manually canceled"};function ut(i){var e=!1,t=new Promise(function(l,n){i.then(function(s){return e?n(Cn):l(s)}),i.catch(n)});return t.cancel=function(){return e=!0},t}var zn=En.create({config:Mn,isInitialized:!1,resolve:null,reject:null,monaco:null}),kl=rn(zn,2),Ke=kl[0],at=kl[1];function An(i){var e=Vn.config(i),t=e.monaco,l=nn(e,["monaco"]);at(function(n){return{config:wl(n.config,l),monaco:t}})}function Ln(){var i=Ke(function(e){var t=e.monaco,l=e.isInitialized,n=e.resolve;return{monaco:t,isInitialized:l,resolve:n}});if(!i.isInitialized){if(at({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),ut(ft);if(window.monaco&&window.monaco.editor)return yl(window.monaco),i.resolve(window.monaco),ut(ft);Bn(Rn,jn)(Fn)}return ut(ft)}function Rn(i){return document.body.appendChild(i)}function Nn(i){var e=document.createElement("script");return i&&(e.src=i),e}function jn(i){var e=Ke(function(l){var n=l.config,s=l.reject;return{config:n,reject:s}}),t=Nn("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function Fn(){var i=Ke(function(t){var l=t.config,n=t.resolve,s=t.reject;return{config:l,resolve:n,reject:s}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){yl(t),i.resolve(t)},function(t){i.reject(t)})}function yl(i){Ke().monaco||at({monaco:i})}function Hn(){return Ke(function(i){var e=i.monaco;return e})}var ft=new Promise(function(i,e){return at({resolve:i,reject:e})}),Rt={config:An,init:Ln,__getMonacoInstance:Hn};let Je;async function qn(){return Je!=null||(Je=ai(()=>import("./editor.main.52e1b82b.js").then(i=>i.e),["./editor.main.52e1b82b.js","./preload-helper.41c905a7.js","../assets/editor.5caca8db.css"],import.meta.url).then(i=>(Rt.config({monaco:i.default}),Rt.init()))),Je}function Yn(i){let e,t,l,n=qe(i[2])+"",s,r,o,a=qe(i[1])+"",u,f,d,_,h,M,C,L,D,O;return h=new Si({}),{c(){e=P("div"),t=P("div"),l=P("div"),s=ee(n),r=x(),o=P("div"),u=ee(a),f=x(),d=P("div"),_=P("button"),le(h.$$.fragment),M=x(),C=P("div"),this.h()},l(w){e=S(w,"DIV",{class:!0});var k=b(e);t=S(k,"DIV",{class:!0});var v=b(t);l=S(v,"DIV",{class:!0});var q=b(l);s=te(q,n),q.forEach(c),r=$(v),o=S(v,"DIV",{class:!0});var V=b(o);u=te(V,a),V.forEach(c),f=$(v),d=S(v,"DIV",{});var K=b(d);_=S(K,"BUTTON",{class:!0});var U=b(_);ae(h.$$.fragment,U),U.forEach(c),K.forEach(c),v.forEach(c),M=$(k),C=S(k,"DIV",{class:!0}),b(C).forEach(c),k.forEach(c),this.h()},h(){I(l,"class","ml-8 w-1/2"),I(o,"class","ml-8 w-1/2"),I(_,"class","-mr-1 mb-1 flex flex-row"),I(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),I(C,"class","editor-container"),I(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(w,k){z(w,e,k),m(e,t),m(t,l),m(l,s),m(t,r),m(t,o),m(o,u),m(t,f),m(t,d),m(d,_),ie(h,_,null),m(e,M),m(e,C),i[13](C),L=!0,D||(O=[ze(_,"click",i[12]),Oe(Ve.call(null,_,{text:"Swap comparison order"}))],D=!0)},p(w,[k]){(!L||k&4)&&n!==(n=qe(w[2])+"")&&be(s,n),(!L||k&2)&&a!==(a=qe(w[1])+"")&&be(u,a)},i(w){L||(p(h.$$.fragment,w),L=!0)},o(w){E(h.$$.fragment,w),L=!1},d(w){w&&c(e),ne(h),i[13](null),D=!1,Fe(O)}}}const Nt=350;function Un(i,e,t){let l,n,s,r;const o=nt();let{row:a}=e,{colCompareState:u}=e,{textIsOverBudget:f}=e,{isExpanded:d}=e,_,h,M;function C(){var O,w;if(M!=null&&((O=M.getModel())==null?void 0:O.original)!=null&&((w=M.getModel())==null?void 0:w.modified)!=null){const k=Math.max(M.getOriginalEditor().getContentHeight(),M.getModifiedEditor().getContentHeight());t(5,f=k>Nt),d||!f?t(3,_.style.height=`${k}px`,_):t(3,_.style.height=Nt+"px",_),M.layout()}}Vl(async()=>{t(8,h=await qn()),t(9,M=h.editor.createDiffEditor(_,{readOnly:!0,lineNumbers:"on",renderFinalNewline:"dimmed",lineDecorationsWidth:0,glyphMargin:!0,folding:!1,lineNumbersMinChars:3,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""},scrollbar:{verticalScrollbarSize:8},minimap:{enabled:!0,side:"right"},automaticLayout:!0})),M.onDidChangeModel(()=>{C()})}),Bl(()=>{h==null||h.editor.getModels().forEach(O=>O.dispose()),M==null||M.dispose()});const L=()=>o.swapCompareColumn((u==null?void 0:u.column)||[]);function D(O){Ue[O?"unshift":"push"](()=>{_=O,t(3,_)})}return i.$$set=O=>{"row"in O&&t(6,a=O.row),"colCompareState"in O&&t(0,u=O.colCompareState),"textIsOverBudget"in O&&t(5,f=O.textIsOverBudget),"isExpanded"in O&&t(7,d=O.isExpanded)},i.$$.update=()=>{i.$$.dirty&1&&t(2,l=u.swapDirection?u.compareToColumn:u.column),i.$$.dirty&1&&t(1,n=u.swapDirection?u.column:u.compareToColumn),i.$$.dirty&68&&t(11,s=We.value(xe(a,l)[0])),i.$$.dirty&66&&t(10,r=We.value(xe(a,n)[0])),i.$$.dirty&128&&d!=null&&C(),i.$$.dirty&3840&&M!=null&&s!=null&&r!=null&&(M.setModel({original:h.editor.createModel(s,"text/plain"),modified:h.editor.createModel(r,"text/plain")}),C())},[u,n,l,_,o,f,a,d,h,M,r,s,L,D]}class Zn extends ye{constructor(e){super(),Ie(this,e,Un,Yn,Ee,{row:6,colCompareState:0,textIsOverBudget:5,isExpanded:7})}}function jt(i,e,t){const l=i.slice();return l[40]=e[t],l}function Wn(i){let e,t,l,n,s,r,o=i[17],a=[];for(let f=0;f<o.length;f+=1)a[f]=Ft(jt(i,o,f));const u=f=>E(a[f],1,1,()=>{a[f]=null});return{c(){e=P("div"),t=P("div"),l=P("div"),n=ee(i[16]),s=x();for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){e=S(f,"DIV",{class:!0});var d=b(e);t=S(d,"DIV",{class:!0});var _=b(t);l=S(_,"DIV",{title:!0,class:!0});var h=b(l);n=te(h,i[16]),h.forEach(c),s=$(_);for(let M=0;M<a.length;M+=1)a[M].l(_);_.forEach(c),d.forEach(c),this.h()},h(){I(l,"title",i[16]),I(l,"class","mx-2 mt-2 truncate font-mono font-medium text-neutral-500"),I(t,"class","m-2 flex flex-col gap-y-2"),I(e,"class","my-2 flex w-full flex-col rounded border border-neutral-200")},m(f,d){z(f,e,d),m(e,t),m(t,l),m(l,n),m(t,s);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(t,null);r=!0},p(f,d){if((!r||d[0]&65536)&&be(n,f[16]),(!r||d[0]&65536)&&I(l,"title",f[16]),d[0]&131102){o=f[17];let _;for(_=0;_<o.length;_+=1){const h=jt(f,o,_);a[_]?(a[_].p(h,d),p(a[_],1)):(a[_]=Ft(h),a[_].c(),p(a[_],1),a[_].m(t,null))}for(de(),_=o.length;_<a.length;_+=1)u(_);he()}},i(f){if(!r){for(let d=0;d<o.length;d+=1)p(a[d]);r=!0}},o(f){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)E(a[d]);r=!1},d(f){f&&c(e),it(a,f)}}}function Qn(i){let e,t,l,n,s,r,o,a,u,f,d,_,h,M,C,L,D,O,w,k,v,q,V,K,U=i[16]!=""&&Ht(i);o=new ri({props:{size:16}});const X=[Kn,Gn],N=[];function g(R,H){return R[8]?1:0}f=g(i),d=N[f]=X[f](i);const A=[Jn,Xn],j=[];function B(R,H){return R[7]?0:1}M=B(i),C=j[M]=A[M](i);const y=[$n,xn],F=[];function W(R,H){return R[2]!=null?0:1}return k=W(i),v=F[k]=y[k](i),{c(){e=P("div"),t=P("div"),U&&U.c(),l=x(),n=P("div"),s=P("div"),r=P("button"),le(o.$$.fragment),u=x(),d.c(),_=x(),h=P("button"),C.c(),O=x(),w=P("div"),v.c(),this.h()},l(R){e=S(R,"DIV",{class:!0});var H=b(e);t=S(H,"DIV",{class:!0});var me=b(t);U&&U.l(me),l=$(me),n=S(me,"DIV",{class:!0});var Z=b(n);s=S(Z,"DIV",{});var oe=b(s);r=S(oe,"BUTTON",{});var se=b(r);ae(o.$$.fragment,se),se.forEach(c),oe.forEach(c),u=$(Z),d.l(Z),_=$(Z),h=S(Z,"BUTTON",{});var J=b(h);C.l(J),J.forEach(c),Z.forEach(c),me.forEach(c),H.forEach(c),O=$(R),w=S(R,"DIV",{class:!0});var re=b(w);v.l(re),re.forEach(c),this.h()},h(){r.disabled=i[11],G(s,"opacity-50",i[11]),h.disabled=L=!i[6],G(h,"opacity-50",!i[6]),I(n,"class","flex flex-row"),I(t,"class","sticky top-0 flex w-full flex-col gap-y-2 self-start"),I(e,"class","relative mr-4 flex w-28 flex-none font-mono font-medium text-neutral-500 md:w-44"),I(w,"class","w-full grow-0 overflow-x-auto pt-1 font-normal")},m(R,H){z(R,e,H),m(e,t),U&&U.m(t,null),m(t,l),m(t,n),m(n,s),m(s,r),ie(o,r,null),m(n,u),N[f].m(n,null),m(n,_),m(n,h),j[M].m(h,null),z(R,O,H),z(R,w,H),F[k].m(w,null),q=!0,V||(K=[ze(r,"click",i[34]),Oe(Ve.call(null,r,{text:"More like this"})),Oe(a=Ve.call(null,s,{text:i[11]?'"More like this" requires an embedding index':void 0})),ze(h,"click",i[36]),Oe(D=Ve.call(null,h,{text:i[7]?"Collapse text":"Expand text"}))],V=!0)},p(R,H){R[16]!=""?U?U.p(R,H):(U=Ht(R),U.c(),U.m(t,l)):U&&(U.d(1),U=null),(!q||H[0]&2048)&&(r.disabled=R[11]),a&&Re(a.update)&&H[0]&2048&&a.update.call(null,{text:R[11]?'"More like this" requires an embedding index':void 0}),(!q||H[0]&2048)&&G(s,"opacity-50",R[11]);let me=f;f=g(R),f===me?N[f].p(R,H):(de(),E(N[me],1,1,()=>{N[me]=null}),he(),d=N[f],d?d.p(R,H):(d=N[f]=X[f](R),d.c()),p(d,1),d.m(n,_));let Z=M;M=B(R),M!==Z&&(de(),E(j[Z],1,1,()=>{j[Z]=null}),he(),C=j[M],C||(C=j[M]=A[M](R),C.c()),p(C,1),C.m(h,null)),(!q||H[0]&64&&L!==(L=!R[6]))&&(h.disabled=L),D&&Re(D.update)&&H[0]&128&&D.update.call(null,{text:R[7]?"Collapse text":"Expand text"}),(!q||H[0]&64)&&G(h,"opacity-50",!R[6]);let oe=k;k=W(R),k===oe?F[k].p(R,H):(de(),E(F[oe],1,1,()=>{F[oe]=null}),he(),v=F[k],v?v.p(R,H):(v=F[k]=y[k](R),v.c()),p(v,1),v.m(w,null))},i(R){q||(p(o.$$.fragment,R),p(d),p(C),p(v),q=!0)},o(R){E(o.$$.fragment,R),E(d),E(C),E(v),q=!1},d(R){R&&c(e),U&&U.d(),ne(o),N[f].d(),j[M].d(),R&&c(O),R&&c(w),F[k].d(),V=!1,Fe(K)}}}function Ft(i){let e,t,l,n;return t=new Il({props:{rootPath:i[40].rootPath,showPath:i[40].showPath,row:i[2],field:i[3],highlightedFields:i[4],mediaPath:i[1]}}),{c(){e=P("div"),le(t.$$.fragment),l=x(),this.h()},l(s){e=S(s,"DIV",{class:!0});var r=b(e);ae(t.$$.fragment,r),l=$(r),r.forEach(c),this.h()},h(){I(e,"class","m-2 rounded border border-neutral-100 p-2")},m(s,r){z(s,e,r),ie(t,e,null),m(e,l),n=!0},p(s,r){const o={};r[0]&131072&&(o.rootPath=s[40].rootPath),r[0]&131072&&(o.showPath=s[40].showPath),r[0]&4&&(o.row=s[2]),r[0]&8&&(o.field=s[3]),r[0]&16&&(o.highlightedFields=s[4]),r[0]&2&&(o.mediaPath=s[1]),t.$set(o)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){E(t.$$.fragment,s),n=!1},d(s){s&&c(e),ne(t)}}}function Ht(i){let e,t;return{c(){e=P("div"),t=ee(i[16]),this.h()},l(l){e=S(l,"DIV",{title:!0,class:!0});var n=b(e);t=te(n,i[16]),n.forEach(c),this.h()},h(){I(e,"title",i[16]),I(e,"class","mx-2 mt-2 w-full flex-initial truncate")},m(l,n){z(l,e,n),m(e,t)},p(l,n){n[0]&65536&&be(t,l[16]),n[0]&65536&&I(e,"title",l[16])},d(l){l&&c(e)}}}function Gn(i){let e,t,l,n,s;return t=new Li({props:{size:16}}),{c(){e=P("button"),le(t.$$.fragment)},l(r){e=S(r,"BUTTON",{});var o=b(e);ae(t.$$.fragment,o),o.forEach(c)},m(r,o){z(r,e,o),ie(t,e,null),l=!0,n||(s=[ze(e,"click",i[35]),Oe(Ve.call(null,e,{text:"Remove comparison"}))],n=!0)},p:Q,i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){E(t.$$.fragment,r),l=!1},d(r){r&&c(e),ne(t),n=!1,Fe(s)}}}function Kn(i){let e,t;return e=new dt({props:{disabled:i[13].length===0,helperText:"Compare to",items:i[13],buttonIcon:yi,hoist:!0}}),e.$on("select",i[21]),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},p(l,n){const s={};n[0]&8192&&(s.disabled=l[13].length===0),n[0]&8192&&(s.items=l[13]),e.$set(s)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Xn(i){let e,t;return e=new ii({props:{size:16}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Jn(i){let e,t;return e=new ni({props:{size:16}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function xn(i){let e,t;return e=new dl({props:{lines:3,paragraph:!0,class:"w-full"}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},p:Q,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function $n(i){let e,t,l,n;const s=[tr,er],r=[];function o(a,u){return a[8]==null?0:1}return e=o(i),t=r[e]=s[e](i),{c(){t.c(),l=Se()},l(a){t.l(a),l=Se()},m(a,u){r[e].m(a,u),z(a,l,u),n=!0},p(a,u){let f=e;e=o(a),e===f?r[e].p(a,u):(de(),E(r[f],1,1,()=>{r[f]=null}),he(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),p(t,1),t.m(l.parentNode,l))},i(a){n||(p(t),n=!0)},o(a){E(t),n=!1},d(a){r[e].d(a),a&&c(l)}}}function er(i){let e,t,l;function n(r){i[38](r)}let s={row:i[2],colCompareState:i[8],isExpanded:i[7]};return i[6]!==void 0&&(s.textIsOverBudget=i[6]),e=new Zn({props:s}),Ue.push(()=>tt(e,"textIsOverBudget",n)),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,o){ie(e,r,o),l=!0},p(r,o){const a={};o[0]&4&&(a.row=r[2]),o[0]&256&&(a.colCompareState=r[8]),o[0]&128&&(a.isExpanded=r[7]),!t&&o[0]&64&&(t=!0,a.textIsOverBudget=r[6],lt(()=>t=!1)),e.$set(a)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function tr(i){let e,t,l;function n(r){i[37](r)}let s={text:mt(i[15]),row:i[2],path:i[0],field:i[3],markdown:i[9],isExpanded:i[7],spanPaths:i[10].spanPaths,valuePaths:i[10].valuePaths,datasetViewStore:i[19],embeddings:i[5]};return i[6]!==void 0&&(s.textIsOverBudget=i[6]),e=new si({props:s}),Ue.push(()=>tt(e,"textIsOverBudget",n)),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,o){ie(e,r,o),l=!0},p(r,o){const a={};o[0]&32768&&(a.text=mt(r[15])),o[0]&4&&(a.row=r[2]),o[0]&1&&(a.path=r[0]),o[0]&8&&(a.field=r[3]),o[0]&512&&(a.markdown=r[9]),o[0]&128&&(a.isExpanded=r[7]),o[0]&1024&&(a.spanPaths=r[10].spanPaths),o[0]&1024&&(a.valuePaths=r[10].valuePaths),o[0]&32&&(a.embeddings=r[5]),!t&&o[0]&64&&(t=!0,a.textIsOverBudget=r[6],lt(()=>t=!1)),e.$set(a)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){E(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function lr(i){let e,t,l,n;const s=[Qn,Wn],r=[];function o(a,u){return a[18]?0:1}return t=o(i),l=r[t]=s[t](i),{c(){e=P("div"),l.c(),this.h()},l(a){e=S(a,"DIV",{class:!0});var u=b(e);l.l(u),u.forEach(c),this.h()},h(){I(e,"class","flex w-full gap-x-4")},m(a,u){z(a,e,u),r[t].m(e,null),n=!0},p(a,u){let f=t;t=o(a),t===f?r[t].p(a,u):(de(),E(r[f],1,1,()=>{r[f]=null}),he(),l=r[t],l?l.p(a,u):(l=r[t]=s[t](a),l.c()),p(l,1),l.m(e,null))},i(a){n||(p(l),n=!0)},o(a){E(l),n=!1},d(a){a&&c(e),r[t].d()}}}function ir(i,e,t){let l,n,s,r,o,a,u,f,d,_,h,M,C,L,D,O,w,k,v=Q,q=()=>(v(),v=Ce(d,T=>t(31,k=T)),d),V,K,U,X=Q,N=()=>(X(),X=Ce(C,T=>t(33,U=T)),C);i.$$.on_destroy.push(()=>v()),i.$$.on_destroy.push(()=>X());let{mediaPath:g}=e,{row:A=void 0}=e,{field:j}=e,{highlightedFields:B}=e,{rootPath:y=void 0}=e,{showPath:F=void 0}=e,W=!1,R=!1;const H=nt();He(i,H,T=>t(32,V=T));const me=li();He(i,me,T=>t(39,K=T));function Z(T){H.addCompareColumn([y,T.detail.id])}function oe(T){var Me;let ue=L[0];if(((Me=k.data)==null?void 0:Me.preferred_embedding)!=null){const De=k.data.preferred_embedding;L.some(Le=>Le===De)&&(ue=De)}if(K.embedding!=null){const De=K.embedding;L.some(Le=>Le===De)&&(ue=De)}H.addSearch({path:j.path,type:"semantic",query:T,query_type:"document",embedding:ue})}let se=null;function J(){H.removeCompareColumn(g)}const re=()=>oe(f),ge=()=>J(),Pe=()=>t(7,R=!R);function Te(T){W=T,t(6,W)}function Y(T){W=T,t(6,W)}return i.$$set=T=>{"mediaPath"in T&&t(1,g=T.mediaPath),"row"in T&&t(2,A=T.row),"field"in T&&t(3,j=T.field),"highlightedFields"in T&&t(4,B=T.highlightedFields),"rootPath"in T&&t(0,y=T.rootPath),"showPath"in T&&t(24,F=T.showPath)},i.$$.update=()=>{var T,ue,Me,De,Le;if(i.$$.dirty[0]&2&&t(30,l=g.findIndex(ve=>ve===Qe)),i.$$.dirty[0]&1073741827&&y==null&&(l!=-1?t(0,y=g.slice(0,l+1)):t(0,y=g)),i.$$.dirty[0]&5&&t(28,n=A!=null?xe(A,y):[]),i.$$.dirty[0]&268435456&&t(18,s=n.length<=1),i.$$.dirty[0]&268435458&&t(17,r=n.map(ve=>{const Ae=We.path(ve),ot=g.findIndex((st,Ml)=>st===Qe&&Ml>=Ae.length),El=g.slice(ot).filter(st=>st!==Qe);return{rootPath:[...Ae,...g.slice(Ae.length,ot===-1?void 0:ot)],showPath:El}})),i.$$.dirty[0]&16777217&&t(29,o=F??y),i.$$.dirty[0]&536870912&&t(16,a=qe(o)),i.$$.dirty[0]&268435456&&t(27,u=n[0]),i.$$.dirty[0]&134217728&&t(15,f=We.value(u)),i.$$.dirty[1]&2&&q(t(14,d=Nl(V.namespace,V.datasetName))),i.$$.dirty[0]&4|i.$$.dirty[1]&1&&t(26,_=A!=null?((ue=(T=k.data)==null?void 0:T.ui)==null?void 0:ue.media_paths)||[]:[]),i.$$.dirty[0]&67108869&&t(25,h=_.map(ve=>Array.isArray(ve)?ve:[ve]).flatMap(ve=>xe(A,ve).map(Ae=>We.path(Ae)).filter(Ae=>!jl(Ae,y)))),i.$$.dirty[0]&33554432&&t(13,M=h.map(ve=>({id:ve,text:qe(ve)}))),i.$$.dirty[1]&2&&N(t(12,C=rt(V.namespace,V.datasetName))),i.$$.dirty[0]&2|i.$$.dirty[1]&4&&t(5,L=Fl(U.data,g)),i.$$.dirty[0]&32&&t(11,D=L.length===0),i.$$.dirty[0]&24&&t(10,O=Hl(j,B)),i.$$.dirty[0]&1|i.$$.dirty[1]&2){t(8,se=null);for(const ve of V.compareColumns)if(Be(ve.column,y)){t(8,se=ve);break}}i.$$.dirty[0]&2|i.$$.dirty[1]&1&&t(9,w=((Le=(De=(Me=k.data)==null?void 0:Me.ui)==null?void 0:De.markdown_paths)==null?void 0:Le.find(ve=>Be(ve,g)))!=null)},[y,g,A,j,B,L,W,R,se,w,O,D,C,M,d,f,a,r,s,H,me,Z,oe,J,F,h,_,u,n,o,l,k,V,U,re,ge,Pe,Te,Y]}class Il extends ye{constructor(e){super(),Ie(this,e,ir,lr,Ee,{mediaPath:1,row:2,field:3,highlightedFields:4,rootPath:0,showPath:24},null,[-1,-1])}}function nr(i){let e,t,l,n;return{c(){e=P("button"),t=ee(i[1]),this.h()},l(s){e=S(s,"BUTTON",{class:!0});var r=b(e);t=te(r,i[1]),r.forEach(c),this.h()},h(){e.disabled=i[2],I(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),G(e,"bg-slate-500",i[0]),G(e,"hover:bg-slate-500",i[0]),G(e,"hover:bg-transparent",!i[0]),G(e,"text-white",i[0])},m(s,r){z(s,e,r),m(e,t),l||(n=ze(e,"click",i[3]),l=!0)},p(s,[r]){r&2&&be(t,s[1]),r&4&&(e.disabled=s[2]),r&1&&G(e,"bg-slate-500",s[0]),r&1&&G(e,"hover:bg-slate-500",s[0]),r&1&&G(e,"hover:bg-transparent",!s[0]),r&1&&G(e,"text-white",s[0])},i:Q,o:Q,d(s){s&&c(e),l=!1,n()}}}function rr(i,e,t){let{label:l}=e,{active:n}=e,{disabled:s=!1}=e;function r(o){al.call(this,i,o)}return i.$$set=o=>{"label"in o&&t(1,l=o.label),"active"in o&&t(0,n=o.active),"disabled"in o&&t(2,s=o.disabled)},i.$$.update=()=>{i.$$.dirty&5&&t(0,n=n&&!s)},[n,l,s,r]}class ar extends ye{constructor(e){super(),Ie(this,e,rr,nr,Ee,{label:1,active:0,disabled:2})}}function qt(i,e,t){const l=i.slice();return l[34]=e[t],l[36]=t,l}function Yt(i,e,t){const l=i.slice();return l[37]=e[t],l}function Ut(i){let e,t,l;function n(){return i[28](i[37])}return t=new ar({props:{label:i[37],disabled:i[6].has(i[37]),active:i[11].includes(i[37])}}),t.$on("click",n),{c(){e=P("div"),le(t.$$.fragment),this.h()},l(s){e=S(s,"DIV",{});var r=b(e);ae(t.$$.fragment,r),r.forEach(c),this.h()},h(){G(e,"opacity-50",i[6].has(i[37]))},m(s,r){z(s,e,r),ie(t,e,null),l=!0},p(s,r){i=s;const o={};r[0]&512&&(o.label=i[37]),r[0]&576&&(o.disabled=i[6].has(i[37])),r[0]&2560&&(o.active=i[11].includes(i[37])),t.$set(o),(!l||r[0]&576)&&G(e,"opacity-50",i[6].has(i[37]))},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){E(t.$$.fragment,s),l=!1},d(s){s&&c(e),ne(t)}}}function Zt(i){let e=[],t=new Map,l,n,s=i[1];const r=o=>$e(o[34].path);for(let o=0;o<s.length;o+=1){let a=qt(i,s,o),u=r(a);t.set(u,e[o]=Wt(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=Se()},l(o){for(let a=0;a<e.length;a+=1)e[a].l(o);l=Se()},m(o,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(o,a);z(o,l,a),n=!0},p(o,a){a[0]&14&&(s=o[1],de(),e=zl(e,a,r,1,o,s,t,l.parentNode,Al,Wt,l,qt),he())},i(o){if(!n){for(let a=0;a<s.length;a+=1)p(e[a]);n=!0}},o(o){for(let a=0;a<e.length;a+=1)E(e[a]);n=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&c(l)}}}function Wt(i,e){let t,l,n,s;return l=new Il({props:{mediaPath:e[34].path,row:e[3],field:e[34],highlightedFields:e[2]}}),{key:i,first:null,c(){t=P("div"),le(l.$$.fragment),n=x(),this.h()},l(r){t=S(r,"DIV",{class:!0});var o=b(t);ae(l.$$.fragment,o),n=$(o),o.forEach(c),this.h()},h(){I(t,"class","flex h-full w-full flex-col border-neutral-200"),G(t,"border-b",e[36]<e[1].length-1),G(t,"pb-2",e[36]<e[1].length-1),this.first=t},m(r,o){z(r,t,o),ie(l,t,null),m(t,n),s=!0},p(r,o){e=r;const a={};o[0]&2&&(a.mediaPath=e[34].path),o[0]&8&&(a.row=e[3]),o[0]&2&&(a.field=e[34]),o[0]&4&&(a.highlightedFields=e[2]),l.$set(a),(!s||o[0]&2)&&G(t,"border-b",e[36]<e[1].length-1),(!s||o[0]&2)&&G(t,"pb-2",e[36]<e[1].length-1)},i(r){s||(p(l.$$.fragment,r),s=!0)},o(r){E(l.$$.fragment,r),s=!1},d(r){r&&c(t),ne(l)}}}function or(i){let e,t;return e=new $l({}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function sr(i){let e,t;return e=new ei({}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Qt(i){let e,t,l,n,s,r,o;return n=new ui({props:{row:i[3],selectRowsSchema:i[4].data,highlightedFields:i[2]}}),{c(){e=P("div"),t=P("div"),l=P("div"),le(n.$$.fragment),this.h()},l(a){e=S(a,"DIV",{class:!0});var u=b(e);t=S(u,"DIV",{class:!0});var f=b(t);l=S(f,"DIV",{style:!0,class:!0});var d=b(l);ae(n.$$.fragment,d),d.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){I(l,"style",s=`max-height: ${Math.max(Gt,i[7])}px`),I(l,"class","overflow-y-auto"),I(t,"class","sticky top-0 w-full self-start"),I(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(a,u){z(a,e,u),m(e,t),m(t,l),ie(n,l,null),o=!0},p(a,u){i=a;const f={};u[0]&8&&(f.row=i[3]),u[0]&16&&(f.selectRowsSchema=i[4].data),u[0]&4&&(f.highlightedFields=i[2]),n.$set(f),(!o||u[0]&128&&s!==(s=`max-height: ${Math.max(Gt,i[7])}px`))&&I(l,"style",s)},i(a){o||(p(n.$$.fragment,a),ol(()=>{o&&(r||(r=ht(e,bt,{axis:"x",duration:_t},!0)),r.run(1))}),o=!0)},o(a){E(n.$$.fragment,a),r||(r=ht(e,bt,{axis:"x",duration:_t},!1)),r.run(0),o=!1},d(a){a&&c(e),ne(n),a&&r&&r.end()}}}function ur(i){let e,t,l,n,s,r,o,a,u,f,d,_,h,M,C,L,D,O,w,k=i[9]||[],v=[];for(let g=0;g<k.length;g+=1)v[g]=Ut(Yt(i,k,g));const q=g=>E(v[g],1,1,()=>{v[g]=null});r=new en({props:{icon:vl,labelsQuery:{row_ids:[i[0]]},hideLabels:i[11]}});let V=i[1].length>0&&Zt(i);const K=[sr,or],U=[];function X(g,A){return g[5].showMetadataPanel?0:1}d=X(i),_=U[d]=K[d](i);let N=i[5].showMetadataPanel&&Qt(i);return{c(){e=P("div"),t=P("div"),l=P("div");for(let g=0;g<v.length;g+=1)v[g].c();n=x(),s=P("div"),le(r.$$.fragment),o=x(),V&&V.c(),a=x(),u=P("div"),f=P("button"),_.c(),L=x(),N&&N.c(),this.h()},l(g){e=S(g,"DIV",{class:!0});var A=b(e);t=S(A,"DIV",{class:!0});var j=b(t);l=S(j,"DIV",{class:!0});var B=b(l);for(let R=0;R<v.length;R+=1)v[R].l(B);n=$(B),s=S(B,"DIV",{class:!0});var y=b(s);ae(r.$$.fragment,y),y.forEach(c),B.forEach(c),o=$(j),V&&V.l(j),a=$(j),u=S(j,"DIV",{class:!0});var F=b(u);f=S(F,"BUTTON",{class:!0});var W=b(f);_.l(W),W.forEach(c),F.forEach(c),j.forEach(c),L=$(A),N&&N.l(A),A.forEach(c),this.h()},h(){I(s,"class","relative h-8"),I(l,"class","flex flex-wrap items-center gap-x-2 gap-y-2"),G(l,"opacity-50",i[10]),I(f,"class","mr-1 mt-1 opacity-60 hover:bg-gray-200"),I(u,"class","absolute right-0 top-0"),I(t,"class",M=`flex flex-col gap-y-1 p-4 ${i[5].showMetadataPanel?"w-full":"grow"}`),ol(()=>i[30].call(t)),I(e,"class","flex flex-col rounded border border-neutral-300 md:flex-row")},m(g,A){z(g,e,A),m(e,t),m(t,l);for(let j=0;j<v.length;j+=1)v[j]&&v[j].m(l,null);m(l,n),m(l,s),ie(r,s,null),m(t,o),V&&V.m(t,null),m(t,a),m(t,u),m(u,f),U[d].m(f,null),C=Cl(t,i[30].bind(t)),m(e,L),N&&N.m(e,null),D=!0,O||(w=[Oe(h=Ve.call(null,f,{text:i[5].showMetadataPanel?"Close metadata":"Open metadata"})),ze(f,"click",i[29])],O=!0)},p(g,A){if(A[0]&789056){k=g[9]||[];let y;for(y=0;y<k.length;y+=1){const F=Yt(g,k,y);v[y]?(v[y].p(F,A),p(v[y],1)):(v[y]=Ut(F),v[y].c(),p(v[y],1),v[y].m(l,n))}for(de(),y=k.length;y<v.length;y+=1)q(y);he()}const j={};A[0]&1&&(j.labelsQuery={row_ids:[g[0]]}),A[0]&2048&&(j.hideLabels=g[11]),r.$set(j),(!D||A[0]&1024)&&G(l,"opacity-50",g[10]),g[1].length>0?V?(V.p(g,A),A[0]&2&&p(V,1)):(V=Zt(g),V.c(),p(V,1),V.m(t,a)):V&&(de(),E(V,1,1,()=>{V=null}),he());let B=d;d=X(g),d!==B&&(de(),E(U[B],1,1,()=>{U[B]=null}),he(),_=U[d],_||(_=U[d]=K[d](g),_.c()),p(_,1),_.m(f,null)),h&&Re(h.update)&&A[0]&32&&h.update.call(null,{text:g[5].showMetadataPanel?"Close metadata":"Open metadata"}),(!D||A[0]&32&&M!==(M=`flex flex-col gap-y-1 p-4 ${g[5].showMetadataPanel?"w-full":"grow"}`))&&I(t,"class",M),g[5].showMetadataPanel?N?(N.p(g,A),A[0]&32&&p(N,1)):(N=Qt(g),N.c(),p(N,1),N.m(e,null)):N&&(de(),E(N,1,1,()=>{N=null}),he())},i(g){if(!D){for(let A=0;A<k.length;A+=1)p(v[A]);p(r.$$.fragment,g),p(V),p(_),p(N),D=!0}},o(g){v=v.filter(Boolean);for(let A=0;A<v.length;A+=1)E(v[A]);E(r.$$.fragment,g),E(V),E(_),E(N),D=!1},d(g){g&&c(e),it(v,g),ne(r),V&&V.d(),U[d].d(),C(),N&&N.d(),O=!1,Fe(w)}}}const Gt=165;function fr(i,e,t){let l,n,s,r,o,a,u,f,d,_,h,M,C,L,D,O=Q,w=()=>(O(),O=Ce(a,T=>t(31,D=T)),a),k,v=Q,q=()=>(v(),v=Ce(C,T=>t(32,k=T)),C),V,K=Q,U=()=>(K(),K=Ce(f,T=>t(25,V=T)),f),X,N=Q,g=()=>(N(),N=Ce(r,T=>t(26,X=T)),r),A,j=Q,B=()=>(j(),j=Ce(o,T=>t(4,A=T)),o),y,F;i.$$.on_destroy.push(()=>O()),i.$$.on_destroy.push(()=>v()),i.$$.on_destroy.push(()=>K()),i.$$.on_destroy.push(()=>N()),i.$$.on_destroy.push(()=>j());let{rowId:W}=e,{mediaFields:R}=e,{highlightedFields:H}=e;const me=nt();He(i,me,T=>t(5,y=T));const Z=bl(),oe=sl();He(i,oe,T=>t(27,F=T));let se=new Set,J=0;function re(T){const ue={row_ids:[W],label_name:T};se.add(T),t(6,se),t(22,L),t(25,V),k.mutate([l,n,ue],{onSuccess:Me=>{const De=ue.row_ids!=null?`Document id: ${ue.row_ids}`:`${Me.toLocaleString()} rows labeled`;Z.addNotification({kind:"success",title:`Added label "${ue.label_name}"`,message:De})}})}function ge(T){const ue={label_name:T,row_ids:[W]};se.add(T),t(6,se),t(22,L),t(25,V),D.mutate([l,n,ue],{onSuccess:()=>{Z.addNotification({kind:"success",title:`Removed label "${ue.label_name}"`,message:`Document id: ${W}`})}})}const Pe=T=>{_.includes(T)?ge(T):re(T)},Te=()=>Ll(me,y.showMetadataPanel=!y.showMetadataPanel,y);function Y(){J=this.clientHeight,t(7,J)}return i.$$set=T=>{"rowId"in T&&t(0,W=T.rowId),"mediaFields"in T&&t(1,R=T.mediaFields),"highlightedFields"in T&&t(2,H=T.highlightedFields)},i.$$.update=()=>{var T;i.$$.dirty[0]&32&&t(21,l=y.namespace),i.$$.dirty[0]&32&&t(20,n=y.datasetName),i.$$.dirty[0]&134217728&&t(23,s=(T=F.data)==null?void 0:T.access.dataset.edit_labels),i.$$.dirty[0]&3145728&&g(t(15,r=rt(l,n))),i.$$.dirty[0]&3145760&&B(t(14,o=ql(l,n,Yl(y)))),i.$$.dirty[0]&67108864&&w(t(13,a=X.data!=null?fl(X.data):null)),i.$$.dirty[0]&32&&t(24,u=Ul(y)),i.$$.dirty[0]&19922961&&U(t(12,f=A.data!=null&&!A.isFetching?Zl(l,n,W,u,A.data.schema):null)),i.$$.dirty[0]&33554432&&t(3,d=V!=null&&!V.isFetching?V==null?void 0:V.data:null),i.$$.dirty[0]&8&&t(11,_=d!=null?Wl(d):[]),i.$$.dirty[0]&8388608&&t(10,h=!s),i.$$.dirty[0]&67108864&&t(9,M=X.data&&cl(X.data)),i.$$.dirty[0]&67108864&&q(t(8,C=X.data!=null?ul(X.data):null)),i.$$.dirty[0]&33554432&&t(22,L=V==null?void 0:V.isStale),i.$$.dirty[0]&4194304&&(L||t(6,se=new Set))},[W,R,H,d,A,y,se,J,C,M,h,_,f,a,o,r,me,oe,re,ge,n,l,L,s,u,V,X,F,Pe,Te,Y]}class Rr extends ye{constructor(e){super(),Ie(this,e,fr,ur,Ee,{rowId:0,mediaFields:1,highlightedFields:2},null,[-1,-1])}}function Kt(i){let e,t,l;var n=i[2];function s(r){return{}}return n&&(t=Ye(n,s())),{c(){e=P("div"),t&&le(t.$$.fragment),this.h()},l(r){e=S(r,"DIV",{class:!0});var o=b(e);t&&ae(t.$$.fragment,o),o.forEach(c),this.h()},h(){I(e,"class","mr-2")},m(r,o){z(r,e,o),t&&ie(t,e,null),l=!0},p(r,o){if(o&4&&n!==(n=r[2])){if(t){de();const a=t;E(a.$$.fragment,1,0,()=>{ne(a,1)}),he()}n?(t=Ye(n,s()),le(t.$$.fragment),p(t.$$.fragment,1),ie(t,e,null)):t=null}},i(r){l||(t&&p(t.$$.fragment,r),l=!0)},o(r){t&&E(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&ne(t)}}}function cr(i){let e,t,l,n,s,r,o,a,u=i[2]!=null&&Kt(i);return{c(){e=P("button"),u&&u.c(),t=x(),l=P("div"),n=ee(i[1]),this.h()},l(f){e=S(f,"BUTTON",{class:!0});var d=b(e);u&&u.l(d),t=$(d),l=S(d,"DIV",{class:!0});var _=b(l);n=te(_,i[1]),_.forEach(c),d.forEach(c),this.h()},h(){I(l,"class","text-sm"),I(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),G(e,"active",i[0])},m(f,d){z(f,e,d),u&&u.m(e,null),m(e,t),m(e,l),m(l,n),r=!0,o||(a=[ze(e,"click",i[4]),Oe(s=Ve.call(null,e,{text:i[3]}))],o=!0)},p(f,[d]){f[2]!=null?u?(u.p(f,d),d&4&&p(u,1)):(u=Kt(f),u.c(),p(u,1),u.m(e,t)):u&&(de(),E(u,1,1,()=>{u=null}),he()),(!r||d&2)&&be(n,f[1]),s&&Re(s.update)&&d&8&&s.update.call(null,{text:f[3]}),(!r||d&1)&&G(e,"active",f[0])},i(f){r||(p(u),r=!0)},o(f){E(u),r=!1},d(f){f&&c(e),u&&u.d(),o=!1,Fe(a)}}}function dr(i,e,t){let{active:l=!1}=e,{label:n}=e,{icon:s=void 0}=e,{tooltip:r=void 0}=e;function o(a){al.call(this,i,a)}return i.$$set=a=>{"active"in a&&t(0,l=a.active),"label"in a&&t(1,n=a.label),"icon"in a&&t(2,s=a.icon),"tooltip"in a&&t(3,r=a.tooltip)},[l,n,s,r,o]}class Xt extends ye{constructor(e){super(),Ie(this,e,dr,cr,Ee,{active:0,label:1,icon:2,tooltip:3})}}function Jt(i,e,t){const l=i.slice();return l[26]=e[t],l}function xt(i,e,t){const l=i.slice();l[29]=e[t],l[32]=t;const n=l[1].find(function(...r){return i[21](l[29],...r)});return l[30]=n,l}function ct(i){const e=i.slice(),t=hl(e[30]);e[33]=t;const l=ml(e[30]);e[34]=l;const n=e[32]===0;e[35]=n;const s=e[32]===e[0].ui.media_paths.length-1;return e[36]=s,e}function hr(i){let e,t,l,n,s,r,o,a,u,f,d,_,h,M,C,L,D,O,w,k,v,q,V,K,U,X,N,g,A,j,B;const y=[gr,_r],F=[];function W(Z,oe){var se;return((se=Z[0].ui)==null?void 0:se.media_paths)!=null&&Z[1]!=null?0:1}u=W(i),f=F[u]=y[u](i),D=new Xt({props:{icon:Vi,label:"Scroll",active:i[4]=="scroll",tooltip:"Infinite scroll with snippets"}}),D.$on("click",i[22]),w=new Xt({props:{icon:Mi,label:"Single Item",active:i[4]=="single_item",tooltip:"Individual item"}}),w.$on("click",i[23]);const R=[wr,pr],H=[];function me(Z,oe){return Z[6].isFetching?0:1}return A=me(i),j=H[A]=R[A](i),{c(){e=P("div"),t=P("section"),l=P("div"),n=ee("Media fields"),s=x(),r=P("div"),o=ee(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),a=x(),f.c(),d=x(),_=P("section"),h=P("div"),M=ee("View type"),C=x(),L=P("div"),le(D.$$.fragment),O=x(),le(w.$$.fragment),k=x(),v=P("section"),q=P("div"),V=ee("Preferred embedding"),K=x(),U=P("div"),X=ee("This embedding will be used by default when indexing and querying the data."),N=x(),g=P("div"),j.c(),this.h()},l(Z){e=S(Z,"DIV",{class:!0});var oe=b(e);t=S(oe,"SECTION",{class:!0});var se=b(t);l=S(se,"DIV",{class:!0});var J=b(l);n=te(J,"Media fields"),J.forEach(c),s=$(se),r=S(se,"DIV",{class:!0});var re=b(r);o=te(re,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),re.forEach(c),a=$(se),f.l(se),se.forEach(c),d=$(oe),_=S(oe,"SECTION",{class:!0});var ge=b(_);h=S(ge,"DIV",{class:!0});var Pe=b(h);M=te(Pe,"View type"),Pe.forEach(c),C=$(ge),L=S(ge,"DIV",{class:!0});var Te=b(L);ae(D.$$.fragment,Te),O=$(Te),ae(w.$$.fragment,Te),Te.forEach(c),ge.forEach(c),k=$(oe),v=S(oe,"SECTION",{class:!0});var Y=b(v);q=S(Y,"DIV",{class:!0});var T=b(q);V=te(T,"Preferred embedding"),T.forEach(c),K=$(Y),U=S(Y,"DIV",{class:!0});var ue=b(U);X=te(ue,"This embedding will be used by default when indexing and querying the data."),ue.forEach(c),N=$(Y),g=S(Y,"DIV",{class:!0});var Me=b(g);j.l(Me),Me.forEach(c),Y.forEach(c),oe.forEach(c),this.h()},h(){I(l,"class","text-lg text-gray-700"),I(r,"class","text-sm text-gray-500"),I(t,"class","flex flex-col gap-y-4"),I(h,"class","text-lg text-gray-700"),I(L,"class","flex gap-x-2"),I(_,"class","flex flex-col gap-y-1"),I(q,"class","text-lg text-gray-700"),I(U,"class","text-sm text-gray-500"),I(g,"class","w-60"),I(v,"class","flex flex-col gap-y-1"),I(e,"class","flex flex-col gap-y-6")},m(Z,oe){z(Z,e,oe),m(e,t),m(t,l),m(l,n),m(t,s),m(t,r),m(r,o),m(t,a),F[u].m(t,null),m(e,d),m(e,_),m(_,h),m(h,M),m(_,C),m(_,L),ie(D,L,null),m(L,O),ie(w,L,null),m(e,k),m(e,v),m(v,q),m(q,V),m(v,K),m(v,U),m(U,X),m(v,N),m(v,g),H[A].m(g,null),B=!0},p(Z,oe){let se=u;u=W(Z),u===se?F[u].p(Z,oe):(de(),E(F[se],1,1,()=>{F[se]=null}),he(),f=F[u],f?f.p(Z,oe):(f=F[u]=y[u](Z),f.c()),p(f,1),f.m(t,null));const J={};oe[0]&16&&(J.active=Z[4]=="scroll"),D.$set(J);const re={};oe[0]&16&&(re.active=Z[4]=="single_item"),w.$set(re);let ge=A;A=me(Z),A===ge?H[A].p(Z,oe):(de(),E(H[ge],1,1,()=>{H[ge]=null}),he(),j=H[A],j?j.p(Z,oe):(j=H[A]=R[A](Z),j.c()),p(j,1),j.m(g,null))},i(Z){B||(p(f),p(D.$$.fragment,Z),p(w.$$.fragment,Z),p(j),B=!0)},o(Z){E(f),E(D.$$.fragment,Z),E(w.$$.fragment,Z),E(j),B=!1},d(Z){Z&&c(e),F[u].d(),ne(D),ne(w),H[A].d()}}}function mr(i){let e,t;return e=new dl({}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},p:Q,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function _r(i){let e,t;return e=new _l({}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},p:Q,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function gr(i){let e,t,l,n,s,r,o,a,u,f,d,_,h,M,C,L,D,O,w=i[1]&&$t(i),k=i[3]&&il(i);return{c(){e=P("div"),t=P("div"),l=P("div"),n=P("div"),s=x(),r=P("div"),o=ee("Field"),a=x(),u=P("div"),f=ee("Markdown"),d=x(),_=P("div"),h=x(),w&&w.c(),M=x(),C=P("div"),k&&k.c(),this.h()},l(v){e=S(v,"DIV",{class:!0});var q=b(e);t=S(q,"DIV",{class:!0});var V=b(t);l=S(V,"DIV",{class:!0});var K=b(l);n=S(K,"DIV",{class:!0}),b(n).forEach(c),s=$(K),r=S(K,"DIV",{class:!0});var U=b(r);o=te(U,"Field"),U.forEach(c),a=$(K),u=S(K,"DIV",{class:!0});var X=b(u);f=te(X,"Markdown"),X.forEach(c),d=$(K),_=S(K,"DIV",{class:!0}),b(_).forEach(c),K.forEach(c),V.forEach(c),h=$(q),w&&w.l(q),q.forEach(c),M=$(v),C=S(v,"DIV",{class:!0});var N=b(C);k&&k.l(N),N.forEach(c),this.h()},h(){I(n,"class","table-cell"),I(r,"class","table-cell"),I(u,"class","table-cell"),I(_,"class","table-cell"),I(l,"class","table-row text-xs text-neutral-600"),I(t,"class","table-header-group items-center"),I(e,"class","table border-spacing-1 gap-y-2"),I(C,"class","h-12")},m(v,q){z(v,e,q),m(e,t),m(t,l),m(l,n),m(l,s),m(l,r),m(r,o),m(l,a),m(l,u),m(u,f),m(l,d),m(l,_),m(e,h),w&&w.m(e,null),z(v,M,q),z(v,C,q),k&&k.m(C,null),L=!0,D||(O=Oe(Ve.call(null,u,{text:"Render media field with a markdown renderer."})),D=!0)},p(v,q){v[1]?w?(w.p(v,q),q[0]&2&&p(w,1)):(w=$t(v),w.c(),p(w,1),w.m(e,null)):w&&(de(),E(w,1,1,()=>{w=null}),he()),v[3]?k?(k.p(v,q),q[0]&8&&p(k,1)):(k=il(v),k.c(),p(k,1),k.m(C,null)):k&&(de(),E(k,1,1,()=>{k=null}),he())},i(v){L||(p(w),p(k),L=!0)},o(v){E(w),E(k),L=!1},d(v){v&&c(e),w&&w.d(),v&&c(M),v&&c(C),k&&k.d(),D=!1,O()}}}function $t(i){let e,t,l=i[0].ui.media_paths,n=[];for(let r=0;r<l.length;r+=1)n[r]=ll(xt(i,l,r));const s=r=>E(n[r],1,1,()=>{n[r]=null});return{c(){e=P("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=S(r,"DIV",{class:!0});var o=b(e);for(let a=0;a<n.length;a+=1)n[a].l(o);o.forEach(c),this.h()},h(){I(e,"class","table-row-group")},m(r,o){z(r,e,o);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);t=!0},p(r,o){if(o[0]&15875){l=r[0].ui.media_paths;let a;for(a=0;a<l.length;a+=1){const u=xt(r,l,a);n[a]?(n[a].p(u,o),p(n[a],1)):(n[a]=ll(u),n[a].c(),p(n[a],1),n[a].m(e,null))}for(de(),a=l.length;a<n.length;a+=1)s(a);he()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)p(n[o]);t=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)E(n[o]);t=!1},d(r){r&&c(e),it(n,r)}}}function el(i){let e,t,l,n,s,r=i[30].path.indexOf(Qe)>=0,o,a,u=$e(i[30].path)+"",f,d,_,h,M,C,L,D,O,w,k,v,q,V,K,U,X,N,g,A,j,B,y;const F=[vr,br],W=[];function R(J,re){return J[30].dtype&&J[30].dtype.type!=="map"?0:1}l=R(i),n=W[l]=F[l](i);let H=r&&tl();function me(...J){return i[17](i[30],...J)}h=new Jl({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:i[12](i[30])}}),h.$on("toggle",me),w=new pi({props:{size:16}});function Z(){return i[18](i[30])}V=new gi({props:{size:16}});function oe(){return i[19](i[30])}g=new xl({props:{size:16}});function se(){return i[20](i[30])}return{c(){e=P("div"),t=P("div"),n.c(),s=x(),H&&H.c(),o=x(),a=P("div"),f=ee(u),d=x(),_=P("div"),le(h.$$.fragment),M=x(),C=P("div"),L=P("div"),D=P("div"),O=P("button"),le(w.$$.fragment),k=x(),v=P("div"),q=P("button"),le(V.$$.fragment),U=x(),X=P("div"),N=P("button"),le(g.$$.fragment),A=x(),this.h()},l(J){e=S(J,"DIV",{class:!0});var re=b(e);t=S(re,"DIV",{class:!0});var ge=b(t);n.l(ge),s=$(ge),H&&H.l(ge),ge.forEach(c),o=$(re),a=S(re,"DIV",{class:!0});var Pe=b(a);f=te(Pe,u),Pe.forEach(c),d=$(re),_=S(re,"DIV",{class:!0});var Te=b(_);ae(h.$$.fragment,Te),Te.forEach(c),M=$(re),C=S(re,"DIV",{class:!0});var Y=b(C);L=S(Y,"DIV",{class:!0});var T=b(L);D=S(T,"DIV",{class:!0});var ue=b(D);O=S(ue,"BUTTON",{});var Me=b(O);ae(w.$$.fragment,Me),Me.forEach(c),ue.forEach(c),k=$(T),v=S(T,"DIV",{class:!0});var De=b(v);q=S(De,"BUTTON",{});var Le=b(q);ae(V.$$.fragment,Le),Le.forEach(c),De.forEach(c),U=$(T),X=S(T,"DIV",{class:!0});var ve=b(X);N=S(ve,"BUTTON",{});var Ae=b(N);ae(g.$$.fragment,Ae),Ae.forEach(c),ve.forEach(c),T.forEach(c),Y.forEach(c),A=$(re),re.forEach(c),this.h()},h(){I(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),G(t,"bg-blue-200",i[33]),G(t,"bg-teal-100",i[34]),I(a,"class","table-cell w-40 align-middle"),I(_,"class","table-cell w-8 align-middle"),O.disabled=i[35],G(O,"opacity-50",i[35]),I(D,"class","ml-auto align-middle"),q.disabled=K=i[36],G(q,"opacity-50",i[36]),I(v,"class","align-middle"),I(X,"class","align-middle"),I(L,"class","flex flex-row gap-x-1"),I(C,"class","table-cell"),I(e,"class","table-row h-10")},m(J,re){z(J,e,re),m(e,t),W[l].m(t,null),m(t,s),H&&H.m(t,null),m(e,o),m(e,a),m(a,f),m(e,d),m(e,_),ie(h,_,null),m(e,M),m(e,C),m(C,L),m(L,D),m(D,O),ie(w,O,null),m(L,k),m(L,v),m(v,q),ie(V,q,null),m(L,U),m(L,X),m(X,N),ie(g,N,null),m(e,A),j=!0,B||(y=[ze(O,"click",Z),Oe(Ve.call(null,D,{text:"Move media field up"})),ze(q,"click",oe),Oe(Ve.call(null,v,{text:"Move media field down"})),ze(N,"click",se),Oe(Ve.call(null,X,{text:"Remove media field"}))],B=!0)},p(J,re){i=J;let ge=l;l=R(i),l===ge?W[l].p(i,re):(de(),E(W[ge],1,1,()=>{W[ge]=null}),he(),n=W[l],n?n.p(i,re):(n=W[l]=F[l](i),n.c()),p(n,1),n.m(t,s)),re[0]&3&&(r=i[30].path.indexOf(Qe)>=0),r?H||(H=tl(),H.c(),H.m(t,null)):H&&(H.d(1),H=null),(!j||re[0]&3)&&G(t,"bg-blue-200",i[33]),(!j||re[0]&3)&&G(t,"bg-teal-100",i[34]),(!j||re[0]&3)&&u!==(u=$e(i[30].path)+"")&&be(f,u);const Pe={};re[0]&3&&(Pe.toggled=i[12](i[30])),h.$set(Pe),(!j||re[0]&1&&K!==(K=i[36]))&&(q.disabled=K),(!j||re[0]&1)&&G(q,"opacity-50",i[36])},i(J){j||(p(n),p(h.$$.fragment,J),p(w.$$.fragment,J),p(V.$$.fragment,J),p(g.$$.fragment,J),j=!0)},o(J){E(n),E(h.$$.fragment,J),E(w.$$.fragment,J),E(V.$$.fragment,J),E(g.$$.fragment,J),j=!1},d(J){J&&c(e),W[l].d(),H&&H.d(),ne(h),ne(w),ne(V),ne(g),B=!1,Fe(y)}}}function br(i){let e,t="{}",l,n;return{c(){e=P("span"),l=ee(t),this.h()},l(s){e=S(s,"SPAN",{class:!0,title:!0});var r=b(e);l=te(r,t),r.forEach(c),this.h()},h(){var s;I(e,"class","font-mono"),I(e,"title",n=(s=i[30].dtype)==null?void 0:s.type)},m(s,r){z(s,e,r),m(e,l)},p(s,r){var o;r[0]&3&&n!==(n=(o=s[30].dtype)==null?void 0:o.type)&&I(e,"title",n)},i:Q,o:Q,d(s){s&&c(e)}}}function vr(i){let e,t,l;var n=gt[i[30].dtype.type];function s(r){return{props:{title:r[30].dtype.type}}}return n&&(e=Ye(n,s(i))),{c(){e&&le(e.$$.fragment),t=Se()},l(r){e&&ae(e.$$.fragment,r),t=Se()},m(r,o){e&&ie(e,r,o),z(r,t,o),l=!0},p(r,o){const a={};if(o[0]&3&&(a.title=r[30].dtype.type),o[0]&3&&n!==(n=gt[r[30].dtype.type])){if(e){de();const u=e;E(u.$$.fragment,1,0,()=>{ne(u,1)}),he()}n?(e=Ye(n,s(r)),le(e.$$.fragment),p(e.$$.fragment,1),ie(e,t.parentNode,t)):e=null}else n&&e.$set(a)},i(r){l||(e&&p(e.$$.fragment,r),l=!0)},o(r){e&&E(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&ne(e,r)}}}function tl(i){let e;return{c(){e=ee("[]")},l(t){e=te(t,"[]")},m(t,l){z(t,e,l)},d(t){t&&c(e)}}}function ll(i){let e,t,l=i[30]&&el(ct(i));return{c(){l&&l.c(),e=Se()},l(n){l&&l.l(n),e=Se()},m(n,s){l&&l.m(n,s),z(n,e,s),t=!0},p(n,s){n[30]?l?(l.p(ct(n),s),s[0]&3&&p(l,1)):(l=el(ct(n)),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(de(),E(l,1,1,()=>{l=null}),he())},i(n){t||(p(l),t=!0)},o(n){E(l),t=!1},d(n){l&&l.d(n),n&&c(e)}}}function il(i){let e,t;return e=new dt({props:{buttonOutline:!0,disabled:i[3].length===0,buttonIcon:hi,items:i[3],buttonText:"Add media field",comboBoxPlaceholder:"Add media field",hoist:!1}}),e.$on("select",i[8]),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},p(l,n){const s={};n[0]&8&&(s.disabled=l[3].length===0),n[0]&8&&(s.items=l[3]),e.$set(s)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function pr(i){var l;let e,t;return e=new Xl({props:{selected:((l=i[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[kr]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){le(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,s){ie(e,n,s),t=!0},p(n,s){var o;const r={};s[0]&1&&(r.selected=((o=n[0])==null?void 0:o.preferred_embedding)||void 0),s[0]&64|s[1]&64&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function wr(i){let e,t;return e=new _l({}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},p:Q,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function nl(i){let e,t;return e=new gl({props:{value:i[26].name}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){ie(e,l,n),t=!0},p(l,n){const s={};n[0]&64&&(s.value=l[26].name),e.$set(s)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){E(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function kr(i){let e,t,l,n;e=new gl({props:{value:void 0,text:"None"}});let s=i[6].data||[],r=[];for(let a=0;a<s.length;a+=1)r[a]=nl(Jt(i,s,a));const o=a=>E(r[a],1,1,()=>{r[a]=null});return{c(){le(e.$$.fragment),t=x();for(let a=0;a<r.length;a+=1)r[a].c();l=Se()},l(a){ae(e.$$.fragment,a),t=$(a);for(let u=0;u<r.length;u+=1)r[u].l(a);l=Se()},m(a,u){ie(e,a,u),z(a,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,u);z(a,l,u),n=!0},p(a,u){if(u[0]&64){s=a[6].data||[];let f;for(f=0;f<s.length;f+=1){const d=Jt(a,s,f);r[f]?(r[f].p(d,u),p(r[f],1)):(r[f]=nl(d),r[f].c(),p(r[f],1),r[f].m(l.parentNode,l))}for(de(),f=s.length;f<r.length;f+=1)o(f);he()}},i(a){if(!n){p(e.$$.fragment,a);for(let u=0;u<s.length;u+=1)p(r[u]);n=!0}},o(a){E(e.$$.fragment,a),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)E(r[u]);n=!1},d(a){ne(e,a),a&&c(t),it(r,a),a&&c(l)}}}function yr(i){let e,t,l,n;const s=[mr,hr],r=[];function o(a,u){return a[0]==null||a[2].data==null?0:1}return e=o(i),t=r[e]=s[e](i),{c(){t.c(),l=Se()},l(a){t.l(a),l=Se()},m(a,u){r[e].m(a,u),z(a,l,u),n=!0},p(a,u){let f=e;e=o(a),e===f?r[e].p(a,u):(de(),E(r[f],1,1,()=>{r[f]=null}),he(),t=r[e],t?t.p(a,u):(t=r[e]=s[e](a),t.c()),p(t,1),t.m(l.parentNode,l))},i(a){n||(p(t),n=!0)},o(a){E(t),n=!1},d(a){r[e].d(a),a&&c(l)}}}function Ir(i,e,t){let l,n,s,r,o,a=Q,u=()=>(a(),a=Ce(l,B=>t(2,o=B)),l),f;i.$$.on_destroy.push(()=>a());let{namespace:d}=e,{datasetName:_}=e,{newSettings:h}=e;const M=Ql();He(i,M,B=>t(6,f=B));function C(B){const y=B.detail.id;h.ui==null&&t(0,h.ui={},h),h.ui.media_paths==null&&t(0,h.ui.media_paths=[],h),h.ui.media_paths.find(W=>Be(W,y.path))==null&&t(0,h.ui.media_paths=[...h.ui.media_paths,y.path],h)}function L(B){var y;((y=h.ui)==null?void 0:y.media_paths)!=null&&t(0,h.ui.media_paths=h.ui.media_paths.filter(F=>!Be(F,B.path)),h)}function D(B){var F;if(((F=h.ui)==null?void 0:F.media_paths)==null)return;const y=h.ui.media_paths.findIndex(W=>Be(W,B.path));y<=0||t(0,h.ui.media_paths=[...h.ui.media_paths.slice(0,y-1),B.path,h.ui.media_paths[y-1],...h.ui.media_paths.slice(y+1)],h)}function O(B){var F;if(((F=h.ui)==null?void 0:F.media_paths)==null)return;const y=h.ui.media_paths.findIndex(W=>Be(W,B.path));y<0||y>=h.ui.media_paths.length-1||t(0,h.ui.media_paths=[...h.ui.media_paths.slice(0,y),h.ui.media_paths[y+1],B.path,...h.ui.media_paths.slice(y+2)],h)}function w(B){var y,F;return((F=(y=h.ui)==null?void 0:y.markdown_paths)==null?void 0:F.find(W=>Be(W,B.path)))!=null}function k(B,y){B.detail.toggled?v(y):q(y)}function v(B){h.ui==null&&t(0,h.ui={},h),h.ui.markdown_paths==null&&t(0,h.ui.markdown_paths=[],h),h.ui.markdown_paths.find(F=>Be(F,B.path))==null&&t(0,h.ui.markdown_paths=[...h.ui.markdown_paths,B.path],h)}function q(B){h.ui!=null&&h.ui.markdown_paths!=null&&t(0,h.ui.markdown_paths=h.ui.markdown_paths.filter(y=>!Be(y,B.path)),h)}function V(B){const y=B.target.value;t(0,h.preferred_embedding=y===""?void 0:y,h)}const K=(B,y)=>k(y,B),U=B=>D(B),X=B=>O(B),N=B=>L(B),g=(B,y)=>Be(y.path,B),A=()=>{(h==null?void 0:h.ui)!=null&&t(0,h.ui.view_type="scroll",h)},j=()=>{(h==null?void 0:h.ui)!=null&&t(0,h.ui.view_type="single_item",h)};return i.$$set=B=>{"namespace"in B&&t(15,d=B.namespace),"datasetName"in B&&t(16,_=B.datasetName),"newSettings"in B&&t(0,h=B.newSettings)},i.$$.update=()=>{var B;i.$$.dirty[0]&98304&&u(t(5,l=rt(d,_))),i.$$.dirty[0]&1&&t(4,n=((B=h==null?void 0:h.ui)==null?void 0:B.view_type)||"single_item"),i.$$.dirty[0]&4&&t(1,s=o.data!=null?Gl(o.data).filter(y=>{var F;return((F=y.dtype)==null?void 0:F.type)==="string"&&!Be(y.path,[Kl])&&!hl(y)&&!ml(y)}):null),i.$$.dirty[0]&3&&t(3,r=s!=null?s.filter(y=>{var F,W;return!((W=(F=h.ui)==null?void 0:F.media_paths)!=null&&W.includes(y.path))}).map(y=>{const F=$e(y.path);return{id:y,text:F}}):null)},[h,s,o,r,n,l,f,M,C,L,D,O,w,k,V,d,_,K,U,X,N,g,A,j]}class Nr extends ye{constructor(e){super(),Ie(this,e,Ir,yr,Ee,{namespace:15,datasetName:16,newSettings:0},null,[-1,-1])}}export{hi as A,Nr as D,en as E,Rr as R,vl as T};
