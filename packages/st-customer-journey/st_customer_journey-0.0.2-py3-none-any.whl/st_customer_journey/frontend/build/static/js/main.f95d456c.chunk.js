(this.webpackJsonpst_customer_journey=this.webpackJsonpst_customer_journey||[]).push([[0],{41:function(t,e,n){t.exports=n(51)},51:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),l=n(4),s=n(2),c=n(13);var d=Object(s.b)(t=>{const{content:e,space_main_nodes:n,space_between_child_nodes:o,custom_font_awesome_url:i,height_user:d,max_width:u,first_child_extra_space:p,mainLabelOffset:h,custom_css:f}=t.args,y=Object(a.useRef)(null),[m,b]=Object(a.useState)(500);let g=null;const[x,v]=Object(a.useState)(null);Object(a.useEffect)(()=>{var t;if(!e||!y.current)return;const a=k(e),r=n,i=o,c={top:25,right:25,bottom:50,left:40},f=(null===(t=y.current.parentElement)||void 0===t||t.offsetWidth,_(e,i,a,c));b(f+c.top+c.bottom),l.a(y.current).selectAll("*").remove();const w="translate(".concat(c.left,",0)"),E=l.a(y.current).append("svg").attr("width",u).attr("height",m).append("g").attr("transform",w);e.forEach((t,n)=>{const a=n*r,o=f/2;if(t.center={x:a,y:o},t.children&&t.children.length>0&&t.children.forEach((e,n)=>{var r,l;const s=e.size||10,c=z(a,o,t.expand_direction||"up",i,n,s,null!==(r=null===(l=t.children)||void 0===l?void 0:l.length)&&void 0!==r?r:0,p);e.center=c,E.append("line").attr("x1",a).attr("y1",o).attr("x2",e.center.x).attr("y2",e.center.y).attr("stroke","black").attr("stroke-width",2).lower()}),n<e.length-1){const i=e[n+1],l=a+(t.size||10)/2,s=(n+1)*r-(i.size||10)/2;E.append("line").attr("x1",l).attr("y1",o).attr("x2",s).attr("y2",o).attr("stroke","black").attr("stroke-width",2).lower()}}),e.forEach((t,e)=>{const n=e*r,a=f/2;function o(t,e){v(e),g=t}function c(t,e,n){const a=e;if(a.tooltip){l.a("#node-tooltip").html(a.tooltip).style("visibility","visible").style("left",t.pageX+10+"px").style("top",t.pageY+10+"px")}}function d(){l.a("#node-tooltip").style("visibility","hidden")}t.center={x:n,y:a};function u(t,e,n){const a=e;a.id!==x&&n.transition().duration(200).attr("r",1.1*(a.size||10)).style("stroke","black").style("stroke-width","2px")}function y(t,e,n){const a=e;a.id!==x&&n.transition().duration(200).attr("r",a.size||10).style("stroke",null).style("stroke-width",null)}const m=E.append("defs").append("filter").attr("id","drop-shadow").attr("height","130%");m.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3).attr("result","blur"),m.append("feOffset").attr("in","blur").attr("dx",2).attr("dy",2).attr("result","offsetBlur"),m.append("feMerge").call(t=>{t.append("feMergeNode").attr("in","offsetBlur"),t.append("feMergeNode").attr("in","SourceGraphic")});const b=E.append("g").attr("class","node-group").attr("transform","translate(".concat(n,",").concat(a,")")),_=b.append("circle").attr("r",t.size?t.id===x?1.05*t.size:t.size:10).attr("fill",t.color||"gray").attr("style",t.id===x?"stroke: black; stroke-width: 2px;":t.node_style||"").attr("filter",t.id===x?"url(#drop-shadow)":null).datum(t);if(_.on("click",()=>{t.disabled||(v(t.id),s.a.setComponentValue({node:t,return_value:t.return_value,id:t.id}))}),t.disabled||(_.style("cursor","pointer"),_.on("mouseover",(function(t,e){u(0,e,_),c(t,e)})),_.on("mouseout",(function(t,e){y(0,e,_),d()}))),t.icon){const e=b.append("foreignObject").attr("width",t.size||10).attr("height",t.size||10).attr("x",-(t.size||10)/2).attr("y",-(t.size||10)/2).append("xhtml:div").attr("class","icon-container").style("display","flex").style("align-items","center").style("justify-content","center").style("height","".concat(t.size||20,"px")).style("line-height","".concat(t.size||20,"px")).html('<i class="'.concat(t.icon,'" style="').concat(t.icon_style,'"></i>')).datum(t);t.disabled||(e.style("cursor","pointer"),e.on("click",()=>{o(_,t.id),s.a.setComponentValue({node:t,return_value:t.return_value,id:t.id})}),e.on("mouseover",(function(t,e){c(t,e),u(0,e,_)})),e.on("mouseout",(function(t,e){d(),y(0,e,_)})))}if(t.label){const e=h||40,n=E.append("text").attr("visibility","hidden").attr("style",t.label_style||"").text(t.label),a=n.node().getComputedTextLength();n.remove();let r=0,o=0;const i=a/2;switch(t.label_position){case"top":r=-i,o=-e;break;case"bottom":o=e,r=-i;break;case"left":r=-i;break;case"right":r=i;break;default:r=0,o=e}b.append("text").attr("x",r).attr("y",o).attr("style",t.label_style||"").html(t.label)}t.children&&t.children.length>0&&t.children.forEach((e,r)=>{var l,h;const f=z(n,a,t.expand_direction||"up",i,r,e.size||10,null!==(l=null===(h=t.children)||void 0===h?void 0:h.length)&&void 0!==l?l:0,p);e.center=f;const m=E.append("g").attr("class","node-group").attr("transform","translate(".concat(f.x,",").concat(f.y,")")),b=m.append("circle").attr("r",e.size?e.id===x?1.1*e.size:e.size:5).attr("fill",e.color||"gray").attr("style",e.id===x?"stroke: black; stroke-width: 2px;":e.node_style||"").datum(e);b.on("click",()=>{e.disabled||(o(b,e.id),s.a.setComponentValue({node:t,return_value:e.return_value,id:e.id}))}),e.disabled?(b.on("mouseover",(function(t,e){c(t,e)})),b.on("mouseout",(function(t,e){d()}))):(b.style("cursor","pointer"),b.on("mouseover",(function(t,e){c(t,e),u(0,e,b)})),b.on("mouseout",(function(t,e){d(),y(0,e,b)}))),e.icon&&(m.append("foreignObject").attr("width",e.size||5).attr("height",e.size||5).attr("x",-(e.size||5)/2).attr("y",-(e.size||5)/2).append("xhtml:div").attr("class","icon-container").style("display","flex").style("align-items","center").style("justify-content","center").style("height","".concat(e.size||10,"px")).style("line-height","".concat(e.size||10,"px")).html('<i class="'.concat(e.icon,'" style="').concat(e.icon_style,'"></i>')).datum(e),e.disabled||(b.style("cursor","pointer"),b.on("click",()=>{o(b,e.id),s.a.setComponentValue({node:t,return_value:e.return_value,id:e.id})}),b.on("mouseover",(function(t,e){u(0,e,b)})),b.on("mouseout",(function(t,e){y(0,e,b)})))),e.label&&m.append("text").attr("x","right"===e.label_position?15:-100).attr("y",5).attr("style",e.label_style||"").html(e.label)})}),s.a.setFrameHeight(d)},[e,n,o]);const _=(t,e,n,a)=>200+n*e,k=t=>Math.max(...t.map(t=>t.children?t.children.length:0)),z=(t,e,n,a,r,o,i,l)=>{const s="up"===n?-1:1;var c=s*a*r;return c+=s*o/2,{x:t,y:e+(c+=s*l)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("style",null,f),r.a.createElement(c.a,null,r.a.createElement("script",{src:i,crossOrigin:"anonymous",id:"font-awesome-icons"})),r.a.createElement("div",{style:{overflowX:"auto",width:"100%"}},r.a.createElement("svg",{ref:y,style:{height:"".concat(m,"px"),minWidth:u}})),r.a.createElement("div",{id:"node-tooltip",style:{position:"absolute",visibility:"hidden",padding:"10px",background:"rgba(255, 255, 255, 0.9)",border:"1.5px solid #ddd",borderRadius:"4px",pointerEvents:"none",zIndex:10}}))});i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.f95d456c.chunk.js.map