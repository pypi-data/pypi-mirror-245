(this.webpackJsonpst_customer_journey=this.webpackJsonpst_customer_journey||[]).push([[0],{41:function(t,e,n){t.exports=n(51)},51:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(11),r=n.n(o),l=n(4),s=n(2),c=n(13);var d=Object(s.b)(t=>{const{content:e,space_main_nodes:n,space_between_child_nodes:o,custom_font_awesome_url:r,height_user:d,max_width:u,first_child_extra_space:p,mainLabelOffset:h,custom_css:m,tooltipStyle:y,mainNodeHoverStyle:f,mainNodeClickedStyle:b,mainNodeDefaultStyle:g,childNodeHoverStyle:v,childNodeClickedStyle:_,childNodeDefaultStyle:x,mainNodeLineStyle:k}=t.args,z=Object(a.useRef)(null),[w,E]=Object(a.useState)(500);let S=null;const[j,O]=Object(a.useState)(null);Object(a.useEffect)(()=>{var t;if(!e||!z.current)return;const a=C(e),i=n,r=o,c={top:25,right:25,bottom:50,left:40},m=(null===(t=z.current.parentElement)||void 0===t||t.offsetWidth,N(e,r,a,c));E(m+c.top+c.bottom),l.a(z.current).selectAll("*").remove();const y="translate(".concat(c.left,",0)"),f=l.a(z.current).attr("class","svg-customer-journey").append("svg").attr("width",u).attr("height",w).append("g").attr("transform",y);e.forEach((t,n)=>{const a=n*i,o=m/2;if(t.center={x:a,y:o},t.children&&t.children.length>0&&t.children.forEach((e,n)=>{var i,l;const s=e.size||10,c=M(a,o,t.expand_direction||"up",r,n,s,null!==(i=null===(l=t.children)||void 0===l?void 0:l.length)&&void 0!==i?i:0,p);e.center=c,f.append("line").attr("class","line_betweend_main_and_child_nodes").attr("x1",a).attr("y1",o).attr("x2",e.center.x).attr("y2",e.center.y).attr("stroke","black").attr("stroke-width",2).lower()}),n<e.length-1){const r=e[n+1],l=a+(t.size||10)/2,s=(n+1)*i-(r.size||10)/2;f.append("line").attr("class","line_between_main_nodes").attr("x1",l).attr("y1",o).attr("x2",s).attr("y2",o).attr("stroke","black").attr("stroke-width",2).lower()}}),e.forEach((t,e)=>{const n=e*i,a=m/2;function o(t,e){O(e),S=t}function c(t,e,n){const a=e;if(a.tooltip){l.a("#node-tooltip").html(a.tooltip).style("visibility","visible").style("left",t.pageX+10+"px").style("top",t.pageY+10+"px")}}function d(){l.a("#node-tooltip").style("visibility","hidden")}t.center={x:n,y:a};function u(t,e,n){const a=e;a.id!==j&&n.transition().duration(200).attr("r",1.1*(a.size||10)).style("stroke","black").style("stroke-width","2px")}function y(t,e,n){const a=e;a.id!==j&&n.transition().duration(200).attr("r",a.size||10).style("stroke",null).style("stroke-width",null)}const b=f.append("defs").append("filter").attr("id","drop-shadow").attr("height","130%");b.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3).attr("result","blur"),b.append("feOffset").attr("in","blur").attr("dx",2).attr("dy",2).attr("result","offsetBlur"),b.append("feMerge").call(t=>{t.append("feMergeNode").attr("in","offsetBlur"),t.append("feMergeNode").attr("in","SourceGraphic")});const g=f.append("g").attr("class","main-node-group").attr("id","main-node-group-".concat(t.id)).attr("transform","translate(".concat(n,",").concat(a,")")),v=g.append("circle").attr("id","main-node-".concat(t.id)).attr("class","main-node").attr("r",t.size?t.id===j?1.05*t.size:t.size:10).attr("fill",t.color||"gray").attr("style",t.id===j?"stroke: black; stroke-width: 2px;":t.node_style||"").attr("filter",t.id===j?"url(#drop-shadow)":null).datum(t);if(v.on("click",()=>{t.disabled||(O(t.id),s.a.setComponentValue({node:t,return_value:t.return_value,id:t.id}))}),t.disabled||(v.style("cursor","pointer"),v.on("mouseover",(function(t,e){u(0,e,v),c(t,e)})),v.on("mouseout",(function(t,e){y(0,e,v),d()}))),t.icon){const e=g.append("foreignObject").attr("id","main-node-icon-".concat(t.id)).attr("width",t.size||10).attr("height",t.size||10).attr("x",-(t.size||10)/2).attr("y",-(t.size||10)/2).append("xhtml:div").attr("class","icon-container main-node-icon").style("display","flex").style("align-items","center").style("justify-content","center").style("height","".concat(t.size||20,"px")).style("line-height","".concat(t.size||20,"px")).html('<i class="'.concat(t.icon,'" style="').concat(t.icon_style,'"></i>')).datum(t);t.disabled||(e.style("cursor","pointer"),e.on("click",()=>{o(v,t.id),s.a.setComponentValue({node:t,return_value:t.return_value,id:t.id})}),e.on("mouseover",(function(t,e){c(t,e),u(0,e,v)})),e.on("mouseout",(function(t,e){d(),y(0,e,v)})))}if(t.label){const e=h||40,n=f.append("text").attr("class","main-node-label").attr("id","main-node-label-".concat(t.id)).attr("visibility","hidden").attr("style",t.label_style||"").text(t.label),a=n.node().getComputedTextLength();n.remove();let i=0,o=0;const r=a/2;switch(t.label_position){case"top":i=-r,o=-e;break;case"bottom":o=e,i=-r;break;case"left":i=-r;break;case"right":i=r;break;default:i=0,o=e}g.append("text").attr("class","main-node-label").attr("id","main-node-label-".concat(t.id)).attr("x",i).attr("y",o).attr("style",t.label_style||"").html(t.label)}t.children&&t.children.length>0&&t.children.forEach((e,i)=>{var l,h;const m=M(n,a,t.expand_direction||"up",r,i,e.size||10,null!==(l=null===(h=t.children)||void 0===h?void 0:h.length)&&void 0!==l?l:0,p);e.center=m;const b=f.append("g").attr("id","child-node-group-".concat(e.id)).attr("class","child-node-group").attr("transform","translate(".concat(m.x,",").concat(m.y,")")),g=b.append("circle").attr("id","child-node-".concat(e.id)).attr("class","child-node").attr("r",e.size?e.id===j?1.1*e.size:e.size:5).attr("fill",e.color||"gray").attr("style",e.id===j?"stroke: black; stroke-width: 2px;":e.node_style||"").datum(e);g.on("click",()=>{e.disabled||(o(g,e.id),s.a.setComponentValue({node:t,return_value:e.return_value,id:e.id}))}),e.disabled?(g.on("mouseover",(function(t,e){c(t,e)})),g.on("mouseout",(function(t,e){d()}))):(g.style("cursor","pointer"),g.on("mouseover",(function(t,e){c(t,e),u(0,e,g)})),g.on("mouseout",(function(t,e){d(),y(0,e,g)}))),e.icon&&(b.append("foreignObject").attr("id","child-node-icon-".concat(e.id)).attr("width",e.size||5).attr("height",e.size||5).attr("x",-(e.size||5)/2).attr("y",-(e.size||5)/2).append("xhtml:div").attr("class","icon-container child-node-icon-container").style("display","flex").style("align-items","center").style("justify-content","center").style("height","".concat(e.size||10,"px")).style("line-height","".concat(e.size||10,"px")).html('<i class="'.concat(e.icon,'" style="').concat(e.icon_style,'"></i>')).datum(e),e.disabled||(g.style("cursor","pointer"),g.on("click",()=>{o(g,e.id),s.a.setComponentValue({node:t,return_value:e.return_value,id:e.id})}),g.on("mouseover",(function(t,e){u(0,e,g)})),g.on("mouseout",(function(t,e){y(0,e,g)})))),e.label&&b.append("text").attr("class","child-node-label").attr("id","child-node-label-".concat(e.id)).attr("x","right"===e.label_position?15:-100).attr("y",5).attr("style",e.label_style||"").html(e.label)})}),s.a.setFrameHeight(d)},[e,n,o]);const N=(t,e,n,a)=>200+n*e,C=t=>Math.max(...t.map(t=>t.children?t.children.length:0)),M=(t,e,n,a,i,o,r,l)=>{const s="up"===n?-1:1;var c=s*a*i;return c+=s*o/2,{x:t,y:e+(c+=s*l)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement("style",null,m),i.a.createElement(c.a,null,i.a.createElement("script",{src:r,crossOrigin:"anonymous",id:"font-awesome-icons"})),i.a.createElement("div",{style:{overflowX:"auto",width:"100%"}},i.a.createElement("svg",{ref:z,style:{height:"".concat(w,"px"),minWidth:u}})),i.a.createElement("div",{id:"node-tooltip",style:{position:"absolute",visibility:"hidden",padding:"10px",background:"rgba(255, 255, 255, 0.9)",border:"1.5px solid #ddd",borderRadius:"4px",pointerEvents:"none",zIndex:10,...y}}))});r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(d,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3358f16a.chunk.js.map